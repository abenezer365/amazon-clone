(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function ES(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dm={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function IR(){if(B0)return nu;B0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return nu.Fragment=e,nu.jsx=t,nu.jsxs=t,nu}var H0;function OR(){return H0||(H0=1,dm.exports=IR()),dm.exports}var w=OR(),pm={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function xR(){if(q0)return Pe;q0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,z={};function P(U,te,de){this.props=U,this.context=te,this.refs=z,this.updater=de||N}P.prototype.isReactComponent={},P.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},P.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=P.prototype;function j(U,te,de){this.props=U,this.context=te,this.refs=z,this.updater=de||N}var H=j.prototype=new F;H.constructor=j,O(H,P.prototype),H.isPureReactComponent=!0;var ie=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function L(U,te,de,he,ye,De){return de=De.ref,{$$typeof:n,type:U,key:te,ref:de!==void 0?de:null,props:De}}function b(U,te){return L(U.type,te,void 0,void 0,void 0,U.props)}function A(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function M(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(de){return te[de]})}var D=/\/+/g;function C(U,te){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):te.toString(36)}function I(){}function ue(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(I,I):(U.status="pending",U.then(function(te){U.status==="pending"&&(U.status="fulfilled",U.value=te)},function(te){U.status==="pending"&&(U.status="rejected",U.reason=te)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function k(U,te,de,he,ye){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var Re=!1;if(U===null)Re=!0;else switch(De){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(U.$$typeof){case n:case e:Re=!0;break;case v:return Re=U._init,k(Re(U._payload),te,de,he,ye)}}if(Re)return ye=ye(U),Re=he===""?"."+C(U,0):he,ie(ye)?(de="",Re!=null&&(de=Re.replace(D,"$&/")+"/"),k(ye,te,de,"",function(hr){return hr})):ye!=null&&(A(ye)&&(ye=b(ye,de+(ye.key==null||U&&U.key===ye.key?"":(""+ye.key).replace(D,"$&/")+"/")+Re)),te.push(ye)),1;Re=0;var It=he===""?".":he+":";if(ie(U))for(var Je=0;Je<U.length;Je++)he=U[Je],De=It+C(he,Je),Re+=k(he,te,de,De,ye);else if(Je=S(U),typeof Je=="function")for(U=Je.call(U),Je=0;!(he=U.next()).done;)he=he.value,De=It+C(he,Je++),Re+=k(he,te,de,De,ye);else if(De==="object"){if(typeof U.then=="function")return k(ue(U),te,de,he,ye);throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Re}function G(U,te,de){if(U==null)return U;var he=[],ye=0;return k(U,he,"","",function(De){return te.call(de,De,ye++)}),he}function X(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(de){(U._status===0||U._status===-1)&&(U._status=1,U._result=de)},function(de){(U._status===0||U._status===-1)&&(U._status=2,U._result=de)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var ae=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function ge(){}return Pe.Children={map:G,forEach:function(U,te,de){G(U,function(){te.apply(this,arguments)},de)},count:function(U){var te=0;return G(U,function(){te++}),te},toArray:function(U){return G(U,function(te){return te})||[]},only:function(U){if(!A(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Pe.Component=P,Pe.Fragment=t,Pe.Profiler=a,Pe.PureComponent=j,Pe.StrictMode=i,Pe.Suspense=m,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return q.H.useMemoCache(U)}},Pe.cache=function(U){return function(){return U.apply(null,arguments)}},Pe.cloneElement=function(U,te,de){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var he=O({},U.props),ye=U.key,De=void 0;if(te!=null)for(Re in te.ref!==void 0&&(De=void 0),te.key!==void 0&&(ye=""+te.key),te)!ee.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(he[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)he.children=de;else if(1<Re){for(var It=Array(Re),Je=0;Je<Re;Je++)It[Je]=arguments[Je+2];he.children=It}return L(U.type,ye,void 0,void 0,De,he)},Pe.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Pe.createElement=function(U,te,de){var he,ye={},De=null;if(te!=null)for(he in te.key!==void 0&&(De=""+te.key),te)ee.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ye[he]=te[he]);var Re=arguments.length-2;if(Re===1)ye.children=de;else if(1<Re){for(var It=Array(Re),Je=0;Je<Re;Je++)It[Je]=arguments[Je+2];ye.children=It}if(U&&U.defaultProps)for(he in Re=U.defaultProps,Re)ye[he]===void 0&&(ye[he]=Re[he]);return L(U,De,void 0,void 0,null,ye)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(U){return{$$typeof:d,render:U}},Pe.isValidElement=A,Pe.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:X}},Pe.memo=function(U,te){return{$$typeof:g,type:U,compare:te===void 0?null:te}},Pe.startTransition=function(U){var te=q.T,de={};q.T=de;try{var he=U(),ye=q.S;ye!==null&&ye(de,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ge,ae)}catch(De){ae(De)}finally{q.T=te}},Pe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Pe.use=function(U){return q.H.use(U)},Pe.useActionState=function(U,te,de){return q.H.useActionState(U,te,de)},Pe.useCallback=function(U,te){return q.H.useCallback(U,te)},Pe.useContext=function(U){return q.H.useContext(U)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(U,te){return q.H.useDeferredValue(U,te)},Pe.useEffect=function(U,te,de){var he=q.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(U,te)},Pe.useId=function(){return q.H.useId()},Pe.useImperativeHandle=function(U,te,de){return q.H.useImperativeHandle(U,te,de)},Pe.useInsertionEffect=function(U,te){return q.H.useInsertionEffect(U,te)},Pe.useLayoutEffect=function(U,te){return q.H.useLayoutEffect(U,te)},Pe.useMemo=function(U,te){return q.H.useMemo(U,te)},Pe.useOptimistic=function(U,te){return q.H.useOptimistic(U,te)},Pe.useReducer=function(U,te,de){return q.H.useReducer(U,te,de)},Pe.useRef=function(U){return q.H.useRef(U)},Pe.useState=function(U){return q.H.useState(U)},Pe.useSyncExternalStore=function(U,te,de){return q.H.useSyncExternalStore(U,te,de)},Pe.useTransition=function(){return q.H.useTransition()},Pe.version="19.1.0",Pe}var F0;function Es(){return F0||(F0=1,pm.exports=xR()),pm.exports}var J=Es();const Ie=ES(J);var mm={exports:{}},ru={},gm={exports:{}},ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function DR(){return G0||(G0=1,function(n){function e(G,X){var ae=G.length;G.push(X);e:for(;0<ae;){var ge=ae-1>>>1,U=G[ge];if(0<a(U,X))G[ge]=X,G[ae]=U,ae=ge;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var X=G[0],ae=G.pop();if(ae!==X){G[0]=ae;e:for(var ge=0,U=G.length,te=U>>>1;ge<te;){var de=2*(ge+1)-1,he=G[de],ye=de+1,De=G[ye];if(0>a(he,ae))ye<U&&0>a(De,he)?(G[ge]=De,G[ye]=ae,ge=ye):(G[ge]=he,G[de]=ae,ge=de);else if(ye<U&&0>a(De,ae))G[ge]=De,G[ye]=ae,ge=ye;else break e}}return X}function a(G,X){var ae=G.sortIndex-X.sortIndex;return ae!==0?ae:G.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,T=null,S=3,N=!1,O=!1,z=!1,P=!1,F=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ie(G){for(var X=t(g);X!==null;){if(X.callback===null)i(g);else if(X.startTime<=G)i(g),X.sortIndex=X.expirationTime,e(m,X);else break;X=t(g)}}function q(G){if(z=!1,ie(G),!O)if(t(m)!==null)O=!0,ee||(ee=!0,C());else{var X=t(g);X!==null&&k(q,X.startTime-G)}}var ee=!1,L=-1,b=5,A=-1;function M(){return P?!0:!(n.unstable_now()-A<b)}function D(){if(P=!1,ee){var G=n.unstable_now();A=G;var X=!0;try{e:{O=!1,z&&(z=!1,j(L),L=-1),N=!0;var ae=S;try{t:{for(ie(G),T=t(m);T!==null&&!(T.expirationTime>G&&M());){var ge=T.callback;if(typeof ge=="function"){T.callback=null,S=T.priorityLevel;var U=ge(T.expirationTime<=G);if(G=n.unstable_now(),typeof U=="function"){T.callback=U,ie(G),X=!0;break t}T===t(m)&&i(m),ie(G)}else i(m);T=t(m)}if(T!==null)X=!0;else{var te=t(g);te!==null&&k(q,te.startTime-G),X=!1}}break e}finally{T=null,S=ae,N=!1}X=void 0}}finally{X?C():ee=!1}}}var C;if(typeof H=="function")C=function(){H(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ue=I.port2;I.port1.onmessage=D,C=function(){ue.postMessage(null)}}else C=function(){F(D,0)};function k(G,X){L=F(function(){G(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(G){switch(S){case 1:case 2:case 3:var X=3;break;default:X=S}var ae=S;S=X;try{return G()}finally{S=ae}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(G,X){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=S;S=G;try{return X()}finally{S=ae}},n.unstable_scheduleCallback=function(G,X,ae){var ge=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ge+ae:ge):ae=ge,G){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ae+U,G={id:v++,callback:X,priorityLevel:G,startTime:ae,expirationTime:U,sortIndex:-1},ae>ge?(G.sortIndex=ae,e(g,G),t(m)===null&&G===t(g)&&(z?(j(L),L=-1):z=!0,k(q,ae-ge))):(G.sortIndex=U,e(m,G),O||N||(O=!0,ee||(ee=!0,C()))),G},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(G){var X=S;return function(){var ae=S;S=X;try{return G.apply(this,arguments)}finally{S=ae}}}}(ym)),ym}var $0;function NR(){return $0||($0=1,gm.exports=DR()),gm.exports}var vm={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function PR(){if(K0)return en;K0=1;var n=Es();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,en.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},en.flushSync=function(m){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=v,i.d.f()}},en.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},en.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},en.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:N}):v==="script"&&i.d.X(m,{crossOrigin:T,integrity:S,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},en.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},en.requestFormReset=function(m){i.d.r(m)},en.unstable_batchedUpdates=function(m,g){return m(g)},en.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.1.0",en}var Y0;function MR(){if(Y0)return vm.exports;Y0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vm.exports=PR(),vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function kR(){if(Q0)return ru;Q0=1;var n=NR(),e=Es(),t=MR();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return d(f),r;if(p===u)return d(f),s;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=p;else{for(var E=!1,R=f.child;R;){if(R===o){E=!0,o=f,u=p;break}if(R===u){E=!0,u=f,o=p;break}R=R.sibling}if(!E){for(R=p.child;R;){if(R===o){E=!0,o=p,u=f;break}if(R===u){E=!0,u=p,o=f;break}R=R.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function C(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function ue(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case P:return"Profiler";case z:return"StrictMode";case q:return"Suspense";case ee:return"SuspenseList";case A:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case H:return(r.displayName||"Context")+".Provider";case j:return(r._context.displayName||"Context")+".Consumer";case ie:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case L:return s=r.displayName||null,s!==null?s:ue(r.type)||"Memo";case b:s=r._payload,r=r._init;try{return ue(r(s))}catch{}}return null}var k=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ge=[],U=-1;function te(r){return{current:r}}function de(r){0>U||(r.current=ge[U],ge[U]=null,U--)}function he(r,s){U++,ge[U]=r.current,r.current=s}var ye=te(null),De=te(null),Re=te(null),It=te(null);function Je(r,s){switch(he(Re,s),he(De,r),he(ye,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?m0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=m0(s),r=g0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}de(ye),he(ye,r)}function hr(){de(ye),de(De),de(Re)}function Ri(r){r.memoizedState!==null&&he(It,r);var s=ye.current,o=g0(s,r.type);s!==o&&(he(De,r),he(ye,o))}function Ur(r){De.current===r&&(de(ye),de(De)),It.current===r&&(de(It),Wl._currentValue=ae)}var Ss=Object.prototype.hasOwnProperty,bs=n.unstable_scheduleCallback,ws=n.unstable_cancelCallback,Yo=n.unstable_shouldYield,tc=n.unstable_requestPaint,Nn=n.unstable_now,dd=n.unstable_getCurrentPriorityLevel,Qo=n.unstable_ImmediatePriority,Sa=n.unstable_UserBlockingPriority,As=n.unstable_NormalPriority,pd=n.unstable_LowPriority,ba=n.unstable_IdlePriority,Xo=n.log,nc=n.unstable_setDisableYieldValue,pt=null,Qe=null;function Tn(r){if(typeof Xo=="function"&&nc(r),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(pt,r)}catch{}}var Jt=Math.clz32?Math.clz32:Rs,rc=Math.log,md=Math.LN2;function Rs(r){return r>>>=0,r===0?32:31-(rc(r)/md|0)|0}var Cs=256,Is=4194304;function Qn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function wa(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,p=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var R=u&134217727;return R!==0?(u=R&~p,u!==0?f=Qn(u):(E&=R,E!==0?f=Qn(E):o||(o=R&~r,o!==0&&(f=Qn(o))))):(R=u&~p,R!==0?f=Qn(R):E!==0?f=Qn(E):o||(o=u&~r,o!==0&&(f=Qn(o)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:f}function Os(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Wo(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var r=Cs;return Cs<<=1,(Cs&4194048)===0&&(Cs=256),r}function Zo(){var r=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),r}function jr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function zr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function el(r,s,o,u,f,p){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var R=r.entanglements,V=r.expirationTimes,Q=r.hiddenUpdates;for(o=E&~o;0<o;){var se=31-Jt(o),le=1<<se;R[se]=0,V[se]=-1;var W=Q[se];if(W!==null)for(Q[se]=null,se=0;se<W.length;se++){var Z=W[se];Z!==null&&(Z.lane&=-536870913)}o&=~le}u!==0&&fr(r,u,0),p!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~s))}function fr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Jt(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function tl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-Jt(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function Ci(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Aa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ii(){var r=X.p;return r!==0?r:(r=window.event,r===void 0?32:k0(r.type))}function ic(r,s){var o=X.p;try{return X.p=r,s()}finally{X.p=o}}var st=Math.random().toString(36).slice(2),Ot="__reactFiber$"+st,Tt="__reactProps$"+st,Pn="__reactContainer$"+st,nl="__reactEvents$"+st,gd="__reactListeners$"+st,Oi="__reactHandles$"+st,sc="__reactResources$"+st,xs="__reactMarker$"+st;function xi(r){delete r[Ot],delete r[Tt],delete r[nl],delete r[gd],delete r[Oi]}function Br(r){var s=r[Ot];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Pn]||o[Ot]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=E0(r);r!==null;){if(o=r[Ot])return o;r=E0(r)}return s}r=o,o=r.parentNode}return null}function dr(r){if(r=r[Ot]||r[Pn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function pr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function on(r){var s=r[sc];return s||(s=r[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function yt(r){r[xs]=!0}var rl=new Set,Ra={};function Xn(r,s){Hr(r,s),Hr(r+"Capture",s)}function Hr(r,s){for(Ra[r]=s,r=0;r<s.length;r++)rl.add(s[r])}var ac=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oc={},Ds={};function lc(r){return Ss.call(Ds,r)?!0:Ss.call(oc,r)?!1:ac.test(r)?Ds[r]=!0:(oc[r]=!0,!1)}function Di(r,s,o){if(lc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function mr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function qt(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Ns,uc;function qr(r){if(Ns===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ns=s&&s[1]||"",uc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+r+uc}var Ca=!1;function Ia(r,s){if(!r||Ca)return"";Ca=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(Z){var W=Z}Reflect.construct(r,[],le)}else{try{le.call()}catch(Z){W=Z}r.call(le.prototype)}}else{try{throw Error()}catch(Z){W=Z}(le=r())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],R=p[1];if(E&&R){var V=E.split(`
`),Q=R.split(`
`);for(f=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(u===V.length||f===Q.length)for(u=V.length-1,f=Q.length-1;1<=u&&0<=f&&V[u]!==Q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(V[u]!==Q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||V[u]!==Q[f]){var se=`
`+V[u].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=u&&0<=f);break}}}finally{Ca=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?qr(o):""}function il(r){switch(r.tag){case 26:case 27:case 5:return qr(r.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 15:return Ia(r.type,!1);case 11:return Ia(r.type.render,!1);case 1:return Ia(r.type,!0);case 31:return qr("Activity");default:return""}}function Oa(r){try{var s="";do s+=il(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ln(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function sl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yd(r){var s=sl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function xa(r){r._valueTracker||(r._valueTracker=yd(r))}function al(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=sl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Ps(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var vd=/[\n"\\]/g;function St(r){return r.replace(vd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sn(r,s,o,u,f,p,E,R){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+ln(s)):r.value!==""+ln(s)&&(r.value=""+ln(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?Ni(r,E,ln(s)):o!=null?Ni(r,E,ln(o)):u!=null&&r.removeAttribute("value"),f==null&&p!=null&&(r.defaultChecked=!!p),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+ln(R):r.removeAttribute("name")}function Ms(r,s,o,u,f,p,E,R){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;o=o!=null?""+ln(o):"",s=s!=null?""+ln(s):o,R||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=R?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Ni(r,s,o){s==="number"&&Ps(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Fr(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+ln(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Ze(r,s,o){if(s!=null&&(s=""+ln(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+ln(o):""}function ks(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(k(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=ln(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Mn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Ls.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function ol(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&cc(r,f,u)}else for(var p in s)s.hasOwnProperty(p)&&cc(r,p,s[p])}function ll(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _d=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ed=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(r){return Ed.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Gr=null;function kn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var $r=null,Kr=null;function ul(r){var s=dr(r);if(s&&(r=s.stateNode)){var o=r[Tt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Sn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+St(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[Tt]||null;if(!f)throw Error(i(90));Sn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&al(u)}break e;case"textarea":Ze(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Fr(r,!!o.multiple,s,!1)}}}var gr=!1;function hc(r,s,o){if(gr)return r(s,o);gr=!0;try{var u=r(s);return u}finally{if(gr=!1,($r!==null||Kr!==null)&&(ih(),$r&&(s=$r,r=Kr,Kr=$r=null,ul(s),r)))for(s=0;s<r.length;s++)ul(r[s])}}function Vs(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Tt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(Wn)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Ln=!1}var yr=null,Pi=null,Yr=null;function cl(){if(Yr)return Yr;var r,s=Pi,o=s.length,u,f="value"in yr?yr.value:yr.textContent,p=f.length;for(r=0;r<o&&s[r]===f[r];r++);var E=o-r;for(u=1;u<=E&&s[o-u]===f[p-u];u++);return Yr=f.slice(r,1<u?1-u:void 0)}function vr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function _r(){return!0}function hl(){return!1}function Vt(r){function s(o,u,f,p,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(o=r[R],this[R]=o?o(p):p[R]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?_r:hl,this.isPropagationStopped=hl,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),s}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Vt(Ke),js=v({},Ke,{view:0,detail:0}),fc=Vt(js),Pa,Ma,Er,zs=v({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Er&&(Er&&r.type==="mousemove"?(Pa=r.screenX-Er.screenX,Ma=r.screenY-Er.screenY):Ma=Pa=0,Er=r),Pa)},movementY:function(r){return"movementY"in r?r.movementY:Ma}}),Vn=Vt(zs),dc=v({},zs,{dataTransfer:0}),Td=Vt(dc),Bs=v({},js,{relatedTarget:0}),ka=Vt(Bs),fl=v({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),La=Vt(fl),pc=v({},Ke,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Va=Vt(pc),Sd=v({},Ke,{data:0}),dl=Vt(Sd),Hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=gc[r])?!!s[r]:!1}function qs(){return pl}var yc=v({},js,{key:function(r){if(r.key){var s=Hs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=vr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?mc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(r){return r.type==="keypress"?vr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?vr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ua=Vt(yc),vc=v({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=Vt(vc),Qr=v({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),_c=Vt(Qr),Ec=v({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tc=Vt(Ec),Sc=v({},zs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=Vt(Sc),un=v({},Ke,{newState:0,oldState:0}),bc=Vt(un),wc=[9,13,27,32],Tr=Wn&&"CompositionEvent"in window,h=null;Wn&&"documentMode"in document&&(h=document.documentMode);var y=Wn&&"TextEvent"in window&&!h,_=Wn&&(!Tr||h&&8<h&&11>=h),x=" ",K=!1;function ne(r,s){switch(r){case"keyup":return wc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Be=!1;function xt(r,s){switch(r){case"compositionend":return pe(s);case"keypress":return s.which!==32?null:(K=!0,x);case"textInput":return r=s.data,r===x&&K?null:r;default:return null}}function He(r,s){if(Be)return r==="compositionend"||!Tr&&ne(r,s)?(r=cl(),Yr=Pi=yr=null,Be=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Ut[r.type]:s==="textarea"}function Xr(r,s,o,u){$r?Kr?Kr.push(u):Kr=[u]:$r=u,s=ch(s,"onChange"),0<s.length&&(o=new Na("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Ft=null,Sr=null;function gl(r){c0(r,0)}function Ac(r){var s=pr(r);if(al(s))return r}function Dy(r,s){if(r==="change")return s}var Ny=!1;if(Wn){var bd;if(Wn){var wd="oninput"in document;if(!wd){var Py=document.createElement("div");Py.setAttribute("oninput","return;"),wd=typeof Py.oninput=="function"}bd=wd}else bd=!1;Ny=bd&&(!document.documentMode||9<document.documentMode)}function My(){Ft&&(Ft.detachEvent("onpropertychange",ky),Sr=Ft=null)}function ky(r){if(r.propertyName==="value"&&Ac(Sr)){var s=[];Xr(s,Sr,r,kn(r)),hc(gl,s)}}function iA(r,s,o){r==="focusin"?(My(),Ft=s,Sr=o,Ft.attachEvent("onpropertychange",ky)):r==="focusout"&&My()}function sA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ac(Sr)}function aA(r,s){if(r==="click")return Ac(s)}function oA(r,s){if(r==="input"||r==="change")return Ac(s)}function lA(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var bn=typeof Object.is=="function"?Object.is:lA;function yl(r,s){if(bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ss.call(s,f)||!bn(r[f],s[f]))return!1}return!0}function Ly(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Vy(r,s){var o=Ly(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ly(o)}}function Uy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Uy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function jy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ps(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Ps(r.document)}return s}function Ad(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var uA=Wn&&"documentMode"in document&&11>=document.documentMode,za=null,Rd=null,vl=null,Cd=!1;function zy(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Cd||za==null||za!==Ps(u)||(u=za,"selectionStart"in u&&Ad(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),vl&&yl(vl,u)||(vl=u,u=ch(Rd,"onSelect"),0<u.length&&(s=new Na("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=za)))}function Fs(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Ba={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},Id={},By={};Wn&&(By=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Gs(r){if(Id[r])return Id[r];if(!Ba[r])return r;var s=Ba[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in By)return Id[r]=s[o];return r}var Hy=Gs("animationend"),qy=Gs("animationiteration"),Fy=Gs("animationstart"),cA=Gs("transitionrun"),hA=Gs("transitionstart"),fA=Gs("transitioncancel"),Gy=Gs("transitionend"),$y=new Map,Od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Od.push("scrollEnd");function Jn(r,s){$y.set(r,s),Xn(s,[r])}var Ky=new WeakMap;function Un(r,s){if(typeof r=="object"&&r!==null){var o=Ky.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Oa(s)},Ky.set(r,s),s)}return{value:r,source:s,stack:Oa(s)}}var jn=[],Ha=0,xd=0;function Rc(){for(var r=Ha,s=xd=Ha=0;s<r;){var o=jn[s];jn[s++]=null;var u=jn[s];jn[s++]=null;var f=jn[s];jn[s++]=null;var p=jn[s];if(jn[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&Yy(o,f,p)}}function Cc(r,s,o,u){jn[Ha++]=r,jn[Ha++]=s,jn[Ha++]=o,jn[Ha++]=u,xd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Dd(r,s,o,u){return Cc(r,s,o,u),Ic(r)}function qa(r,s){return Cc(r,null,null,s),Ic(r)}function Yy(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(f=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,f&&s!==null&&(f=31-Jt(o),r=p.hiddenUpdates,u=r[f],u===null?r[f]=[s]:u.push(s),s.lane=o|536870912),p):null}function Ic(r){if(50<ql)throw ql=0,Vp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Fa={};function dA(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(r,s,o,u){return new dA(r,s,o,u)}function Nd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Wr(r,s){var o=r.alternate;return o===null?(o=wn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Qy(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Oc(r,s,o,u,f,p){var E=0;if(u=r,typeof r=="function")Nd(r)&&(E=1);else if(typeof r=="string")E=mR(r,o,ye.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case A:return r=wn(31,o,s,f),r.elementType=A,r.lanes=p,r;case O:return $s(o.children,f,p,s);case z:E=8,f|=24;break;case P:return r=wn(12,o,s,f|2),r.elementType=P,r.lanes=p,r;case q:return r=wn(13,o,s,f),r.elementType=q,r.lanes=p,r;case ee:return r=wn(19,o,s,f),r.elementType=ee,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:case H:E=10;break e;case j:E=9;break e;case ie:E=11;break e;case L:E=14;break e;case b:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=wn(E,o,s,f),s.elementType=r,s.type=u,s.lanes=p,s}function $s(r,s,o,u){return r=wn(7,r,u,s),r.lanes=o,r}function Pd(r,s,o){return r=wn(6,r,null,s),r.lanes=o,r}function Md(r,s,o){return s=wn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Ga=[],$a=0,xc=null,Dc=0,zn=[],Bn=0,Ks=null,Jr=1,Zr="";function Ys(r,s){Ga[$a++]=Dc,Ga[$a++]=xc,xc=r,Dc=s}function Xy(r,s,o){zn[Bn++]=Jr,zn[Bn++]=Zr,zn[Bn++]=Ks,Ks=r;var u=Jr;r=Zr;var f=32-Jt(u)-1;u&=~(1<<f),o+=1;var p=32-Jt(s)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Jr=1<<32-Jt(s)+f|o<<f|u,Zr=p+r}else Jr=1<<p|o<<f|u,Zr=r}function kd(r){r.return!==null&&(Ys(r,1),Xy(r,1,0))}function Ld(r){for(;r===xc;)xc=Ga[--$a],Ga[$a]=null,Dc=Ga[--$a],Ga[$a]=null;for(;r===Ks;)Ks=zn[--Bn],zn[Bn]=null,Zr=zn[--Bn],zn[Bn]=null,Jr=zn[--Bn],zn[Bn]=null}var cn=null,mt=null,$e=!1,Qs=null,br=!1,Vd=Error(i(519));function Xs(r){var s=Error(i(418,""));throw Tl(Un(s,r)),Vd}function Wy(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Ot]=r,s[Tt]=u,o){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(o=0;o<Gl.length;o++)Ue(Gl[o],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":Ue("invalid",s),Ms(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),xa(s);break;case"select":Ue("invalid",s);break;case"textarea":Ue("invalid",s),ks(s,u.value,u.defaultValue,u.children),xa(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||p0(s.textContent,o)?(u.popover!=null&&(Ue("beforetoggle",s),Ue("toggle",s)),u.onScroll!=null&&Ue("scroll",s),u.onScrollEnd!=null&&Ue("scrollend",s),u.onClick!=null&&(s.onclick=hh),s=!0):s=!1,s||Xs(r)}function Jy(r){for(cn=r.return;cn;)switch(cn.tag){case 5:case 13:br=!1;return;case 27:case 3:br=!0;return;default:cn=cn.return}}function _l(r){if(r!==cn)return!1;if(!$e)return Jy(r),$e=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Zp(r.type,r.memoizedProps)),o=!o),o&&mt&&Xs(r),Jy(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){mt=er(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}mt=null}}else s===27?(s=mt,Qi(r.type)?(r=rm,rm=null,mt=r):mt=s):mt=cn?er(r.stateNode.nextSibling):null;return!0}function El(){mt=cn=null,$e=!1}function Zy(){var r=Qs;return r!==null&&(mn===null?mn=r:mn.push.apply(mn,r),Qs=null),r}function Tl(r){Qs===null?Qs=[r]:Qs.push(r)}var Ud=te(null),Ws=null,ei=null;function Mi(r,s,o){he(Ud,s._currentValue),s._currentValue=o}function ti(r){r._currentValue=Ud.current,de(Ud)}function jd(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function zd(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var R=p;p=f;for(var V=0;V<s.length;V++)if(R.context===s[V]){p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),jd(p.return,o,r),u||(E=null);break e}p=R.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),jd(E,o,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Sl(r,s,o,u){r=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var R=f.type;bn(f.pendingProps.value,E.value)||(r!==null?r.push(R):r=[R])}}else if(f===It.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Wl):r=[Wl])}f=f.return}r!==null&&zd(s,r,o,u),s.flags|=262144}function Nc(r){for(r=r.firstContext;r!==null;){if(!bn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Js(r){Ws=r,ei=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Zt(r){return ev(Ws,r)}function Pc(r,s){return Ws===null&&Js(r),ev(r,s)}function ev(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ei===null){if(r===null)throw Error(i(308));ei=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ei=ei.next=s;return o}var pA=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},mA=n.unstable_scheduleCallback,gA=n.unstable_NormalPriority,Nt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bd(){return{controller:new pA,data:new Map,refCount:0}}function bl(r){r.refCount--,r.refCount===0&&mA(gA,function(){r.controller.abort()})}var wl=null,Hd=0,Ka=0,Ya=null;function yA(r,s){if(wl===null){var o=wl=[];Hd=0,Ka=Fp(),Ya={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Hd++,s.then(tv,tv),s}function tv(){if(--Hd===0&&wl!==null){Ya!==null&&(Ya.status="fulfilled");var r=wl;wl=null,Ka=0,Ya=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function vA(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var nv=G.S;G.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&yA(r,s),nv!==null&&nv(r,s)};var Zs=te(null);function qd(){var r=Zs.current;return r!==null?r:it.pooledCache}function Mc(r,s){s===null?he(Zs,Zs.current):he(Zs,s.pool)}function rv(){var r=qd();return r===null?null:{parent:Nt._currentValue,pool:r}}var Al=Error(i(460)),iv=Error(i(474)),kc=Error(i(542)),Fd={then:function(){}};function sv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Lc(){}function av(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Lc,Lc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,lv(r),r;default:if(typeof s.status=="string")s.then(Lc,Lc);else{if(r=it,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,lv(r),r}throw Rl=s,Al}}var Rl=null;function ov(){if(Rl===null)throw Error(i(459));var r=Rl;return Rl=null,r}function lv(r){if(r===Al||r===kc)throw Error(i(483))}var ki=!1;function Gd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $d(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Li(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Vi(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Ic(r),Yy(r,null,o),s}return Cc(r,u,s,o),Ic(r)}function Cl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,tl(r,o)}}function Kd(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?f=p=s:p=p.next=s}else f=p=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Yd=!1;function Il(){if(Yd){var r=Ya;if(r!==null)throw r}}function Ol(r,s,o,u){Yd=!1;var f=r.updateQueue;ki=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var V=R,Q=V.next;V.next=null,E===null?p=Q:E.next=Q,E=V;var se=r.alternate;se!==null&&(se=se.updateQueue,R=se.lastBaseUpdate,R!==E&&(R===null?se.firstBaseUpdate=Q:R.next=Q,se.lastBaseUpdate=V))}if(p!==null){var le=f.baseState;E=0,se=Q=V=null,R=p;do{var W=R.lane&-536870913,Z=W!==R.lane;if(Z?(qe&W)===W:(u&W)===W){W!==0&&W===Ka&&(Yd=!0),se!==null&&(se=se.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ce=r,Se=R;W=s;var nt=o;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){le=Ce.call(nt,le,W);break e}le=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,W=typeof Ce=="function"?Ce.call(nt,le,W):Ce,W==null)break e;le=v({},le,W);break e;case 2:ki=!0}}W=R.callback,W!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:R.tag,payload:R.payload,callback:R.callback,next:null},se===null?(Q=se=Z,V=le):se=se.next=Z,E|=W;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);se===null&&(V=le),f.baseState=V,f.firstBaseUpdate=Q,f.lastBaseUpdate=se,p===null&&(f.shared.lanes=0),Gi|=E,r.lanes=E,r.memoizedState=le}}function uv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function cv(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)uv(o[r],s)}var Qa=te(null),Vc=te(0);function hv(r,s){r=li,he(Vc,r),he(Qa,s),li=r|s.baseLanes}function Qd(){he(Vc,li),he(Qa,Qa.current)}function Xd(){li=Vc.current,de(Qa),de(Vc)}var Ui=0,Me=null,et=null,bt=null,Uc=!1,Xa=!1,ea=!1,jc=0,xl=0,Wa=null,_A=0;function vt(){throw Error(i(321))}function Wd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!bn(r[o],s[o]))return!1;return!0}function Jd(r,s,o,u,f,p){return Ui=p,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=r===null||r.memoizedState===null?Yv:Qv,ea=!1,p=o(u,f),ea=!1,Xa&&(p=dv(s,o,u,f)),fv(r),p}function fv(r){G.H=Gc;var s=et!==null&&et.next!==null;if(Ui=0,bt=et=Me=null,Uc=!1,xl=0,Wa=null,s)throw Error(i(300));r===null||jt||(r=r.dependencies,r!==null&&Nc(r)&&(jt=!0))}function dv(r,s,o,u){Me=r;var f=0;do{if(Xa&&(Wa=null),xl=0,Xa=!1,25<=f)throw Error(i(301));if(f+=1,bt=et=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}G.H=RA,p=s(o,u)}while(Xa);return p}function EA(){var r=G.H,s=r.useState()[0];return s=typeof s.then=="function"?Dl(s):s,r=r.useState()[0],(et!==null?et.memoizedState:null)!==r&&(Me.flags|=1024),s}function Zd(){var r=jc!==0;return jc=0,r}function ep(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function tp(r){if(Uc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Uc=!1}Ui=0,bt=et=Me=null,Xa=!1,xl=jc=0,Wa=null}function dn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Me.memoizedState=bt=r:bt=bt.next=r,bt}function wt(){if(et===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=et.next;var s=bt===null?Me.memoizedState:bt.next;if(s!==null)bt=s,et=r;else{if(r===null)throw Me.alternate===null?Error(i(467)):Error(i(310));et=r,r={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},bt===null?Me.memoizedState=bt=r:bt=bt.next=r}return bt}function np(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(r){var s=xl;return xl+=1,Wa===null&&(Wa=[]),r=av(Wa,r,s),s=Me,(bt===null?s.memoizedState:bt.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?Yv:Qv),r}function zc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Dl(r);if(r.$$typeof===H)return Zt(r)}throw Error(i(438,String(r)))}function rp(r){var s=null,o=Me.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=np(),Me.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=M;return s.index++,o}function ni(r,s){return typeof s=="function"?s(r):s}function Bc(r){var s=wt();return ip(s,et,r)}function ip(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}s.baseQueue=f=p,u.pending=null}if(p=r.baseState,f===null)r.memoizedState=p;else{s=f.next;var R=E=null,V=null,Q=s,se=!1;do{var le=Q.lane&-536870913;if(le!==Q.lane?(qe&le)===le:(Ui&le)===le){var W=Q.revertLane;if(W===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),le===Ka&&(se=!0);else if((Ui&W)===W){Q=Q.next,W===Ka&&(se=!0);continue}else le={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(R=V=le,E=p):V=V.next=le,Me.lanes|=W,Gi|=W;le=Q.action,ea&&o(p,le),p=Q.hasEagerState?Q.eagerState:o(p,le)}else W={lane:le,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(R=V=W,E=p):V=V.next=W,Me.lanes|=le,Gi|=le;Q=Q.next}while(Q!==null&&Q!==s);if(V===null?E=p:V.next=R,!bn(p,r.memoizedState)&&(jt=!0,se&&(o=Ya,o!==null)))throw o;r.memoizedState=p,r.baseState=E,r.baseQueue=V,u.lastRenderedState=p}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function sp(r){var s=wt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,p=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do p=r(p,E.action),E=E.next;while(E!==f);bn(p,s.memoizedState)||(jt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function pv(r,s,o){var u=Me,f=wt(),p=$e;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!bn((et||f).memoizedState,o);E&&(f.memoizedState=o,jt=!0),f=f.queue;var R=yv.bind(null,u,f,r);if(Nl(2048,8,R,[r]),f.getSnapshot!==s||E||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,Ja(9,Hc(),gv.bind(null,u,f,o,s),null),it===null)throw Error(i(349));p||(Ui&124)!==0||mv(u,s,o)}return o}function mv(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Me.updateQueue,s===null?(s=np(),Me.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function gv(r,s,o,u){s.value=o,s.getSnapshot=u,vv(s)&&_v(r)}function yv(r,s,o){return o(function(){vv(s)&&_v(r)})}function vv(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!bn(r,o)}catch{return!0}}function _v(r){var s=qa(r,2);s!==null&&On(s,r,2)}function ap(r){var s=dn();if(typeof r=="function"){var o=r;if(r=o(),ea){Tn(!0);try{o()}finally{Tn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:r},s}function Ev(r,s,o,u){return r.baseState=o,ip(r,et,typeof u=="function"?u:ni)}function TA(r,s,o,u,f){if(Fc(r))throw Error(i(485));if(r=s.action,r!==null){var p={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};G.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,Tv(s,p)):(p.next=o.next,s.pending=o.next=p)}}function Tv(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var p=G.T,E={};G.T=E;try{var R=o(f,u),V=G.S;V!==null&&V(E,R),Sv(r,s,R)}catch(Q){op(r,s,Q)}finally{G.T=p}}else try{p=o(f,u),Sv(r,s,p)}catch(Q){op(r,s,Q)}}function Sv(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){bv(r,s,u)},function(u){return op(r,s,u)}):bv(r,s,o)}function bv(r,s,o){s.status="fulfilled",s.value=o,wv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Tv(r,o)))}function op(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,wv(s),s=s.next;while(s!==u)}r.action=null}function wv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Av(r,s){return s}function Rv(r,s){if($e){var o=it.formState;if(o!==null){e:{var u=Me;if($e){if(mt){t:{for(var f=mt,p=br;f.nodeType!==8;){if(!p){f=null;break t}if(f=er(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){mt=er(f.nextSibling),u=f.data==="F!";break e}}Xs(u)}u=!1}u&&(s=o[0])}}return o=dn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Av,lastRenderedState:s},o.queue=u,o=Gv.bind(null,Me,u),u.dispatch=o,u=ap(!1),p=fp.bind(null,Me,!1,u.queue),u=dn(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=TA.bind(null,Me,f,p,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function Cv(r){var s=wt();return Iv(s,et,r)}function Iv(r,s,o){if(s=ip(r,s,Av)[0],r=Bc(ni)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Dl(s)}catch(E){throw E===Al?kc:E}else u=s;s=wt();var f=s.queue,p=f.dispatch;return o!==s.memoizedState&&(Me.flags|=2048,Ja(9,Hc(),SA.bind(null,f,o),null)),[u,p,r]}function SA(r,s){r.action=s}function Ov(r){var s=wt(),o=et;if(o!==null)return Iv(s,o,r);wt(),s=s.memoizedState,o=wt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Ja(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Me.updateQueue,s===null&&(s=np(),Me.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Hc(){return{destroy:void 0,resource:void 0}}function xv(){return wt().memoizedState}function qc(r,s,o,u){var f=dn();u=u===void 0?null:u,Me.flags|=r,f.memoizedState=Ja(1|s,Hc(),o,u)}function Nl(r,s,o,u){var f=wt();u=u===void 0?null:u;var p=f.memoizedState.inst;et!==null&&u!==null&&Wd(u,et.memoizedState.deps)?f.memoizedState=Ja(s,p,o,u):(Me.flags|=r,f.memoizedState=Ja(1|s,p,o,u))}function Dv(r,s){qc(8390656,8,r,s)}function Nv(r,s){Nl(2048,8,r,s)}function Pv(r,s){return Nl(4,2,r,s)}function Mv(r,s){return Nl(4,4,r,s)}function kv(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Lv(r,s,o){o=o!=null?o.concat([r]):null,Nl(4,4,kv.bind(null,s,r),o)}function lp(){}function Vv(r,s){var o=wt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Wd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function Uv(r,s){var o=wt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Wd(s,u[1]))return u[0];if(u=r(),ea){Tn(!0);try{r()}finally{Tn(!1)}}return o.memoizedState=[u,s],u}function up(r,s,o){return o===void 0||(Ui&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=B_(),Me.lanes|=r,Gi|=r,o)}function jv(r,s,o,u){return bn(o,s)?o:Qa.current!==null?(r=up(r,o,u),bn(r,s)||(jt=!0),r):(Ui&42)===0?(jt=!0,r.memoizedState=o):(r=B_(),Me.lanes|=r,Gi|=r,s)}function zv(r,s,o,u,f){var p=X.p;X.p=p!==0&&8>p?p:8;var E=G.T,R={};G.T=R,fp(r,!1,s,o);try{var V=f(),Q=G.S;if(Q!==null&&Q(R,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var se=vA(V,u);Pl(r,s,se,In(r))}else Pl(r,s,u,In(r))}catch(le){Pl(r,s,{then:function(){},status:"rejected",reason:le},In())}finally{X.p=p,G.T=E}}function bA(){}function cp(r,s,o,u){if(r.tag!==5)throw Error(i(476));var f=Bv(r).queue;zv(r,f,s,ae,o===null?bA:function(){return Hv(r),o(u)})}function Bv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:ae},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Hv(r){var s=Bv(r).next.queue;Pl(r,s,{},In())}function hp(){return Zt(Wl)}function qv(){return wt().memoizedState}function Fv(){return wt().memoizedState}function wA(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=In();r=Li(o);var u=Vi(s,r,o);u!==null&&(On(u,s,o),Cl(u,s,o)),s={cache:Bd()},r.payload=s;return}s=s.return}}function AA(r,s,o){var u=In();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Fc(r)?$v(s,o):(o=Dd(r,s,o,u),o!==null&&(On(o,r,u),Kv(o,s,u)))}function Gv(r,s,o){var u=In();Pl(r,s,o,u)}function Pl(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fc(r))$v(s,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,R=p(E,o);if(f.hasEagerState=!0,f.eagerState=R,bn(R,E))return Cc(r,s,f,0),it===null&&Rc(),!1}catch{}finally{}if(o=Dd(r,s,f,u),o!==null)return On(o,r,u),Kv(o,s,u),!0}return!1}function fp(r,s,o,u){if(u={lane:2,revertLane:Fp(),action:u,hasEagerState:!1,eagerState:null,next:null},Fc(r)){if(s)throw Error(i(479))}else s=Dd(r,o,u,2),s!==null&&On(s,r,2)}function Fc(r){var s=r.alternate;return r===Me||s!==null&&s===Me}function $v(r,s){Xa=Uc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Kv(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,tl(r,o)}}var Gc={readContext:Zt,use:zc,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},Yv={readContext:Zt,use:zc,useCallback:function(r,s){return dn().memoizedState=[r,s===void 0?null:s],r},useContext:Zt,useEffect:Dv,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,qc(4194308,4,kv.bind(null,s,r),o)},useLayoutEffect:function(r,s){return qc(4194308,4,r,s)},useInsertionEffect:function(r,s){qc(4,2,r,s)},useMemo:function(r,s){var o=dn();s=s===void 0?null:s;var u=r();if(ea){Tn(!0);try{r()}finally{Tn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=dn();if(o!==void 0){var f=o(s);if(ea){Tn(!0);try{o(s)}finally{Tn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=AA.bind(null,Me,r),[u.memoizedState,r]},useRef:function(r){var s=dn();return r={current:r},s.memoizedState=r},useState:function(r){r=ap(r);var s=r.queue,o=Gv.bind(null,Me,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:lp,useDeferredValue:function(r,s){var o=dn();return up(o,r,s)},useTransition:function(){var r=ap(!1);return r=zv.bind(null,Me,r.queue,!0,!1),dn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Me,f=dn();if($e){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),it===null)throw Error(i(349));(qe&124)!==0||mv(u,s,o)}f.memoizedState=o;var p={value:o,getSnapshot:s};return f.queue=p,Dv(yv.bind(null,u,p,r),[r]),u.flags|=2048,Ja(9,Hc(),gv.bind(null,u,p,o,s),null),o},useId:function(){var r=dn(),s=it.identifierPrefix;if($e){var o=Zr,u=Jr;o=(u&~(1<<32-Jt(u)-1)).toString(32)+o,s=""+s+"R"+o,o=jc++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=_A++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:hp,useFormState:Rv,useActionState:Rv,useOptimistic:function(r){var s=dn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=fp.bind(null,Me,!0,o),o.dispatch=s,[r,s]},useMemoCache:rp,useCacheRefresh:function(){return dn().memoizedState=wA.bind(null,Me)}},Qv={readContext:Zt,use:zc,useCallback:Vv,useContext:Zt,useEffect:Nv,useImperativeHandle:Lv,useInsertionEffect:Pv,useLayoutEffect:Mv,useMemo:Uv,useReducer:Bc,useRef:xv,useState:function(){return Bc(ni)},useDebugValue:lp,useDeferredValue:function(r,s){var o=wt();return jv(o,et.memoizedState,r,s)},useTransition:function(){var r=Bc(ni)[0],s=wt().memoizedState;return[typeof r=="boolean"?r:Dl(r),s]},useSyncExternalStore:pv,useId:qv,useHostTransitionStatus:hp,useFormState:Cv,useActionState:Cv,useOptimistic:function(r,s){var o=wt();return Ev(o,et,r,s)},useMemoCache:rp,useCacheRefresh:Fv},RA={readContext:Zt,use:zc,useCallback:Vv,useContext:Zt,useEffect:Nv,useImperativeHandle:Lv,useInsertionEffect:Pv,useLayoutEffect:Mv,useMemo:Uv,useReducer:sp,useRef:xv,useState:function(){return sp(ni)},useDebugValue:lp,useDeferredValue:function(r,s){var o=wt();return et===null?up(o,r,s):jv(o,et.memoizedState,r,s)},useTransition:function(){var r=sp(ni)[0],s=wt().memoizedState;return[typeof r=="boolean"?r:Dl(r),s]},useSyncExternalStore:pv,useId:qv,useHostTransitionStatus:hp,useFormState:Ov,useActionState:Ov,useOptimistic:function(r,s){var o=wt();return et!==null?Ev(o,et,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:rp,useCacheRefresh:Fv},Za=null,Ml=0;function $c(r){var s=Ml;return Ml+=1,Za===null&&(Za=[]),av(Za,r,s)}function kl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Kc(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Xv(r){var s=r._init;return s(r._payload)}function Wv(r){function s($,B){if(r){var Y=$.deletions;Y===null?($.deletions=[B],$.flags|=16):Y.push(B)}}function o($,B){if(!r)return null;for(;B!==null;)s($,B),B=B.sibling;return null}function u($){for(var B=new Map;$!==null;)$.key!==null?B.set($.key,$):B.set($.index,$),$=$.sibling;return B}function f($,B){return $=Wr($,B),$.index=0,$.sibling=null,$}function p($,B,Y){return $.index=Y,r?(Y=$.alternate,Y!==null?(Y=Y.index,Y<B?($.flags|=67108866,B):Y):($.flags|=67108866,B)):($.flags|=1048576,B)}function E($){return r&&$.alternate===null&&($.flags|=67108866),$}function R($,B,Y,oe){return B===null||B.tag!==6?(B=Pd(Y,$.mode,oe),B.return=$,B):(B=f(B,Y),B.return=$,B)}function V($,B,Y,oe){var ve=Y.type;return ve===O?se($,B,Y.props.children,oe,Y.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===b&&Xv(ve)===B.type)?(B=f(B,Y.props),kl(B,Y),B.return=$,B):(B=Oc(Y.type,Y.key,Y.props,null,$.mode,oe),kl(B,Y),B.return=$,B)}function Q($,B,Y,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=Md(Y,$.mode,oe),B.return=$,B):(B=f(B,Y.children||[]),B.return=$,B)}function se($,B,Y,oe,ve){return B===null||B.tag!==7?(B=$s(Y,$.mode,oe,ve),B.return=$,B):(B=f(B,Y),B.return=$,B)}function le($,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Pd(""+B,$.mode,Y),B.return=$,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return Y=Oc(B.type,B.key,B.props,null,$.mode,Y),kl(Y,B),Y.return=$,Y;case N:return B=Md(B,$.mode,Y),B.return=$,B;case b:var oe=B._init;return B=oe(B._payload),le($,B,Y)}if(k(B)||C(B))return B=$s(B,$.mode,Y,null),B.return=$,B;if(typeof B.then=="function")return le($,$c(B),Y);if(B.$$typeof===H)return le($,Pc($,B),Y);Kc($,B)}return null}function W($,B,Y,oe){var ve=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:R($,B,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Y.key===ve?V($,B,Y,oe):null;case N:return Y.key===ve?Q($,B,Y,oe):null;case b:return ve=Y._init,Y=ve(Y._payload),W($,B,Y,oe)}if(k(Y)||C(Y))return ve!==null?null:se($,B,Y,oe,null);if(typeof Y.then=="function")return W($,B,$c(Y),oe);if(Y.$$typeof===H)return W($,B,Pc($,Y),oe);Kc($,Y)}return null}function Z($,B,Y,oe,ve){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return $=$.get(Y)||null,R(B,$,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case S:return $=$.get(oe.key===null?Y:oe.key)||null,V(B,$,oe,ve);case N:return $=$.get(oe.key===null?Y:oe.key)||null,Q(B,$,oe,ve);case b:var Le=oe._init;return oe=Le(oe._payload),Z($,B,Y,oe,ve)}if(k(oe)||C(oe))return $=$.get(Y)||null,se(B,$,oe,ve,null);if(typeof oe.then=="function")return Z($,B,Y,$c(oe),ve);if(oe.$$typeof===H)return Z($,B,Y,Pc(B,oe),ve);Kc(B,oe)}return null}function Ce($,B,Y,oe){for(var ve=null,Le=null,_e=B,be=B=0,Bt=null;_e!==null&&be<Y.length;be++){_e.index>be?(Bt=_e,_e=null):Bt=_e.sibling;var Ge=W($,_e,Y[be],oe);if(Ge===null){_e===null&&(_e=Bt);break}r&&_e&&Ge.alternate===null&&s($,_e),B=p(Ge,B,be),Le===null?ve=Ge:Le.sibling=Ge,Le=Ge,_e=Bt}if(be===Y.length)return o($,_e),$e&&Ys($,be),ve;if(_e===null){for(;be<Y.length;be++)_e=le($,Y[be],oe),_e!==null&&(B=p(_e,B,be),Le===null?ve=_e:Le.sibling=_e,Le=_e);return $e&&Ys($,be),ve}for(_e=u(_e);be<Y.length;be++)Bt=Z(_e,$,be,Y[be],oe),Bt!==null&&(r&&Bt.alternate!==null&&_e.delete(Bt.key===null?be:Bt.key),B=p(Bt,B,be),Le===null?ve=Bt:Le.sibling=Bt,Le=Bt);return r&&_e.forEach(function(es){return s($,es)}),$e&&Ys($,be),ve}function Se($,B,Y,oe){if(Y==null)throw Error(i(151));for(var ve=null,Le=null,_e=B,be=B=0,Bt=null,Ge=Y.next();_e!==null&&!Ge.done;be++,Ge=Y.next()){_e.index>be?(Bt=_e,_e=null):Bt=_e.sibling;var es=W($,_e,Ge.value,oe);if(es===null){_e===null&&(_e=Bt);break}r&&_e&&es.alternate===null&&s($,_e),B=p(es,B,be),Le===null?ve=es:Le.sibling=es,Le=es,_e=Bt}if(Ge.done)return o($,_e),$e&&Ys($,be),ve;if(_e===null){for(;!Ge.done;be++,Ge=Y.next())Ge=le($,Ge.value,oe),Ge!==null&&(B=p(Ge,B,be),Le===null?ve=Ge:Le.sibling=Ge,Le=Ge);return $e&&Ys($,be),ve}for(_e=u(_e);!Ge.done;be++,Ge=Y.next())Ge=Z(_e,$,be,Ge.value,oe),Ge!==null&&(r&&Ge.alternate!==null&&_e.delete(Ge.key===null?be:Ge.key),B=p(Ge,B,be),Le===null?ve=Ge:Le.sibling=Ge,Le=Ge);return r&&_e.forEach(function(CR){return s($,CR)}),$e&&Ys($,be),ve}function nt($,B,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===O&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:e:{for(var ve=Y.key;B!==null;){if(B.key===ve){if(ve=Y.type,ve===O){if(B.tag===7){o($,B.sibling),oe=f(B,Y.props.children),oe.return=$,$=oe;break e}}else if(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===b&&Xv(ve)===B.type){o($,B.sibling),oe=f(B,Y.props),kl(oe,Y),oe.return=$,$=oe;break e}o($,B);break}else s($,B);B=B.sibling}Y.type===O?(oe=$s(Y.props.children,$.mode,oe,Y.key),oe.return=$,$=oe):(oe=Oc(Y.type,Y.key,Y.props,null,$.mode,oe),kl(oe,Y),oe.return=$,$=oe)}return E($);case N:e:{for(ve=Y.key;B!==null;){if(B.key===ve)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){o($,B.sibling),oe=f(B,Y.children||[]),oe.return=$,$=oe;break e}else{o($,B);break}else s($,B);B=B.sibling}oe=Md(Y,$.mode,oe),oe.return=$,$=oe}return E($);case b:return ve=Y._init,Y=ve(Y._payload),nt($,B,Y,oe)}if(k(Y))return Ce($,B,Y,oe);if(C(Y)){if(ve=C(Y),typeof ve!="function")throw Error(i(150));return Y=ve.call(Y),Se($,B,Y,oe)}if(typeof Y.then=="function")return nt($,B,$c(Y),oe);if(Y.$$typeof===H)return nt($,B,Pc($,Y),oe);Kc($,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(o($,B.sibling),oe=f(B,Y),oe.return=$,$=oe):(o($,B),oe=Pd(Y,$.mode,oe),oe.return=$,$=oe),E($)):o($,B)}return function($,B,Y,oe){try{Ml=0;var ve=nt($,B,Y,oe);return Za=null,ve}catch(_e){if(_e===Al||_e===kc)throw _e;var Le=wn(29,_e,null,$.mode);return Le.lanes=oe,Le.return=$,Le}finally{}}}var eo=Wv(!0),Jv=Wv(!1),Hn=te(null),wr=null;function ji(r){var s=r.alternate;he(Pt,Pt.current&1),he(Hn,r),wr===null&&(s===null||Qa.current!==null||s.memoizedState!==null)&&(wr=r)}function Zv(r){if(r.tag===22){if(he(Pt,Pt.current),he(Hn,r),wr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(wr=r)}}else zi()}function zi(){he(Pt,Pt.current),he(Hn,Hn.current)}function ri(r){de(Hn),wr===r&&(wr=null),de(Pt)}var Pt=te(0);function Yc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||nm(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function dp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var pp={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=In(),f=Li(u);f.payload=s,o!=null&&(f.callback=o),s=Vi(r,f,u),s!==null&&(On(s,r,u),Cl(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=In(),f=Li(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Vi(r,f,u),s!==null&&(On(s,r,u),Cl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=In(),u=Li(o);u.tag=2,s!=null&&(u.callback=s),s=Vi(r,u,o),s!==null&&(On(s,r,o),Cl(s,r,o))}};function e_(r,s,o,u,f,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,E):s.prototype&&s.prototype.isPureReactComponent?!yl(o,u)||!yl(f,p):!0}function t_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&pp.enqueueReplaceState(s,s.state,null)}function ta(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var Qc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function n_(r){Qc(r)}function r_(r){console.error(r)}function i_(r){Qc(r)}function Xc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function s_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mp(r,s,o){return o=Li(o),o.tag=3,o.payload={element:null},o.callback=function(){Xc(r,s)},o}function a_(r){return r=Li(r),r.tag=3,r}function o_(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;r.payload=function(){return f(p)},r.callback=function(){s_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){s_(s,o,u),typeof f!="function"&&($i===null?$i=new Set([this]):$i.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function CA(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Sl(s,o,f,!0),o=Hn.current,o!==null){switch(o.tag){case 13:return wr===null?jp():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Fd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Bp(r,u,f)),!1;case 22:return o.flags|=65536,u===Fd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Bp(r,u,f)),!1}throw Error(i(435,o.tag))}return Bp(r,u,f),jp(),!1}if($e)return s=Hn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Vd&&(r=Error(i(422),{cause:u}),Tl(Un(r,o)))):(u!==Vd&&(s=Error(i(423),{cause:u}),Tl(Un(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=Un(u,o),f=mp(r.stateNode,u,f),Kd(r,f),gt!==4&&(gt=2)),!1;var p=Error(i(520),{cause:u});if(p=Un(p,o),Hl===null?Hl=[p]:Hl.push(p),gt!==4&&(gt=2),s===null)return!0;u=Un(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=mp(o.stateNode,u,r),Kd(o,r),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($i===null||!$i.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=a_(f),o_(f,r,o,u),Kd(o,f),!1}o=o.return}while(o!==null);return!1}var l_=Error(i(461)),jt=!1;function Gt(r,s,o,u){s.child=r===null?Jv(s,null,o,u):eo(s,r.child,o,u)}function u_(r,s,o,u,f){o=o.render;var p=s.ref;if("ref"in u){var E={};for(var R in u)R!=="ref"&&(E[R]=u[R])}else E=u;return Js(s),u=Jd(r,s,o,E,p,f),R=Zd(),r!==null&&!jt?(ep(r,s,f),ii(r,s,f)):($e&&R&&kd(s),s.flags|=1,Gt(r,s,u,f),s.child)}function c_(r,s,o,u,f){if(r===null){var p=o.type;return typeof p=="function"&&!Nd(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,h_(r,s,p,u,f)):(r=Oc(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!bp(r,f)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:yl,o(E,u)&&r.ref===s.ref)return ii(r,s,f)}return s.flags|=1,r=Wr(p,u),r.ref=s.ref,r.return=s,s.child=r}function h_(r,s,o,u,f){if(r!==null){var p=r.memoizedProps;if(yl(p,u)&&r.ref===s.ref)if(jt=!1,s.pendingProps=u=p,bp(r,f))(r.flags&131072)!==0&&(jt=!0);else return s.lanes=r.lanes,ii(r,s,f)}return gp(r,s,o,u,f)}function f_(r,s,o){var u=s.pendingProps,f=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,r!==null){for(f=s.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;s.childLanes=p&~u}else s.childLanes=0,s.child=null;return d_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Mc(s,p!==null?p.cachePool:null),p!==null?hv(s,p):Qd(),Zv(s);else return s.lanes=s.childLanes=536870912,d_(r,s,p!==null?p.baseLanes|o:o,o)}else p!==null?(Mc(s,p.cachePool),hv(s,p),zi(),s.memoizedState=null):(r!==null&&Mc(s,null),Qd(),zi());return Gt(r,s,f,o),s.child}function d_(r,s,o,u){var f=qd();return f=f===null?null:{parent:Nt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&Mc(s,null),Qd(),Zv(s),r!==null&&Sl(r,s,u,!0),null}function Wc(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function gp(r,s,o,u,f){return Js(s),o=Jd(r,s,o,u,void 0,f),u=Zd(),r!==null&&!jt?(ep(r,s,f),ii(r,s,f)):($e&&u&&kd(s),s.flags|=1,Gt(r,s,o,f),s.child)}function p_(r,s,o,u,f,p){return Js(s),s.updateQueue=null,o=dv(s,u,o,f),fv(r),u=Zd(),r!==null&&!jt?(ep(r,s,p),ii(r,s,p)):($e&&u&&kd(s),s.flags|=1,Gt(r,s,o,p),s.child)}function m_(r,s,o,u,f){if(Js(s),s.stateNode===null){var p=Fa,E=o.contextType;typeof E=="object"&&E!==null&&(p=Zt(E)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=pp,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},Gd(s),E=o.contextType,p.context=typeof E=="object"&&E!==null?Zt(E):Fa,p.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(dp(s,o,E,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&pp.enqueueReplaceState(p,p.state,null),Ol(s,u,p,f),Il(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){p=s.stateNode;var R=s.memoizedProps,V=ta(o,R);p.props=V;var Q=p.context,se=o.contextType;E=Fa,typeof se=="object"&&se!==null&&(E=Zt(se));var le=o.getDerivedStateFromProps;se=typeof le=="function"||typeof p.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,se||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(R||Q!==E)&&t_(s,p,u,E),ki=!1;var W=s.memoizedState;p.state=W,Ol(s,u,p,f),Il(),Q=s.memoizedState,R||W!==Q||ki?(typeof le=="function"&&(dp(s,o,le,u),Q=s.memoizedState),(V=ki||e_(s,o,V,u,W,Q,E))?(se||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),p.props=u,p.state=Q,p.context=E,u=V):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,$d(r,s),E=s.memoizedProps,se=ta(o,E),p.props=se,le=s.pendingProps,W=p.context,Q=o.contextType,V=Fa,typeof Q=="object"&&Q!==null&&(V=Zt(Q)),R=o.getDerivedStateFromProps,(Q=typeof R=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==le||W!==V)&&t_(s,p,u,V),ki=!1,W=s.memoizedState,p.state=W,Ol(s,u,p,f),Il();var Z=s.memoizedState;E!==le||W!==Z||ki||r!==null&&r.dependencies!==null&&Nc(r.dependencies)?(typeof R=="function"&&(dp(s,o,R,u),Z=s.memoizedState),(se=ki||e_(s,o,se,u,W,Z,V)||r!==null&&r.dependencies!==null&&Nc(r.dependencies))?(Q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Z,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Z,V)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),p.props=u,p.state=Z,p.context=V,u=se):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),u=!1)}return p=u,Wc(r,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,r!==null&&u?(s.child=eo(s,r.child,null,f),s.child=eo(s,null,o,f)):Gt(r,s,o,f),s.memoizedState=p.state,r=s.child):r=ii(r,s,f),r}function g_(r,s,o,u){return El(),s.flags|=256,Gt(r,s,o,u),s.child}var yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vp(r){return{baseLanes:r,cachePool:rv()}}function _p(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=qn),r}function y_(r,s,o){var u=s.pendingProps,f=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(Pt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if($e){if(f?ji(s):zi(),$e){var R=mt,V;if(V=R){e:{for(V=R,R=br;V.nodeType!==8;){if(!R){R=null;break e}if(V=er(V.nextSibling),V===null){R=null;break e}}R=V}R!==null?(s.memoizedState={dehydrated:R,treeContext:Ks!==null?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},V=wn(18,null,null,0),V.stateNode=R,V.return=s,s.child=V,cn=s,mt=null,V=!0):V=!1}V||Xs(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return nm(R)?s.lanes=32:s.lanes=536870912,null;ri(s)}return R=u.children,u=u.fallback,f?(zi(),f=s.mode,R=Jc({mode:"hidden",children:R},f),u=$s(u,f,o,null),R.return=s,u.return=s,R.sibling=u,s.child=R,f=s.child,f.memoizedState=vp(o),f.childLanes=_p(r,E,o),s.memoizedState=yp,u):(ji(s),Ep(s,R))}if(V=r.memoizedState,V!==null&&(R=V.dehydrated,R!==null)){if(p)s.flags&256?(ji(s),s.flags&=-257,s=Tp(r,s,o)):s.memoizedState!==null?(zi(),s.child=r.child,s.flags|=128,s=null):(zi(),f=u.fallback,R=s.mode,u=Jc({mode:"visible",children:u.children},R),f=$s(f,R,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,eo(s,r.child,null,o),u=s.child,u.memoizedState=vp(o),u.childLanes=_p(r,E,o),s.memoizedState=yp,s=f);else if(ji(s),nm(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var Q=E.dgst;E=Q,u=Error(i(419)),u.stack="",u.digest=E,Tl({value:u,source:null,stack:null}),s=Tp(r,s,o)}else if(jt||Sl(r,s,o,!1),E=(o&r.childLanes)!==0,jt||E){if(E=it,E!==null&&(u=o&-o,u=(u&42)!==0?1:Ci(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==V.retryLane))throw V.retryLane=u,qa(r,u),On(E,r,u),l_;R.data==="$?"||jp(),s=Tp(r,s,o)}else R.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=V.treeContext,mt=er(R.nextSibling),cn=s,$e=!0,Qs=null,br=!1,r!==null&&(zn[Bn++]=Jr,zn[Bn++]=Zr,zn[Bn++]=Ks,Jr=r.id,Zr=r.overflow,Ks=s),s=Ep(s,u.children),s.flags|=4096);return s}return f?(zi(),f=u.fallback,R=s.mode,V=r.child,Q=V.sibling,u=Wr(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Q!==null?f=Wr(Q,f):(f=$s(f,R,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,R=r.child.memoizedState,R===null?R=vp(o):(V=R.cachePool,V!==null?(Q=Nt._currentValue,V=V.parent!==Q?{parent:Q,pool:Q}:V):V=rv(),R={baseLanes:R.baseLanes|o,cachePool:V}),f.memoizedState=R,f.childLanes=_p(r,E,o),s.memoizedState=yp,u):(ji(s),o=r.child,r=o.sibling,o=Wr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function Ep(r,s){return s=Jc({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Jc(r,s){return r=wn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Tp(r,s,o){return eo(s,r.child,null,o),r=Ep(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function v_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),jd(r.return,s,o)}function Sp(r,s,o,u,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function __(r,s,o){var u=s.pendingProps,f=u.revealOrder,p=u.tail;if(Gt(r,s,u.children,o),u=Pt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&v_(r,o,s);else if(r.tag===19)v_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(he(Pt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&Yc(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Sp(s,!1,f,o,p);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Yc(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Sp(s,!0,o,null,p);break;case"together":Sp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ii(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Gi|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Sl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Wr(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Wr(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function bp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Nc(r)))}function IA(r,s,o){switch(s.tag){case 3:Je(s,s.stateNode.containerInfo),Mi(s,Nt,r.memoizedState.cache),El();break;case 27:case 5:Ri(s);break;case 4:Je(s,s.stateNode.containerInfo);break;case 10:Mi(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ji(s),s.flags|=128,null):(o&s.child.childLanes)!==0?y_(r,s,o):(ji(s),r=ii(r,s,o),r!==null?r.sibling:null);ji(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Sl(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return __(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),he(Pt,Pt.current),u)break;return null;case 22:case 23:return s.lanes=0,f_(r,s,o);case 24:Mi(s,Nt,r.memoizedState.cache)}return ii(r,s,o)}function E_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)jt=!0;else{if(!bp(r,o)&&(s.flags&128)===0)return jt=!1,IA(r,s,o);jt=(r.flags&131072)!==0}else jt=!1,$e&&(s.flags&1048576)!==0&&Xy(s,Dc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")Nd(u)?(r=ta(u,r),s.tag=1,s=m_(null,s,u,r,o)):(s.tag=0,s=gp(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===ie){s.tag=11,s=u_(null,s,u,r,o);break e}else if(f===L){s.tag=14,s=c_(null,s,u,r,o);break e}}throw s=ue(u)||u,Error(i(306,s,""))}}return s;case 0:return gp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=ta(u,s.pendingProps),m_(r,s,u,f,o);case 3:e:{if(Je(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var p=s.memoizedState;f=p.element,$d(r,s),Ol(s,u,null,o);var E=s.memoizedState;if(u=E.cache,Mi(s,Nt,u),u!==p.cache&&zd(s,[Nt],o,!0),Il(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=g_(r,s,u,o);break e}else if(u!==f){f=Un(Error(i(424)),s),Tl(f),s=g_(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(mt=er(r.firstChild),cn=s,$e=!0,Qs=null,br=!0,o=Jv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(El(),u===f){s=ii(r,s,o);break e}Gt(r,s,u,o)}s=s.child}return s;case 26:return Wc(r,s),r===null?(o=w0(s.type,null,s.pendingProps,null))?s.memoizedState=o:$e||(o=s.type,r=s.pendingProps,u=fh(Re.current).createElement(o),u[Ot]=s,u[Tt]=r,Kt(u,o,r),yt(u),s.stateNode=u):s.memoizedState=w0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ri(s),r===null&&$e&&(u=s.stateNode=T0(s.type,s.pendingProps,Re.current),cn=s,br=!0,f=mt,Qi(s.type)?(rm=f,mt=er(u.firstChild)):mt=f),Gt(r,s,s.pendingProps.children,o),Wc(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&$e&&((f=u=mt)&&(u=nR(u,s.type,s.pendingProps,br),u!==null?(s.stateNode=u,cn=s,mt=er(u.firstChild),br=!1,f=!0):f=!1),f||Xs(s)),Ri(s),f=s.type,p=s.pendingProps,E=r!==null?r.memoizedProps:null,u=p.children,Zp(f,p)?u=null:E!==null&&Zp(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=Jd(r,s,EA,null,null,o),Wl._currentValue=f),Wc(r,s),Gt(r,s,u,o),s.child;case 6:return r===null&&$e&&((r=o=mt)&&(o=rR(o,s.pendingProps,br),o!==null?(s.stateNode=o,cn=s,mt=null,r=!0):r=!1),r||Xs(s)),null;case 13:return y_(r,s,o);case 4:return Je(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=eo(s,null,u,o):Gt(r,s,u,o),s.child;case 11:return u_(r,s,s.type,s.pendingProps,o);case 7:return Gt(r,s,s.pendingProps,o),s.child;case 8:return Gt(r,s,s.pendingProps.children,o),s.child;case 12:return Gt(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Mi(s,s.type,u.value),Gt(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Js(s),f=Zt(f),u=u(f),s.flags|=1,Gt(r,s,u,o),s.child;case 14:return c_(r,s,s.type,s.pendingProps,o);case 15:return h_(r,s,s.type,s.pendingProps,o);case 19:return __(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Jc(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Wr(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return f_(r,s,o);case 24:return Js(s),u=Zt(Nt),r===null?(f=qd(),f===null&&(f=it,p=Bd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),s.memoizedState={parent:u,cache:f},Gd(s),Mi(s,Nt,f)):((r.lanes&o)!==0&&($d(r,s),Ol(s,null,null,o),Il()),f=r.memoizedState,p=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Mi(s,Nt,u)):(u=p.cache,Mi(s,Nt,u),u!==f.cache&&zd(s,[Nt],o,!0))),Gt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function si(r){r.flags|=4}function T_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!O0(s)){if(s=Hn.current,s!==null&&((qe&4194048)===qe?wr!==null:(qe&62914560)!==qe&&(qe&536870912)===0||s!==wr))throw Rl=Fd,iv;r.flags|=8192}}function Zc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Zo():536870912,r.lanes|=s,io|=s)}function Ll(r,s){if(!$e)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ht(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function OA(r,s,o){var u=s.pendingProps;switch(Ld(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(s),null;case 1:return ht(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ti(Nt),hr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(_l(s)?si(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zy())),ht(s),null;case 26:return o=s.memoizedState,r===null?(si(s),o!==null?(ht(s),T_(s,o)):(ht(s),s.flags&=-16777217)):o?o!==r.memoizedState?(si(s),ht(s),T_(s,o)):(ht(s),s.flags&=-16777217):(r.memoizedProps!==u&&si(s),ht(s),s.flags&=-16777217),null;case 27:Ur(s),o=Re.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ht(s),null}r=ye.current,_l(s)?Wy(s):(r=T0(f,u,o),s.stateNode=r,si(s))}return ht(s),null;case 5:if(Ur(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ht(s),null}if(r=ye.current,_l(s))Wy(s);else{switch(f=fh(Re.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[Ot]=s,r[Tt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(Kt(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&si(s)}}return ht(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&si(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Re.current,_l(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=cn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[Ot]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||p0(r.nodeValue,o)),r||Xs(s)}else r=fh(r).createTextNode(u),r[Ot]=s,s.stateNode=r}return ht(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=_l(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Ot]=s}else El(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),f=!1}else f=Zy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ri(s),s):(ri(s),null)}if(ri(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Zc(s,s.updateQueue),ht(s),null;case 4:return hr(),r===null&&Yp(s.stateNode.containerInfo),ht(s),null;case 10:return ti(s.type),ht(s),null;case 19:if(de(Pt),f=s.memoizedState,f===null)return ht(s),null;if(u=(s.flags&128)!==0,p=f.rendering,p===null)if(u)Ll(f,!1);else{if(gt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(p=Yc(r),p!==null){for(s.flags|=128,Ll(f,!1),r=p.updateQueue,s.updateQueue=r,Zc(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Qy(o,r),o=o.sibling;return he(Pt,Pt.current&1|2),s.child}r=r.sibling}f.tail!==null&&Nn()>nh&&(s.flags|=128,u=!0,Ll(f,!1),s.lanes=4194304)}else{if(!u)if(r=Yc(p),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Zc(s,r),Ll(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!$e)return ht(s),null}else 2*Nn()-f.renderingStartTime>nh&&o!==536870912&&(s.flags|=128,u=!0,Ll(f,!1),s.lanes=4194304);f.isBackwards?(p.sibling=s.child,s.child=p):(r=f.last,r!==null?r.sibling=p:s.child=p,f.last=p)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Nn(),s.sibling=null,r=Pt.current,he(Pt,u?r&1|2:r&1),s):(ht(s),null);case 22:case 23:return ri(s),Xd(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ht(s),s.subtreeFlags&6&&(s.flags|=8192)):ht(s),o=s.updateQueue,o!==null&&Zc(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&de(Zs),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ti(Nt),ht(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function xA(r,s){switch(Ld(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ti(Nt),hr(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Ur(s),null;case 13:if(ri(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));El()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return de(Pt),null;case 4:return hr(),null;case 10:return ti(s.type),null;case 22:case 23:return ri(s),Xd(),r!==null&&de(Zs),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ti(Nt),null;case 25:return null;default:return null}}function S_(r,s){switch(Ld(s),s.tag){case 3:ti(Nt),hr();break;case 26:case 27:case 5:Ur(s);break;case 4:hr();break;case 13:ri(s);break;case 19:de(Pt);break;case 10:ti(s.type);break;case 22:case 23:ri(s),Xd(),r!==null&&de(Zs);break;case 24:ti(Nt)}}function Vl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==f)}}catch(R){rt(s,s.return,R)}}function Bi(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&r)===r){var E=u.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,f=s;var V=o,Q=R;try{Q()}catch(se){rt(f,V,se)}}}u=u.next}while(u!==p)}}catch(se){rt(s,s.return,se)}}function b_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{cv(s,o)}catch(u){rt(r,r.return,u)}}}function w_(r,s,o){o.props=ta(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){rt(r,s,u)}}function Ul(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){rt(r,s,f)}}function Ar(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){rt(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){rt(r,s,f)}else o.current=null}function A_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){rt(r,r.return,f)}}function wp(r,s,o){try{var u=r.stateNode;WA(u,r.type,o,s),u[Tt]=s}catch(f){rt(r,r.return,f)}}function R_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Qi(r.type)||r.tag===4}function Ap(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||R_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Qi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Rp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=hh));else if(u!==4&&(u===27&&Qi(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Rp(r,s,o),r=r.sibling;r!==null;)Rp(r,s,o),r=r.sibling}function eh(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Qi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(eh(r,s,o),r=r.sibling;r!==null;)eh(r,s,o),r=r.sibling}function C_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Kt(s,u,o),s[Ot]=r,s[Tt]=o}catch(p){rt(r,r.return,p)}}var ai=!1,_t=!1,Cp=!1,I_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function DA(r,s){if(r=r.containerInfo,Wp=vh,r=jy(r),Ad(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,R=-1,V=-1,Q=0,se=0,le=r,W=null;t:for(;;){for(var Z;le!==o||f!==0&&le.nodeType!==3||(R=E+f),le!==p||u!==0&&le.nodeType!==3||(V=E+u),le.nodeType===3&&(E+=le.nodeValue.length),(Z=le.firstChild)!==null;)W=le,le=Z;for(;;){if(le===r)break t;if(W===o&&++Q===f&&(R=E),W===p&&++se===u&&(V=E),(Z=le.nextSibling)!==null)break;le=W,W=le.parentNode}le=Z}o=R===-1||V===-1?null:{start:R,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Jp={focusedElem:r,selectionRange:o},vh=!1,zt=s;zt!==null;)if(s=zt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,zt=r;else for(;zt!==null;){switch(s=zt,p=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=s,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Ce=ta(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ce,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(Se){rt(o,o.return,Se)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)tm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":tm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,zt=r;break}zt=s.return}}function O_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Hi(r,o),u&4&&Vl(5,o);break;case 1:if(Hi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(E){rt(o,o.return,E)}else{var f=ta(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(E){rt(o,o.return,E)}}u&64&&b_(o),u&512&&Ul(o,o.return);break;case 3:if(Hi(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{cv(r,s)}catch(E){rt(o,o.return,E)}}break;case 27:s===null&&u&4&&C_(o);case 26:case 5:Hi(r,o),s===null&&u&4&&A_(o),u&512&&Ul(o,o.return);break;case 12:Hi(r,o);break;case 13:Hi(r,o),u&4&&N_(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=zA.bind(null,o),iR(r,o))));break;case 22:if(u=o.memoizedState!==null||ai,!u){s=s!==null&&s.memoizedState!==null||_t,f=ai;var p=_t;ai=u,(_t=s)&&!p?qi(r,o,(o.subtreeFlags&8772)!==0):Hi(r,o),ai=f,_t=p}break;case 30:break;default:Hi(r,o)}}function x_(r){var s=r.alternate;s!==null&&(r.alternate=null,x_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&xi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var at=null,pn=!1;function oi(r,s,o){for(o=o.child;o!==null;)D_(r,s,o),o=o.sibling}function D_(r,s,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:_t||Ar(o,s),oi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_t||Ar(o,s);var u=at,f=pn;Qi(o.type)&&(at=o.stateNode,pn=!1),oi(r,s,o),Kl(o.stateNode),at=u,pn=f;break;case 5:_t||Ar(o,s);case 6:if(u=at,f=pn,at=null,oi(r,s,o),at=u,pn=f,at!==null)if(pn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(o.stateNode)}catch(p){rt(o,s,p)}else try{at.removeChild(o.stateNode)}catch(p){rt(o,s,p)}break;case 18:at!==null&&(pn?(r=at,_0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),tu(r)):_0(at,o.stateNode));break;case 4:u=at,f=pn,at=o.stateNode.containerInfo,pn=!0,oi(r,s,o),at=u,pn=f;break;case 0:case 11:case 14:case 15:_t||Bi(2,o,s),_t||Bi(4,o,s),oi(r,s,o);break;case 1:_t||(Ar(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&w_(o,s,u)),oi(r,s,o);break;case 21:oi(r,s,o);break;case 22:_t=(u=_t)||o.memoizedState!==null,oi(r,s,o),_t=u;break;default:oi(r,s,o)}}function N_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{tu(r)}catch(o){rt(s,s.return,o)}}function NA(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new I_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new I_),s;default:throw Error(i(435,r.tag))}}function Ip(r,s){var o=NA(r);s.forEach(function(u){var f=BA.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function An(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=r,E=s,R=E;e:for(;R!==null;){switch(R.tag){case 27:if(Qi(R.type)){at=R.stateNode,pn=!1;break e}break;case 5:at=R.stateNode,pn=!1;break e;case 3:case 4:at=R.stateNode.containerInfo,pn=!0;break e}R=R.return}if(at===null)throw Error(i(160));D_(p,E,f),at=null,pn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)P_(s,r),s=s.sibling}var Zn=null;function P_(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:An(s,r),Rn(r),u&4&&(Bi(3,r,r.return),Vl(3,r),Bi(5,r,r.return));break;case 1:An(s,r),Rn(r),u&512&&(_t||o===null||Ar(o,o.return)),u&64&&ai&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Zn;if(An(s,r),Rn(r),u&512&&(_t||o===null||Ar(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[xs]||p[Ot]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),Kt(p,u,o),p[Ot]=r,yt(p),u=p;break e;case"link":var E=C0("link","href",f).get(u+(o.href||""));if(E){for(var R=0;R<E.length;R++)if(p=E[R],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(R,1);break t}}p=f.createElement(u),Kt(p,u,o),f.head.appendChild(p);break;case"meta":if(E=C0("meta","content",f).get(u+(o.content||""))){for(R=0;R<E.length;R++)if(p=E[R],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(R,1);break t}}p=f.createElement(u),Kt(p,u,o),f.head.appendChild(p);break;default:throw Error(i(468,u))}p[Ot]=r,yt(p),u=p}r.stateNode=u}else I0(f,r.type,r.stateNode);else r.stateNode=R0(f,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?I0(f,r.type,r.stateNode):R0(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&wp(r,r.memoizedProps,o.memoizedProps)}break;case 27:An(s,r),Rn(r),u&512&&(_t||o===null||Ar(o,o.return)),o!==null&&u&4&&wp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(An(s,r),Rn(r),u&512&&(_t||o===null||Ar(o,o.return)),r.flags&32){f=r.stateNode;try{Mn(f,"")}catch(Z){rt(r,r.return,Z)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,wp(r,f,o!==null?o.memoizedProps:f)),u&1024&&(Cp=!0);break;case 6:if(An(s,r),Rn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Z){rt(r,r.return,Z)}}break;case 3:if(mh=null,f=Zn,Zn=dh(s.containerInfo),An(s,r),Zn=f,Rn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{tu(s.containerInfo)}catch(Z){rt(r,r.return,Z)}Cp&&(Cp=!1,M_(r));break;case 4:u=Zn,Zn=dh(r.stateNode.containerInfo),An(s,r),Rn(r),Zn=u;break;case 12:An(s,r),Rn(r);break;case 13:An(s,r),Rn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Mp=Nn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ip(r,u)));break;case 22:f=r.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Q=ai,se=_t;if(ai=Q||f,_t=se||V,An(s,r),_t=se,ai=Q,Rn(r),u&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||V||ai||_t||na(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(p=V.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=V.stateNode;var le=V.memoizedProps.style,W=le!=null&&le.hasOwnProperty("display")?le.display:null;R.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Z){rt(V,V.return,Z)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(Z){rt(V,V.return,Z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ip(r,o))));break;case 19:An(s,r),Rn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ip(r,u)));break;case 30:break;case 21:break;default:An(s,r),Rn(r)}}function Rn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(R_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,p=Ap(r);eh(r,p,f);break;case 5:var E=o.stateNode;o.flags&32&&(Mn(E,""),o.flags&=-33);var R=Ap(r);eh(r,R,E);break;case 3:case 4:var V=o.stateNode.containerInfo,Q=Ap(r);Rp(r,Q,V);break;default:throw Error(i(161))}}catch(se){rt(r,r.return,se)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function M_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;M_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Hi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)O_(r,s.alternate,s),s=s.sibling}function na(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Bi(4,s,s.return),na(s);break;case 1:Ar(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&w_(s,s.return,o),na(s);break;case 27:Kl(s.stateNode);case 26:case 5:Ar(s,s.return),na(s);break;case 22:s.memoizedState===null&&na(s);break;case 30:na(s);break;default:na(s)}r=r.sibling}}function qi(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:qi(f,p,o),Vl(4,p);break;case 1:if(qi(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){rt(u,u.return,Q)}if(u=p,f=u.updateQueue,f!==null){var R=u.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)uv(V[f],R)}catch(Q){rt(u,u.return,Q)}}o&&E&64&&b_(p),Ul(p,p.return);break;case 27:C_(p);case 26:case 5:qi(f,p,o),o&&u===null&&E&4&&A_(p),Ul(p,p.return);break;case 12:qi(f,p,o);break;case 13:qi(f,p,o),o&&E&4&&N_(f,p);break;case 22:p.memoizedState===null&&qi(f,p,o),Ul(p,p.return);break;case 30:break;default:qi(f,p,o)}s=s.sibling}}function Op(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&bl(o))}function xp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&bl(r))}function Rr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)k_(r,s,o,u),s=s.sibling}function k_(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Rr(r,s,o,u),f&2048&&Vl(9,s);break;case 1:Rr(r,s,o,u);break;case 3:Rr(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&bl(r)));break;case 12:if(f&2048){Rr(r,s,o,u),r=s.stateNode;try{var p=s.memoizedProps,E=p.id,R=p.onPostCommit;typeof R=="function"&&R(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){rt(s,s.return,V)}}else Rr(r,s,o,u);break;case 13:Rr(r,s,o,u);break;case 23:break;case 22:p=s.stateNode,E=s.alternate,s.memoizedState!==null?p._visibility&2?Rr(r,s,o,u):jl(r,s):p._visibility&2?Rr(r,s,o,u):(p._visibility|=2,to(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&Op(E,s);break;case 24:Rr(r,s,o,u),f&2048&&xp(s.alternate,s);break;default:Rr(r,s,o,u)}}function to(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=r,E=s,R=o,V=u,Q=E.flags;switch(E.tag){case 0:case 11:case 15:to(p,E,R,V,f),Vl(8,E);break;case 23:break;case 22:var se=E.stateNode;E.memoizedState!==null?se._visibility&2?to(p,E,R,V,f):jl(p,E):(se._visibility|=2,to(p,E,R,V,f)),f&&Q&2048&&Op(E.alternate,E);break;case 24:to(p,E,R,V,f),f&&Q&2048&&xp(E.alternate,E);break;default:to(p,E,R,V,f)}s=s.sibling}}function jl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:jl(o,u),f&2048&&Op(u.alternate,u);break;case 24:jl(o,u),f&2048&&xp(u.alternate,u);break;default:jl(o,u)}s=s.sibling}}var zl=8192;function no(r){if(r.subtreeFlags&zl)for(r=r.child;r!==null;)L_(r),r=r.sibling}function L_(r){switch(r.tag){case 26:no(r),r.flags&zl&&r.memoizedState!==null&&yR(Zn,r.memoizedState,r.memoizedProps);break;case 5:no(r);break;case 3:case 4:var s=Zn;Zn=dh(r.stateNode.containerInfo),no(r),Zn=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=zl,zl=16777216,no(r),zl=s):no(r));break;default:no(r)}}function V_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Bl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];zt=u,j_(u,r)}V_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)U_(r),r=r.sibling}function U_(r){switch(r.tag){case 0:case 11:case 15:Bl(r),r.flags&2048&&Bi(9,r,r.return);break;case 3:Bl(r);break;case 12:Bl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,th(r)):Bl(r);break;default:Bl(r)}}function th(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];zt=u,j_(u,r)}V_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Bi(8,s,s.return),th(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,th(s));break;default:th(s)}r=r.sibling}}function j_(r,s){for(;zt!==null;){var o=zt;switch(o.tag){case 0:case 11:case 15:Bi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:bl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,zt=u;else e:for(o=r;zt!==null;){u=zt;var f=u.sibling,p=u.return;if(x_(u),u===o){zt=null;break e}if(f!==null){f.return=p,zt=f;break e}zt=p}}}var PA={getCacheForType:function(r){var s=Zt(Nt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},MA=typeof WeakMap=="function"?WeakMap:Map,Xe=0,it=null,Ve=null,qe=0,We=0,Cn=null,Fi=!1,ro=!1,Dp=!1,li=0,gt=0,Gi=0,ra=0,Np=0,qn=0,io=0,Hl=null,mn=null,Pp=!1,Mp=0,nh=1/0,rh=null,$i=null,$t=0,Ki=null,so=null,ao=0,kp=0,Lp=null,z_=null,ql=0,Vp=null;function In(){if((Xe&2)!==0&&qe!==0)return qe&-qe;if(G.T!==null){var r=Ka;return r!==0?r:Fp()}return Ii()}function B_(){qn===0&&(qn=(qe&536870912)===0||$e?Jo():536870912);var r=Hn.current;return r!==null&&(r.flags|=32),qn}function On(r,s,o){(r===it&&(We===2||We===9)||r.cancelPendingCommit!==null)&&(oo(r,0),Yi(r,qe,qn,!1)),zr(r,o),((Xe&2)===0||r!==it)&&(r===it&&((Xe&2)===0&&(ra|=o),gt===4&&Yi(r,qe,qn,!1)),Cr(r))}function H_(r,s,o){if((Xe&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Os(r,s),f=u?VA(r,s):zp(r,s,!0),p=u;do{if(f===0){ro&&!u&&Yi(r,s,0,!1);break}else{if(o=r.current.alternate,p&&!kA(o)){f=zp(r,s,!1),p=!1;continue}if(f===2){if(p=s,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var R=r;f=Hl;var V=R.current.memoizedState.isDehydrated;if(V&&(oo(R,E).flags|=256),E=zp(R,E,!1),E!==2){if(Dp&&!V){R.errorRecoveryDisabledLanes|=p,ra|=p,f=4;break e}p=mn,mn=f,p!==null&&(mn===null?mn=p:mn.push.apply(mn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){oo(r,0),Yi(r,s,0,!0);break}e:{switch(u=r,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Yi(u,s,qn,!Fi);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Mp+300-Nn(),10<f)){if(Yi(u,s,qn,!Fi),wa(u,0,!0)!==0)break e;u.timeoutHandle=y0(q_.bind(null,u,o,mn,rh,Pp,s,qn,ra,io,Fi,p,2,-0,0),f);break e}q_(u,o,mn,rh,Pp,s,qn,ra,io,Fi,p,0,-0,0)}}break}while(!0);Cr(r)}function q_(r,s,o,u,f,p,E,R,V,Q,se,le,W,Z){if(r.timeoutHandle=-1,le=s.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Xl={stylesheets:null,count:0,unsuspend:gR},L_(s),le=vR(),le!==null)){r.cancelPendingCommit=le(X_.bind(null,r,s,p,o,u,f,E,R,V,se,1,W,Z)),Yi(r,p,E,!Q);return}X_(r,s,p,o,u,f,E,R,V)}function kA(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!bn(p(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yi(r,s,o,u){s&=~Np,s&=~ra,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var p=31-Jt(f),E=1<<p;u[p]=-1,f&=~E}o!==0&&fr(r,o,s)}function ih(){return(Xe&6)===0?(Fl(0),!1):!0}function Up(){if(Ve!==null){if(We===0)var r=Ve.return;else r=Ve,ei=Ws=null,tp(r),Za=null,Ml=0,r=Ve;for(;r!==null;)S_(r.alternate,r),r=r.return;Ve=null}}function oo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,ZA(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Up(),it=r,Ve=o=Wr(r.current,null),qe=s,We=0,Cn=null,Fi=!1,ro=Os(r,s),Dp=!1,io=qn=Np=ra=Gi=gt=0,mn=Hl=null,Pp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-Jt(u),p=1<<f;s|=r[f],u&=~p}return li=s,Rc(),o}function F_(r,s){Me=null,G.H=Gc,s===Al||s===kc?(s=ov(),We=3):s===iv?(s=ov(),We=4):We=s===l_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Cn=s,Ve===null&&(gt=1,Xc(r,Un(s,r.current)))}function G_(){var r=G.H;return G.H=Gc,r===null?Gc:r}function $_(){var r=G.A;return G.A=PA,r}function jp(){gt=4,Fi||(qe&4194048)!==qe&&Hn.current!==null||(ro=!0),(Gi&134217727)===0&&(ra&134217727)===0||it===null||Yi(it,qe,qn,!1)}function zp(r,s,o){var u=Xe;Xe|=2;var f=G_(),p=$_();(it!==r||qe!==s)&&(rh=null,oo(r,s)),s=!1;var E=gt;e:do try{if(We!==0&&Ve!==null){var R=Ve,V=Cn;switch(We){case 8:Up(),E=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(s=!0);var Q=We;if(We=0,Cn=null,lo(r,R,V,Q),o&&ro){E=0;break e}break;default:Q=We,We=0,Cn=null,lo(r,R,V,Q)}}LA(),E=gt;break}catch(se){F_(r,se)}while(!0);return s&&r.shellSuspendCounter++,ei=Ws=null,Xe=u,G.H=f,G.A=p,Ve===null&&(it=null,qe=0,Rc()),E}function LA(){for(;Ve!==null;)K_(Ve)}function VA(r,s){var o=Xe;Xe|=2;var u=G_(),f=$_();it!==r||qe!==s?(rh=null,nh=Nn()+500,oo(r,s)):ro=Os(r,s);e:do try{if(We!==0&&Ve!==null){s=Ve;var p=Cn;t:switch(We){case 1:We=0,Cn=null,lo(r,s,p,1);break;case 2:case 9:if(sv(p)){We=0,Cn=null,Y_(s);break}s=function(){We!==2&&We!==9||it!==r||(We=7),Cr(r)},p.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:sv(p)?(We=0,Cn=null,Y_(s)):(We=0,Cn=null,lo(r,s,p,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var R=Ve;if(!E||O0(E)){We=0,Cn=null;var V=R.sibling;if(V!==null)Ve=V;else{var Q=R.return;Q!==null?(Ve=Q,sh(Q)):Ve=null}break t}}We=0,Cn=null,lo(r,s,p,5);break;case 6:We=0,Cn=null,lo(r,s,p,6);break;case 8:Up(),gt=6;break e;default:throw Error(i(462))}}UA();break}catch(se){F_(r,se)}while(!0);return ei=Ws=null,G.H=u,G.A=f,Xe=o,Ve!==null?0:(it=null,qe=0,Rc(),gt)}function UA(){for(;Ve!==null&&!Yo();)K_(Ve)}function K_(r){var s=E_(r.alternate,r,li);r.memoizedProps=r.pendingProps,s===null?sh(r):Ve=s}function Y_(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=p_(o,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=p_(o,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:tp(s);default:S_(o,s),s=Ve=Qy(s,li),s=E_(o,s,li)}r.memoizedProps=r.pendingProps,s===null?sh(r):Ve=s}function lo(r,s,o,u){ei=Ws=null,tp(s),Za=null,Ml=0;var f=s.return;try{if(CA(r,f,s,o,qe)){gt=1,Xc(r,Un(o,r.current)),Ve=null;return}}catch(p){if(f!==null)throw Ve=f,p;gt=1,Xc(r,Un(o,r.current)),Ve=null;return}s.flags&32768?($e||u===1?r=!0:ro||(qe&536870912)!==0?r=!1:(Fi=r=!0,(u===2||u===9||u===3||u===6)&&(u=Hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Q_(s,r)):sh(s)}function sh(r){var s=r;do{if((s.flags&32768)!==0){Q_(s,Fi);return}r=s.return;var o=OA(s.alternate,s,li);if(o!==null){Ve=o;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=r}while(s!==null);gt===0&&(gt=5)}function Q_(r,s){do{var o=xA(r.alternate,r);if(o!==null){o.flags&=32767,Ve=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ve=r;return}Ve=r=o}while(r!==null);gt=6,Ve=null}function X_(r,s,o,u,f,p,E,R,V){r.cancelPendingCommit=null;do ah();while($t!==0);if((Xe&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=xd,el(r,o,p,E,R,V),r===it&&(Ve=it=null,qe=0),so=s,Ki=r,ao=o,kp=p,Lp=f,z_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,HA(As,function(){return t0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=G.T,G.T=null,f=X.p,X.p=2,E=Xe,Xe|=4;try{DA(r,s,o)}finally{Xe=E,X.p=f,G.T=u}}$t=1,W_(),J_(),Z_()}}function W_(){if($t===1){$t=0;var r=Ki,s=so,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var u=X.p;X.p=2;var f=Xe;Xe|=4;try{P_(s,r);var p=Jp,E=jy(r.containerInfo),R=p.focusedElem,V=p.selectionRange;if(E!==R&&R&&R.ownerDocument&&Uy(R.ownerDocument.documentElement,R)){if(V!==null&&Ad(R)){var Q=V.start,se=V.end;if(se===void 0&&(se=Q),"selectionStart"in R)R.selectionStart=Q,R.selectionEnd=Math.min(se,R.value.length);else{var le=R.ownerDocument||document,W=le&&le.defaultView||window;if(W.getSelection){var Z=W.getSelection(),Ce=R.textContent.length,Se=Math.min(V.start,Ce),nt=V.end===void 0?Se:Math.min(V.end,Ce);!Z.extend&&Se>nt&&(E=nt,nt=Se,Se=E);var $=Vy(R,Se),B=Vy(R,nt);if($&&B&&(Z.rangeCount!==1||Z.anchorNode!==$.node||Z.anchorOffset!==$.offset||Z.focusNode!==B.node||Z.focusOffset!==B.offset)){var Y=le.createRange();Y.setStart($.node,$.offset),Z.removeAllRanges(),Se>nt?(Z.addRange(Y),Z.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),Z.addRange(Y))}}}}for(le=[],Z=R;Z=Z.parentNode;)Z.nodeType===1&&le.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<le.length;R++){var oe=le[R];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}vh=!!Wp,Jp=Wp=null}finally{Xe=f,X.p=u,G.T=o}}r.current=s,$t=2}}function J_(){if($t===2){$t=0;var r=Ki,s=so,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var u=X.p;X.p=2;var f=Xe;Xe|=4;try{O_(r,s.alternate,s)}finally{Xe=f,X.p=u,G.T=o}}$t=3}}function Z_(){if($t===4||$t===3){$t=0,tc();var r=Ki,s=so,o=ao,u=z_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?$t=5:($t=0,so=Ki=null,e0(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&($i=null),Aa(o),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(pt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=G.T,f=X.p,X.p=2,G.T=null;try{for(var p=r.onRecoverableError,E=0;E<u.length;E++){var R=u[E];p(R.value,{componentStack:R.stack})}}finally{G.T=s,X.p=f}}(ao&3)!==0&&ah(),Cr(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===Vp?ql++:(ql=0,Vp=r):ql=0,Fl(0)}}function e0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,bl(s)))}function ah(r){return W_(),J_(),Z_(),t0()}function t0(){if($t!==5)return!1;var r=Ki,s=kp;kp=0;var o=Aa(ao),u=G.T,f=X.p;try{X.p=32>o?32:o,G.T=null,o=Lp,Lp=null;var p=Ki,E=ao;if($t=0,so=Ki=null,ao=0,(Xe&6)!==0)throw Error(i(331));var R=Xe;if(Xe|=4,U_(p.current),k_(p,p.current,E,o),Xe=R,Fl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(pt,p)}catch{}return!0}finally{X.p=f,G.T=u,e0(r,s)}}function n0(r,s,o){s=Un(o,s),s=mp(r.stateNode,s,2),r=Vi(r,s,2),r!==null&&(zr(r,2),Cr(r))}function rt(r,s,o){if(r.tag===3)n0(r,r,o);else for(;s!==null;){if(s.tag===3){n0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($i===null||!$i.has(u))){r=Un(o,r),o=a_(2),u=Vi(s,o,2),u!==null&&(o_(o,u,s,r),zr(u,2),Cr(u));break}}s=s.return}}function Bp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new MA;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Dp=!0,f.add(o),r=jA.bind(null,r,s,o),s.then(r,r))}function jA(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,it===r&&(qe&o)===o&&(gt===4||gt===3&&(qe&62914560)===qe&&300>Nn()-Mp?(Xe&2)===0&&oo(r,0):Np|=o,io===qe&&(io=0)),Cr(r)}function r0(r,s){s===0&&(s=Zo()),r=qa(r,s),r!==null&&(zr(r,s),Cr(r))}function zA(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),r0(r,o)}function BA(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),r0(r,o)}function HA(r,s){return bs(r,s)}var oh=null,uo=null,Hp=!1,lh=!1,qp=!1,ia=0;function Cr(r){r!==uo&&r.next===null&&(uo===null?oh=uo=r:uo=uo.next=r),lh=!0,Hp||(Hp=!0,FA())}function Fl(r,s){if(!qp&&lh){qp=!0;do for(var o=!1,u=oh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,R=u.pingedLanes;p=(1<<31-Jt(42|r)+1)-1,p&=f&~(E&~R),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,o0(u,p))}else p=qe,p=wa(u,u===it?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Os(u,p)||(o=!0,o0(u,p));u=u.next}while(o);qp=!1}}function qA(){i0()}function i0(){lh=Hp=!1;var r=0;ia!==0&&(JA()&&(r=ia),ia=0);for(var s=Nn(),o=null,u=oh;u!==null;){var f=u.next,p=s0(u,s);p===0?(u.next=null,o===null?oh=f:o.next=f,f===null&&(uo=o)):(o=u,(r!==0||(p&3)!==0)&&(lh=!0)),u=f}Fl(r)}function s0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-Jt(p),R=1<<E,V=f[E];V===-1?((R&o)===0||(R&u)!==0)&&(f[E]=Wo(R,s)):V<=s&&(r.expiredLanes|=R),p&=~R}if(s=it,o=qe,o=wa(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(We===2||We===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&ws(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Os(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&ws(u),Aa(o)){case 2:case 8:o=Sa;break;case 32:o=As;break;case 268435456:o=ba;break;default:o=As}return u=a0.bind(null,r),o=bs(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&ws(u),r.callbackPriority=2,r.callbackNode=null,2}function a0(r,s){if($t!==0&&$t!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(ah()&&r.callbackNode!==o)return null;var u=qe;return u=wa(r,r===it?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(H_(r,u,s),s0(r,Nn()),r.callbackNode!=null&&r.callbackNode===o?a0.bind(null,r):null)}function o0(r,s){if(ah())return null;H_(r,s,!0)}function FA(){eR(function(){(Xe&6)!==0?bs(Qo,qA):i0()})}function Fp(){return ia===0&&(ia=Jo()),ia}function l0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Da(""+r)}function u0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function GA(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var p=l0((f[Tt]||null).action),E=u.submitter;E&&(s=(s=E[Tt]||null)?l0(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var R=new Na("action","action",null,u,f);r.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ia!==0){var V=E?u0(f,E):new FormData(f);cp(o,{pending:!0,data:V,method:f.method,action:p},null,V)}}else typeof p=="function"&&(R.preventDefault(),V=E?u0(f,E):new FormData(f),cp(o,{pending:!0,data:V,method:f.method,action:p},p,V))},currentTarget:f}]})}}for(var Gp=0;Gp<Od.length;Gp++){var $p=Od[Gp],$A=$p.toLowerCase(),KA=$p[0].toUpperCase()+$p.slice(1);Jn($A,"on"+KA)}Jn(Hy,"onAnimationEnd"),Jn(qy,"onAnimationIteration"),Jn(Fy,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(cA,"onTransitionRun"),Jn(hA,"onTransitionStart"),Jn(fA,"onTransitionCancel"),Jn(Gy,"onTransitionEnd"),Hr("onMouseEnter",["mouseout","mouseover"]),Hr("onMouseLeave",["mouseout","mouseover"]),Hr("onPointerEnter",["pointerout","pointerover"]),Hr("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function c0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var E=u.length-1;0<=E;E--){var R=u[E],V=R.instance,Q=R.currentTarget;if(R=R.listener,V!==p&&f.isPropagationStopped())break e;p=R,f.currentTarget=Q;try{p(f)}catch(se){Qc(se)}f.currentTarget=null,p=V}else for(E=0;E<u.length;E++){if(R=u[E],V=R.instance,Q=R.currentTarget,R=R.listener,V!==p&&f.isPropagationStopped())break e;p=R,f.currentTarget=Q;try{p(f)}catch(se){Qc(se)}f.currentTarget=null,p=V}}}}function Ue(r,s){var o=s[nl];o===void 0&&(o=s[nl]=new Set);var u=r+"__bubble";o.has(u)||(h0(s,r,2,!1),o.add(u))}function Kp(r,s,o){var u=0;s&&(u|=4),h0(o,r,u,s)}var uh="_reactListening"+Math.random().toString(36).slice(2);function Yp(r){if(!r[uh]){r[uh]=!0,rl.forEach(function(o){o!=="selectionchange"&&(YA.has(o)||Kp(o,!1,r),Kp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[uh]||(s[uh]=!0,Kp("selectionchange",!1,s))}}function h0(r,s,o,u){switch(k0(s)){case 2:var f=TR;break;case 8:f=SR;break;default:f=lm}o=f.bind(null,s,o,r),f=void 0,!Ln||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function Qp(r,s,o,u,f){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var R=u.stateNode.containerInfo;if(R===f)break;if(E===4)for(E=u.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;R!==null;){if(E=Br(R),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){u=p=E;continue e}R=R.parentNode}}u=u.return}hc(function(){var Q=p,se=kn(o),le=[];e:{var W=$y.get(r);if(W!==void 0){var Z=Na,Ce=r;switch(r){case"keypress":if(vr(o)===0)break e;case"keydown":case"keyup":Z=Ua;break;case"focusin":Ce="focus",Z=ka;break;case"focusout":Ce="blur",Z=ka;break;case"beforeblur":case"afterblur":Z=ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Td;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_c;break;case Hy:case qy:case Fy:Z=La;break;case Gy:Z=Tc;break;case"scroll":case"scrollend":Z=fc;break;case"wheel":Z=ja;break;case"copy":case"cut":case"paste":Z=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=ml;break;case"toggle":case"beforetoggle":Z=bc}var Se=(s&4)!==0,nt=!Se&&(r==="scroll"||r==="scrollend"),$=Se?W!==null?W+"Capture":null:W;Se=[];for(var B=Q,Y;B!==null;){var oe=B;if(Y=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Y===null||$===null||(oe=Vs(B,$),oe!=null&&Se.push($l(B,oe,Y))),nt)break;B=B.return}0<Se.length&&(W=new Z(W,Ce,null,o,se),le.push({event:W,listeners:Se}))}}if((s&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",W&&o!==Gr&&(Ce=o.relatedTarget||o.fromElement)&&(Br(Ce)||Ce[Pn]))break e;if((Z||W)&&(W=se.window===se?se:(W=se.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(Ce=o.relatedTarget||o.toElement,Z=Q,Ce=Ce?Br(Ce):null,Ce!==null&&(nt=l(Ce),Se=Ce.tag,Ce!==nt||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(Z=null,Ce=Q),Z!==Ce)){if(Se=Vn,oe="onMouseLeave",$="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Se=ml,oe="onPointerLeave",$="onPointerEnter",B="pointer"),nt=Z==null?W:pr(Z),Y=Ce==null?W:pr(Ce),W=new Se(oe,B+"leave",Z,o,se),W.target=nt,W.relatedTarget=Y,oe=null,Br(se)===Q&&(Se=new Se($,B+"enter",Ce,o,se),Se.target=Y,Se.relatedTarget=nt,oe=Se),nt=oe,Z&&Ce)t:{for(Se=Z,$=Ce,B=0,Y=Se;Y;Y=co(Y))B++;for(Y=0,oe=$;oe;oe=co(oe))Y++;for(;0<B-Y;)Se=co(Se),B--;for(;0<Y-B;)$=co($),Y--;for(;B--;){if(Se===$||$!==null&&Se===$.alternate)break t;Se=co(Se),$=co($)}Se=null}else Se=null;Z!==null&&f0(le,W,Z,Se,!1),Ce!==null&&nt!==null&&f0(le,nt,Ce,Se,!0)}}e:{if(W=Q?pr(Q):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var ve=Dy;else if(Dt(W))if(Ny)ve=oA;else{ve=sA;var Le=iA}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&ll(Q.elementType)&&(ve=Dy):ve=aA;if(ve&&(ve=ve(r,Q))){Xr(le,ve,o,se);break e}Le&&Le(r,W,Q),r==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&Ni(W,"number",W.value)}switch(Le=Q?pr(Q):window,r){case"focusin":(Dt(Le)||Le.contentEditable==="true")&&(za=Le,Rd=Q,vl=null);break;case"focusout":vl=Rd=za=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,zy(le,o,se);break;case"selectionchange":if(uA)break;case"keydown":case"keyup":zy(le,o,se)}var _e;if(Tr)e:{switch(r){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Be?ne(r,o)&&(be="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(be="onCompositionStart");be&&(_&&o.locale!=="ko"&&(Be||be!=="onCompositionStart"?be==="onCompositionEnd"&&Be&&(_e=cl()):(yr=se,Pi="value"in yr?yr.value:yr.textContent,Be=!0)),Le=ch(Q,be),0<Le.length&&(be=new dl(be,r,null,o,se),le.push({event:be,listeners:Le}),_e?be.data=_e:(_e=pe(o),_e!==null&&(be.data=_e)))),(_e=y?xt(r,o):He(r,o))&&(be=ch(Q,"onBeforeInput"),0<be.length&&(Le=new dl("onBeforeInput","beforeinput",null,o,se),le.push({event:Le,listeners:be}),Le.data=_e)),GA(le,r,Q,o,se)}c0(le,s)})}function $l(r,s,o){return{instance:r,listener:s,currentTarget:o}}function ch(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Vs(r,o),f!=null&&u.unshift($l(r,f,p)),f=Vs(r,s),f!=null&&u.push($l(r,f,p))),r.tag===3)return u;r=r.return}return[]}function co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function f0(r,s,o,u,f){for(var p=s._reactName,E=[];o!==null&&o!==u;){var R=o,V=R.alternate,Q=R.stateNode;if(R=R.tag,V!==null&&V===u)break;R!==5&&R!==26&&R!==27||Q===null||(V=Q,f?(Q=Vs(o,p),Q!=null&&E.unshift($l(o,Q,V))):f||(Q=Vs(o,p),Q!=null&&E.push($l(o,Q,V)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var QA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function d0(r){return(typeof r=="string"?r:""+r).replace(QA,`
`).replace(XA,"")}function p0(r,s){return s=d0(s),d0(r)===s}function hh(){}function tt(r,s,o,u,f,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Mn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Mn(r,""+u);break;case"className":mr(r,"class",u);break;case"tabIndex":mr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(r,o,u);break;case"style":ol(r,u,p);break;case"data":if(s!=="object"){mr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Da(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&tt(r,s,"name",f.name,f,null),tt(r,s,"formEncType",f.formEncType,f,null),tt(r,s,"formMethod",f.formMethod,f,null),tt(r,s,"formTarget",f.formTarget,f,null)):(tt(r,s,"encType",f.encType,f,null),tt(r,s,"method",f.method,f,null),tt(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Da(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=hh);break;case"onScroll":u!=null&&Ue("scroll",r);break;case"onScrollEnd":u!=null&&Ue("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Da(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ue("beforetoggle",r),Ue("toggle",r),Di(r,"popover",u);break;case"xlinkActuate":qt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Di(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=_d.get(o)||o,Di(r,o,u))}}function Xp(r,s,o,u,f,p){switch(o){case"style":ol(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Mn(r,u):(typeof u=="number"||typeof u=="bigint")&&Mn(r,""+u);break;case"onScroll":u!=null&&Ue("scroll",r);break;case"onScrollEnd":u!=null&&Ue("scrollend",r);break;case"onClick":u!=null&&(r.onclick=hh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),p=r[Tt]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(s,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Di(r,o,u)}}}function Kt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",r),Ue("load",r);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:tt(r,s,p,E,o,null)}}f&&tt(r,s,"srcSet",o.srcSet,o,null),u&&tt(r,s,"src",o.src,o,null);return;case"input":Ue("invalid",r);var R=p=E=f=null,V=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var se=o[u];if(se!=null)switch(u){case"name":f=se;break;case"type":E=se;break;case"checked":V=se;break;case"defaultChecked":Q=se;break;case"value":p=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,s));break;default:tt(r,s,u,se,o,null)}}Ms(r,p,R,V,Q,E,f,!1),xa(r);return;case"select":Ue("invalid",r),u=E=p=null;for(f in o)if(o.hasOwnProperty(f)&&(R=o[f],R!=null))switch(f){case"value":p=R;break;case"defaultValue":E=R;break;case"multiple":u=R;default:tt(r,s,f,R,o,null)}s=p,o=E,r.multiple=!!u,s!=null?Fr(r,!!u,s,!1):o!=null&&Fr(r,!!u,o,!0);return;case"textarea":Ue("invalid",r),p=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(R=o[E],R!=null))switch(E){case"value":u=R;break;case"defaultValue":f=R;break;case"children":p=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:tt(r,s,E,R,o,null)}ks(r,u,f,p),xa(r);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tt(r,s,V,u,o,null)}return;case"dialog":Ue("beforetoggle",r),Ue("toggle",r),Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":Ue("load",r);break;case"video":case"audio":for(u=0;u<Gl.length;u++)Ue(Gl[u],r);break;case"image":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"embed":case"source":case"link":Ue("error",r),Ue("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:tt(r,s,Q,u,o,null)}return;default:if(ll(s)){for(se in o)o.hasOwnProperty(se)&&(u=o[se],u!==void 0&&Xp(r,s,se,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&tt(r,s,R,u,o,null))}function WA(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,R=null,V=null,Q=null,se=null;for(Z in o){var le=o[Z];if(o.hasOwnProperty(Z)&&le!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=le;default:u.hasOwnProperty(Z)||tt(r,s,Z,null,u,le)}}for(var W in u){var Z=u[W];if(le=o[W],u.hasOwnProperty(W)&&(Z!=null||le!=null))switch(W){case"type":p=Z;break;case"name":f=Z;break;case"checked":Q=Z;break;case"defaultChecked":se=Z;break;case"value":E=Z;break;case"defaultValue":R=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==le&&tt(r,s,W,Z,u,le)}}Sn(r,E,R,V,Q,se,p,f);return;case"select":Z=E=R=W=null;for(p in o)if(V=o[p],o.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":Z=V;default:u.hasOwnProperty(p)||tt(r,s,p,null,u,V)}for(f in u)if(p=u[f],V=o[f],u.hasOwnProperty(f)&&(p!=null||V!=null))switch(f){case"value":W=p;break;case"defaultValue":R=p;break;case"multiple":E=p;default:p!==V&&tt(r,s,f,p,u,V)}s=R,o=E,u=Z,W!=null?Fr(r,!!o,W,!1):!!u!=!!o&&(s!=null?Fr(r,!!o,s,!0):Fr(r,!!o,o?[]:"",!1));return;case"textarea":Z=W=null;for(R in o)if(f=o[R],o.hasOwnProperty(R)&&f!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:tt(r,s,R,null,u,f)}for(E in u)if(f=u[E],p=o[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":W=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&tt(r,s,E,f,u,p)}Ze(r,W,Z);return;case"option":for(var Ce in o)if(W=o[Ce],o.hasOwnProperty(Ce)&&W!=null&&!u.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:tt(r,s,Ce,null,u,W)}for(V in u)if(W=u[V],Z=o[V],u.hasOwnProperty(V)&&W!==Z&&(W!=null||Z!=null))switch(V){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:tt(r,s,V,W,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)W=o[Se],o.hasOwnProperty(Se)&&W!=null&&!u.hasOwnProperty(Se)&&tt(r,s,Se,null,u,W);for(Q in u)if(W=u[Q],Z=o[Q],u.hasOwnProperty(Q)&&W!==Z&&(W!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:tt(r,s,Q,W,u,Z)}return;default:if(ll(s)){for(var nt in o)W=o[nt],o.hasOwnProperty(nt)&&W!==void 0&&!u.hasOwnProperty(nt)&&Xp(r,s,nt,void 0,u,W);for(se in u)W=u[se],Z=o[se],!u.hasOwnProperty(se)||W===Z||W===void 0&&Z===void 0||Xp(r,s,se,W,u,Z);return}}for(var $ in o)W=o[$],o.hasOwnProperty($)&&W!=null&&!u.hasOwnProperty($)&&tt(r,s,$,null,u,W);for(le in u)W=u[le],Z=o[le],!u.hasOwnProperty(le)||W===Z||W==null&&Z==null||tt(r,s,le,W,u,Z)}var Wp=null,Jp=null;function fh(r){return r.nodeType===9?r:r.ownerDocument}function m0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Zp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var em=null;function JA(){var r=window.event;return r&&r.type==="popstate"?r===em?!1:(em=r,!0):(em=null,!1)}var y0=typeof setTimeout=="function"?setTimeout:void 0,ZA=typeof clearTimeout=="function"?clearTimeout:void 0,v0=typeof Promise=="function"?Promise:void 0,eR=typeof queueMicrotask=="function"?queueMicrotask:typeof v0<"u"?function(r){return v0.resolve(null).then(r).catch(tR)}:y0;function tR(r){setTimeout(function(){throw r})}function Qi(r){return r==="head"}function _0(r,s){var o=s,u=0,f=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&Kl(E.documentElement),o&2&&Kl(E.body),o&4)for(o=E.head,Kl(o),E=o.firstChild;E;){var R=E.nextSibling,V=E.nodeName;E[xs]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=R}}if(f===0){r.removeChild(p),tu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);tu(s)}function tm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":tm(o),xi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function nR(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[xs])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=er(r.nextSibling),r===null)break}return null}function rR(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=er(r.nextSibling),r===null))return null;return r}function nm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function iR(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function er(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var rm=null;function E0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function T0(r,s,o){switch(s=fh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Kl(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);xi(r)}var Fn=new Map,S0=new Set;function dh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ui=X.d;X.d={f:sR,r:aR,D:oR,C:lR,L:uR,m:cR,X:fR,S:hR,M:dR};function sR(){var r=ui.f(),s=ih();return r||s}function aR(r){var s=dr(r);s!==null&&s.tag===5&&s.type==="form"?Hv(s):ui.r(r)}var ho=typeof document>"u"?null:document;function b0(r,s,o){var u=ho;if(u&&typeof s=="string"&&s){var f=St(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),S0.has(f)||(S0.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Kt(s,"link",r),yt(s),u.head.appendChild(s)))}}function oR(r){ui.D(r),b0("dns-prefetch",r,null)}function lR(r,s){ui.C(r,s),b0("preconnect",r,s)}function uR(r,s,o){ui.L(r,s,o);var u=ho;if(u&&r&&s){var f='link[rel="preload"][as="'+St(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+St(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+St(o.imageSizes)+'"]')):f+='[href="'+St(r)+'"]';var p=f;switch(s){case"style":p=fo(r);break;case"script":p=po(r)}Fn.has(p)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Fn.set(p,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(Yl(p))||s==="script"&&u.querySelector(Ql(p))||(s=u.createElement("link"),Kt(s,"link",r),yt(s),u.head.appendChild(s)))}}function cR(r,s){ui.m(r,s);var o=ho;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+St(u)+'"][href="'+St(r)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=po(r)}if(!Fn.has(p)&&(r=v({rel:"modulepreload",href:r},s),Fn.set(p,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ql(p)))return}u=o.createElement("link"),Kt(u,"link",r),yt(u),o.head.appendChild(u)}}}function hR(r,s,o){ui.S(r,s,o);var u=ho;if(u&&r){var f=on(u).hoistableStyles,p=fo(r);s=s||"default";var E=f.get(p);if(!E){var R={loading:0,preload:null};if(E=u.querySelector(Yl(p)))R.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Fn.get(p))&&im(r,o);var V=E=u.createElement("link");yt(V),Kt(V,"link",r),V._p=new Promise(function(Q,se){V.onload=Q,V.onerror=se}),V.addEventListener("load",function(){R.loading|=1}),V.addEventListener("error",function(){R.loading|=2}),R.loading|=4,ph(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:R},f.set(p,E)}}}function fR(r,s){ui.X(r,s);var o=ho;if(o&&r){var u=on(o).hoistableScripts,f=po(r),p=u.get(f);p||(p=o.querySelector(Ql(f)),p||(r=v({src:r,async:!0},s),(s=Fn.get(f))&&sm(r,s),p=o.createElement("script"),yt(p),Kt(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function dR(r,s){ui.M(r,s);var o=ho;if(o&&r){var u=on(o).hoistableScripts,f=po(r),p=u.get(f);p||(p=o.querySelector(Ql(f)),p||(r=v({src:r,async:!0,type:"module"},s),(s=Fn.get(f))&&sm(r,s),p=o.createElement("script"),yt(p),Kt(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function w0(r,s,o,u){var f=(f=Re.current)?dh(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=fo(o.href),o=on(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=fo(o.href);var p=on(f).hoistableStyles,E=p.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=f.querySelector(Yl(r)))&&!p._p&&(E.instance=p,E.state.loading=5),Fn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Fn.set(r,o),p||pR(f,r,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=po(o),o=on(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function fo(r){return'href="'+St(r)+'"'}function Yl(r){return'link[rel="stylesheet"]['+r+"]"}function A0(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function pR(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Kt(s,"link",o),yt(s),r.head.appendChild(s))}function po(r){return'[src="'+St(r)+'"]'}function Ql(r){return"script[async]"+r}function R0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+St(o.href)+'"]');if(u)return s.instance=u,yt(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),yt(u),Kt(u,"style",f),ph(u,o.precedence,r),s.instance=u;case"stylesheet":f=fo(o.href);var p=r.querySelector(Yl(f));if(p)return s.state.loading|=4,s.instance=p,yt(p),p;u=A0(o),(f=Fn.get(f))&&im(u,f),p=(r.ownerDocument||r).createElement("link"),yt(p);var E=p;return E._p=new Promise(function(R,V){E.onload=R,E.onerror=V}),Kt(p,"link",u),s.state.loading|=4,ph(p,o.precedence,r),s.instance=p;case"script":return p=po(o.src),(f=r.querySelector(Ql(p)))?(s.instance=f,yt(f),f):(u=o,(f=Fn.get(p))&&(u=v({},o),sm(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),yt(f),Kt(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,ph(u,o.precedence,r));return s.instance}function ph(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var R=u[E];if(R.dataset.precedence===s)p=R;else if(p!==f)break}p?p.parentNode.insertBefore(r,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function im(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function sm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var mh=null;function C0(r,s,o){if(mh===null){var u=new Map,f=mh=new Map;f.set(o,u)}else f=mh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var p=o[f];if(!(p[xs]||p[Ot]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=r+E;var R=u.get(E);R?R.push(p):u.set(E,[p])}}return u}function I0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function mR(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function O0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Xl=null;function gR(){}function yR(r,s,o){if(Xl===null)throw Error(i(475));var u=Xl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=fo(o.href),p=r.querySelector(Yl(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=gh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=p,yt(p);return}p=r.ownerDocument||r,o=A0(o),(f=Fn.get(f))&&im(o,f),p=p.createElement("link"),yt(p);var E=p;E._p=new Promise(function(R,V){E.onload=R,E.onerror=V}),Kt(p,"link",o),s.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=gh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function vR(){if(Xl===null)throw Error(i(475));var r=Xl;return r.stylesheets&&r.count===0&&am(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&am(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function gh(){if(this.count--,this.count===0){if(this.stylesheets)am(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var yh=null;function am(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,yh=new Map,s.forEach(_R,r),yh=null,gh.call(r))}function _R(r,s){if(!(s.state.loading&4)){var o=yh.get(r);if(o)var u=o.get(null);else{o=new Map,yh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,f),o.set(E,f),this.count++,u=gh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var Wl={$$typeof:H,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function ER(r,s,o,u,f,p,E,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function x0(r,s,o,u,f,p,E,R,V,Q,se,le){return r=new ER(r,s,o,E,R,V,Q,le),s=1,p===!0&&(s|=24),p=wn(3,null,null,s),r.current=p,p.stateNode=r,s=Bd(),s.refCount++,r.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},Gd(p),r}function D0(r){return r?(r=Fa,r):Fa}function N0(r,s,o,u,f,p){f=D0(f),u.context===null?u.context=f:u.pendingContext=f,u=Li(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Vi(r,u,s),o!==null&&(On(o,r,s),Cl(o,r,s))}function P0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function om(r,s){P0(r,s),(r=r.alternate)&&P0(r,s)}function M0(r){if(r.tag===13){var s=qa(r,67108864);s!==null&&On(s,r,67108864),om(r,67108864)}}var vh=!0;function TR(r,s,o,u){var f=G.T;G.T=null;var p=X.p;try{X.p=2,lm(r,s,o,u)}finally{X.p=p,G.T=f}}function SR(r,s,o,u){var f=G.T;G.T=null;var p=X.p;try{X.p=8,lm(r,s,o,u)}finally{X.p=p,G.T=f}}function lm(r,s,o,u){if(vh){var f=um(u);if(f===null)Qp(r,s,u,_h,o),L0(r,u);else if(wR(f,r,s,o,u))u.stopPropagation();else if(L0(r,u),s&4&&-1<bR.indexOf(r)){for(;f!==null;){var p=dr(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Qn(p.pendingLanes);if(E!==0){var R=p;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var V=1<<31-Jt(E);R.entanglements[1]|=V,E&=~V}Cr(p),(Xe&6)===0&&(nh=Nn()+500,Fl(0))}}break;case 13:R=qa(p,2),R!==null&&On(R,p,2),ih(),om(p,2)}if(p=um(u),p===null&&Qp(r,s,u,_h,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else Qp(r,s,u,null,o)}}function um(r){return r=kn(r),cm(r)}var _h=null;function cm(r){if(_h=null,r=Br(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return _h=r,null}function k0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dd()){case Qo:return 2;case Sa:return 8;case As:case pd:return 32;case ba:return 268435456;default:return 32}default:return 32}}var hm=!1,Xi=null,Wi=null,Ji=null,Jl=new Map,Zl=new Map,Zi=[],bR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L0(r,s){switch(r){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Jl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(s.pointerId)}}function eu(r,s,o,u,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},s!==null&&(s=dr(s),s!==null&&M0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function wR(r,s,o,u,f){switch(s){case"focusin":return Xi=eu(Xi,r,s,o,u,f),!0;case"dragenter":return Wi=eu(Wi,r,s,o,u,f),!0;case"mouseover":return Ji=eu(Ji,r,s,o,u,f),!0;case"pointerover":var p=f.pointerId;return Jl.set(p,eu(Jl.get(p)||null,r,s,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,Zl.set(p,eu(Zl.get(p)||null,r,s,o,u,f)),!0}return!1}function V0(r){var s=Br(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,ic(r.priority,function(){if(o.tag===13){var u=In();u=Ci(u);var f=qa(o,u);f!==null&&On(f,o,u),om(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Eh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=um(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Gr=u,o.target.dispatchEvent(u),Gr=null}else return s=dr(o),s!==null&&M0(s),r.blockedOn=o,!1;s.shift()}return!0}function U0(r,s,o){Eh(r)&&o.delete(s)}function AR(){hm=!1,Xi!==null&&Eh(Xi)&&(Xi=null),Wi!==null&&Eh(Wi)&&(Wi=null),Ji!==null&&Eh(Ji)&&(Ji=null),Jl.forEach(U0),Zl.forEach(U0)}function Th(r,s){r.blockedOn===s&&(r.blockedOn=null,hm||(hm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,AR)))}var Sh=null;function j0(r){Sh!==r&&(Sh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sh===r&&(Sh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(cm(u||o)===null)continue;break}var p=dr(o);p!==null&&(r.splice(s,3),s-=3,cp(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function tu(r){function s(V){return Th(V,r)}Xi!==null&&Th(Xi,r),Wi!==null&&Th(Wi,r),Ji!==null&&Th(Ji,r),Jl.forEach(s),Zl.forEach(s);for(var o=0;o<Zi.length;o++){var u=Zi[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Zi.length&&(o=Zi[0],o.blockedOn===null);)V0(o),o.blockedOn===null&&Zi.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],E=f[Tt]||null;if(typeof p=="function")E||j0(o);else if(E){var R=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Tt]||null)R=E.formAction;else if(cm(f)!==null)continue}else R=E.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),j0(o)}}}function fm(r){this._internalRoot=r}bh.prototype.render=fm.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=In();N0(o,u,r,s,null,null)},bh.prototype.unmount=fm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;N0(r.current,2,null,r,null,null),ih(),s[Pn]=null}};function bh(r){this._internalRoot=r}bh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ii();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Zi.length&&s!==0&&s<Zi[o].priority;o++);Zi.splice(o,0,r),o===0&&V0(r)}};var z0=e.version;if(z0!=="19.1.0")throw Error(i(527,z0,"19.1.0"));X.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var RR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{pt=wh.inject(RR),Qe=wh}catch{}}return ru.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",f=n_,p=r_,E=i_,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=x0(r,1,!1,null,null,o,u,f,p,E,R,null),r[Pn]=s.current,Yp(r),new fm(s)},ru.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,f="",p=n_,E=r_,R=i_,V=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=x0(r,1,!0,s,o??null,u,f,p,E,R,V,Q),s.context=D0(null),o=s.current,u=In(),u=Ci(u),f=Li(u),f.callback=null,Vi(o,f,u),o=u,s.current.lanes=o,zr(s,o),Cr(s),r[Pn]=s.current,Yp(r),new bh(s)},ru.version="19.1.0",ru}var X0;function LR(){if(X0)return mm.exports;X0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mm.exports=kR(),mm.exports}var VR=LR(),iu={},W0;function UR(){if(W0)return iu;W0=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.parse=c,iu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,N){const O=new l,z=S.length;if(z<2)return O;const P=(N==null?void 0:N.decode)||v;let F=0;do{const j=S.indexOf("=",F);if(j===-1)break;const H=S.indexOf(";",F),ie=H===-1?z:H;if(j>ie){F=S.lastIndexOf(";",j-1)+1;continue}const q=d(S,F,j),ee=m(S,j,q),L=S.slice(q,ee);if(O[L]===void 0){let b=d(S,j+1,ie),A=m(S,ie,b);const M=P(S.slice(b,A));O[L]=M}F=ie+1}while(F<z);return O}function d(S,N,O){do{const z=S.charCodeAt(N);if(z!==32&&z!==9)return N}while(++N<O);return O}function m(S,N,O){for(;N>O;){const z=S.charCodeAt(--N);if(z!==32&&z!==9)return N+1}return O}function g(S,N,O){const z=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const P=z(N);if(!e.test(P))throw new TypeError(`argument val is invalid: ${N}`);let F=S+"="+P;if(!O)return F;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);F+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);F+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);F+="; Path="+O.path}if(O.expires){if(!T(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);F+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(F+="; HttpOnly"),O.secure&&(F+="; Secure"),O.partitioned&&(F+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return F}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return a.call(S)==="[object Date]"}return iu}UR();var J0="popstate";function jR(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Hm("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Iu(a)}return BR(e,t,null,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ar(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zR(){return Math.random().toString(36).substring(2,10)}function Z0(n,e){return{usr:n.state,key:n.key,idx:e}}function Hm(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Lo(e):e,state:t,key:e&&e.key||i||zR()}}function Iu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Lo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function BR(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let P=v(),F=P==null?null:P-g;g=P,m&&m({action:d,location:z.location,delta:F})}function S(P,F){d="PUSH";let j=Hm(z.location,P,F);g=v()+1;let H=Z0(j,g),ie=z.createHref(j);try{c.pushState(H,"",ie)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(ie)}l&&m&&m({action:d,location:z.location,delta:1})}function N(P,F){d="REPLACE";let j=Hm(z.location,P,F);g=v();let H=Z0(j,g),ie=z.createHref(j);c.replaceState(H,"",ie),l&&m&&m({action:d,location:z.location,delta:0})}function O(P){return HR(P)}let z={get action(){return d},get location(){return n(a,c)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(J0,T),m=P,()=>{a.removeEventListener(J0,T),m=null}},createHref(P){return e(a,P)},createURL:O,encodeLocation(P){let F=O(P);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:N,go(P){return c.go(P)}};return z}function HR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Iu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function TS(n,e,t="/"){return qR(n,e,t,!1)}function qR(n,e,t,i){let a=typeof e=="string"?Lo(e):e,l=_i(a.pathname||"/",t);if(l==null)return null;let c=SS(n);FR(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=tC(l);d=ZR(c[m],g,i)}return d}function SS(n,e=[],t=[],i=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(ut(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let g=gi([i,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),SS(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:WR(g,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of bS(l.path))a(l,c,m)}),e}function bS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=bS(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function FR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:JR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var GR=/^:[\w-]+$/,$R=3,KR=2,YR=1,QR=10,XR=-2,eE=n=>n==="*";function WR(n,e){let t=n.split("/"),i=t.length;return t.some(eE)&&(i+=XR),e&&(i+=KR),t.filter(a=>!eE(a)).reduce((a,l)=>a+(GR.test(l)?$R:l===""?YR:QR),i)}function JR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function ZR(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=sf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),S=m.route;if(!T&&g&&t&&!i[i.length-1].route.index&&(T=sf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:gi([l,T.pathname]),pathnameBase:sC(gi([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=gi([l,T.pathnameBase]))}return c}function sf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=eC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:T},S)=>{if(v==="*"){let O=d[S]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const N=d[S];return T&&!N?g[v]=void 0:g[v]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function eC(n,e=!1,t=!0){ar(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function tC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ar(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _i(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function nC(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Lo(n):n;return{pathname:t?t.startsWith("/")?t:rC(t,e):e,search:aC(i),hash:oC(a)}}function rC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function _m(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ig(n){let e=iC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Og(n,e,t,i=!1){let a;typeof n=="string"?a=Lo(n):(a={...n},ut(!a.pathname||!a.pathname.includes("?"),_m("?","pathname","search",a)),ut(!a.pathname||!a.pathname.includes("#"),_m("#","pathname","hash",a)),ut(!a.search||!a.search.includes("#"),_m("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;a.pathname=S.join("/")}d=T>=0?e[T]:"/"}let m=nC(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var gi=n=>n.join("/").replace(/\/\/+/g,"/"),sC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),aC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,oC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function lC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var wS=["POST","PUT","PATCH","DELETE"];new Set(wS);var uC=["GET",...wS];new Set(uC);var Vo=J.createContext(null);Vo.displayName="DataRouter";var Lf=J.createContext(null);Lf.displayName="DataRouterState";var AS=J.createContext({isTransitioning:!1});AS.displayName="ViewTransition";var cC=J.createContext(new Map);cC.displayName="Fetchers";var hC=J.createContext(null);hC.displayName="Await";var lr=J.createContext(null);lr.displayName="Navigation";var zu=J.createContext(null);zu.displayName="Location";var ur=J.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var xg=J.createContext(null);xg.displayName="RouteError";function fC(n,{relative:e}={}){ut(Uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=J.useContext(lr),{hash:a,pathname:l,search:c}=Bu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:gi([t,l])),i.createHref({pathname:d,search:c,hash:a})}function Uo(){return J.useContext(zu)!=null}function Lr(){return ut(Uo(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(zu).location}var RS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CS(n){J.useContext(lr).static||J.useLayoutEffect(n)}function jo(){let{isDataRoute:n}=J.useContext(ur);return n?AC():dC()}function dC(){ut(Uo(),"useNavigate() may be used only in the context of a <Router> component.");let n=J.useContext(Vo),{basename:e,navigator:t}=J.useContext(lr),{matches:i}=J.useContext(ur),{pathname:a}=Lr(),l=JSON.stringify(Ig(i)),c=J.useRef(!1);return CS(()=>{c.current=!0}),J.useCallback((m,g={})=>{if(ar(c.current,RS),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=Og(m,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:gi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,n])}J.createContext(null);function IS(){let{matches:n}=J.useContext(ur),e=n[n.length-1];return e?e.params:{}}function Bu(n,{relative:e}={}){let{matches:t}=J.useContext(ur),{pathname:i}=Lr(),a=JSON.stringify(Ig(t));return J.useMemo(()=>Og(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function pC(n,e){return OS(n,e)}function OS(n,e,t,i){var j;ut(Uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=J.useContext(lr),{matches:c}=J.useContext(ur),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let H=T&&T.path||"";xS(g,!T||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let S=Lr(),N;if(e){let H=typeof e=="string"?Lo(e):e;ut(v==="/"||((j=H.pathname)==null?void 0:j.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${H.pathname}" was given in the \`location\` prop.`),N=H}else N=S;let O=N.pathname||"/",z=O;if(v!=="/"){let H=v.replace(/^\//,"").split("/");z="/"+O.replace(/^\//,"").split("/").slice(H.length).join("/")}let P=!l&&t&&t.matches&&t.matches.length>0?t.matches:TS(n,{pathname:z});ar(T||P!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ar(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=_C(P&&P.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:gi([v,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:gi([v,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),c,t,i);return e&&F?J.createElement(zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},F):F}function mC(){let n=wC(),e=lC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=J.createElement(J.Fragment,null,J.createElement("p",null," Hey developer "),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:l},"ErrorBoundary")," or"," ",J.createElement("code",{style:l},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),t?J.createElement("pre",{style:a},t):null,c)}var gC=J.createElement(mC,null),yC=class extends J.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?J.createElement(ur.Provider,{value:this.props.routeContext},J.createElement(xg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vC({routeContext:n,match:e,children:t}){let i=J.useContext(Vo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),J.createElement(ur.Provider,{value:n},t)}function _C(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ut(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:T}=t,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||S){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,g,v)=>{let T,S=!1,N=null,O=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,N=g.route.errorElement||gC,c&&(d<0&&v===0?(xS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):d===v&&(S=!0,O=g.route.hydrateFallbackElement||null)));let z=e.concat(a.slice(0,v+1)),P=()=>{let F;return T?F=N:S?F=O:g.route.Component?F=J.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=m,J.createElement(vC,{match:g,routeContext:{outlet:m,matches:z,isDataRoute:t!=null},children:F})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?J.createElement(yC,{location:t.location,revalidation:t.revalidation,component:N,error:T,children:P(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):P()},null)}function Dg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EC(n){let e=J.useContext(Vo);return ut(e,Dg(n)),e}function TC(n){let e=J.useContext(Lf);return ut(e,Dg(n)),e}function SC(n){let e=J.useContext(ur);return ut(e,Dg(n)),e}function Ng(n){let e=SC(n),t=e.matches[e.matches.length-1];return ut(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function bC(){return Ng("useRouteId")}function wC(){var i;let n=J.useContext(xg),e=TC("useRouteError"),t=Ng("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function AC(){let{router:n}=EC("useNavigate"),e=Ng("useNavigate"),t=J.useRef(!1);return CS(()=>{t.current=!0}),J.useCallback(async(a,l={})=>{ar(t.current,RS),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var tE={};function xS(n,e,t){!e&&!tE[n]&&(tE[n]=!0,ar(!1,t))}J.memo(RC);function RC({routes:n,future:e,state:t}){return OS(n,void 0,t,e)}function CC({to:n,replace:e,state:t,relative:i}){ut(Uo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=J.useContext(lr);ar(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=J.useContext(ur),{pathname:c}=Lr(),d=jo(),m=Og(n,Ig(l),c,i==="path"),g=JSON.stringify(m);return J.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function di(n){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){ut(!Uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=J.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Lo(t));let{pathname:m="/",search:g="",hash:v="",state:T=null,key:S="default"}=t,N=J.useMemo(()=>{let O=_i(m,c);return O==null?null:{location:{pathname:O,search:g,hash:v,state:T,key:S},navigationType:i}},[c,m,g,v,T,S,i]);return ar(N!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:J.createElement(lr.Provider,{value:d},J.createElement(zu.Provider,{children:e,value:N}))}function OC({children:n,location:e}){return pC(qm(n),e)}function qm(n,e=[]){let t=[];return J.Children.forEach(n,(i,a)=>{if(!J.isValidElement(i))return;let l=[...e,a];if(i.type===J.Fragment){t.push.apply(t,qm(i.props.children,l));return}ut(i.type===di,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=qm(i.props.children,l)),t.push(c)}),t}var jh="get",zh="application/x-www-form-urlencoded";function Vf(n){return n!=null&&typeof n.tagName=="string"}function xC(n){return Vf(n)&&n.tagName.toLowerCase()==="button"}function DC(n){return Vf(n)&&n.tagName.toLowerCase()==="form"}function NC(n){return Vf(n)&&n.tagName.toLowerCase()==="input"}function PC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MC(n,e){return n.button===0&&(!e||e==="_self")&&!PC(n)}var Ah=null;function kC(){if(Ah===null)try{new FormData(document.createElement("form"),0),Ah=!1}catch{Ah=!0}return Ah}var LC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Em(n){return n!=null&&!LC.has(n)?(ar(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zh}"`),null):n}function VC(n,e){let t,i,a,l,c;if(DC(n)){let d=n.getAttribute("action");i=d?_i(d,e):null,t=n.getAttribute("method")||jh,a=Em(n.getAttribute("enctype"))||zh,l=new FormData(n)}else if(xC(n)||NC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(i=m?_i(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||jh,a=Em(n.getAttribute("formenctype"))||Em(d.getAttribute("enctype"))||zh,l=new FormData(d,n),!kC()){let{name:g,type:v,value:T}=n;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,T)}}else{if(Vf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=jh,i=null,a=zh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Pg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function UC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function zC(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await UC(l,t);return c.links?c.links():[]}return[]}));return FC(i.flat(1).filter(jC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function nE(n,e,t,i,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var v;return t[g].pathname!==m.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var T;let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function BC(n,e,{includeHydrateFallback:t}={}){return HC(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function HC(n){return[...new Set(n)]}function qC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function FC(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(qC(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var GC=new Set([100,101,204,205]);function $C(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&_i(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function DS(){let n=J.useContext(Vo);return Pg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function KC(){let n=J.useContext(Lf);return Pg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Mg=J.createContext(void 0);Mg.displayName="FrameworkContext";function NS(){let n=J.useContext(Mg);return Pg(n,"You must render this element inside a <HydratedRouter> element"),n}function YC(n,e){let t=J.useContext(Mg),[i,a]=J.useState(!1),[l,c]=J.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,S=J.useRef(null);J.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=F=>{F.forEach(j=>{c(j.isIntersecting)})},P=new IntersectionObserver(z,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[n]),J.useEffect(()=>{if(i){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[i]);let N=()=>{a(!0)},O=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:su(d,N),onBlur:su(m,O),onMouseEnter:su(g,N),onMouseLeave:su(v,O),onTouchStart:su(T,N)}]:[!1,S,{}]}function su(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function QC({page:n,...e}){let{router:t}=DS(),i=J.useMemo(()=>TS(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?J.createElement(WC,{page:n,matches:i,...e}):null}function XC(n){let{manifest:e,routeModules:t}=NS(),[i,a]=J.useState([]);return J.useEffect(()=>{let l=!1;return zC(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function WC({page:n,matches:e,...t}){let i=Lr(),{manifest:a,routeModules:l}=NS(),{basename:c}=DS(),{loaderData:d,matches:m}=KC(),g=J.useMemo(()=>nE(n,e,m,a,i,"data"),[n,e,m,a,i]),v=J.useMemo(()=>nE(n,e,m,a,i,"assets"),[n,e,m,a,i]),T=J.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,z=!1;if(e.forEach(F=>{var H;let j=a.routes[F.route.id];!j||!j.hasLoader||(!g.some(ie=>ie.route.id===F.route.id)&&F.route.id in d&&((H=l[F.route.id])!=null&&H.shouldRevalidate)||j.hasClientLoader?z=!0:O.add(F.route.id))}),O.size===0)return[];let P=$C(n,c);return z&&O.size>0&&P.searchParams.set("_routes",e.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[P.pathname+P.search]},[c,d,i,a,g,e,n,l]),S=J.useMemo(()=>BC(v,a),[v,a]),N=XC(v);return J.createElement(J.Fragment,null,T.map(O=>J.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),S.map(O=>J.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),N.map(({key:O,link:z})=>J.createElement("link",{key:O,...z})))}function JC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var PS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PS&&(window.__reactRouterVersion="7.6.0")}catch{}function ZC({basename:n,children:e,window:t}){let i=J.useRef();i.current==null&&(i.current=jR({window:t,v5Compat:!0}));let a=i.current,[l,c]=J.useState({action:a.action,location:a.location}),d=J.useCallback(m=>{J.startTransition(()=>c(m))},[c]);return J.useLayoutEffect(()=>a.listen(d),[a,d]),J.createElement(IC,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var MS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=J.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:T,...S},N){let{basename:O}=J.useContext(lr),z=typeof g=="string"&&MS.test(g),P,F=!1;if(typeof g=="string"&&z&&(P=g,PS))try{let A=new URL(window.location.href),M=g.startsWith("//")?new URL(A.protocol+g):new URL(g),D=_i(M.pathname,O);M.origin===A.origin&&D!=null?g=D+M.search+M.hash:F=!0}catch{ar(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=fC(g,{relative:a}),[H,ie,q]=YC(i,S),ee=rI(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:T});function L(A){e&&e(A),A.defaultPrevented||ee(A)}let b=J.createElement("a",{...S,...q,href:P||j,onClick:F||l?e:L,ref:JC(N,ie),target:m,"data-discover":!z&&t==="render"?"true":void 0});return H&&!z?J.createElement(J.Fragment,null,b,J.createElement(QC,{page:j})):b});ot.displayName="Link";var eI=J.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},v){let T=Bu(c,{relative:g.relative}),S=Lr(),N=J.useContext(Lf),{navigator:O,basename:z}=J.useContext(lr),P=N!=null&&lI(T)&&d===!0,F=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,j=S.pathname,H=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(j=j.toLowerCase(),H=H?H.toLowerCase():null,F=F.toLowerCase()),H&&z&&(H=_i(H,z)||H);const ie=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let q=j===F||!a&&j.startsWith(F)&&j.charAt(ie)==="/",ee=H!=null&&(H===F||!a&&H.startsWith(F)&&H.charAt(F.length)==="/"),L={isActive:q,isPending:ee,isTransitioning:P},b=q?e:void 0,A;typeof i=="function"?A=i(L):A=[i,q?"active":null,ee?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(L):l;return J.createElement(ot,{...g,"aria-current":b,className:A,ref:v,style:M,to:c,viewTransition:d},typeof m=="function"?m(L):m)});eI.displayName="NavLink";var tI=J.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=jh,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:T,...S},N)=>{let O=aI(),z=oI(d,{relative:g}),P=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&MS.test(d),j=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let ie=H.nativeEvent.submitter,q=(ie==null?void 0:ie.getAttribute("formmethod"))||c;O(ie||H.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:T})};return J.createElement("form",{ref:N,method:P,action:z,onSubmit:i?m:j,...S,"data-discover":!F&&n==="render"?"true":void 0})});tI.displayName="Form";function nI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kS(n){let e=J.useContext(Vo);return ut(e,nI(n)),e}function rI(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=jo(),m=Lr(),g=Bu(n,{relative:l});return J.useCallback(v=>{if(MC(v,e)){v.preventDefault();let T=t!==void 0?t:Iu(m)===Iu(g);d(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,g,t,i,e,n,a,l,c])}var iI=0,sI=()=>`__${String(++iI)}__`;function aI(){let{router:n}=kS("useSubmit"),{basename:e}=J.useContext(lr),t=bC();return J.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=VC(i,e);if(a.navigate===!1){let v=a.fetcherKey||sI();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function oI(n,{relative:e}={}){let{basename:t}=J.useContext(lr),i=J.useContext(ur);ut(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Bu(n||".",{relative:e})},c=Lr();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:gi([t,l.pathname])),Iu(l)}function lI(n,e={}){let t=J.useContext(AS);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=kS("useViewTransitionState"),a=Bu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=_i(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=_i(t.nextLocation.pathname,i)||t.nextLocation.pathname;return sf(a.pathname,c)!=null||sf(a.pathname,l)!=null}[...GC];const uI="_left_12kqj_33",cI="_logo_12kqj_41",hI="_delivery_12kqj_51",fI="_center_12kqj_65",dI="_search_12kqj_113",pI="_right_12kqj_143",mI="_country_12kqj_151",gI="_account_12kqj_173",yI="_cart_12kqj_193",vI="_user_12kqj_315",_I="_logout_12kqj_325",EI="_status_12kqj_391",TI="_status_bad_12kqj_413",SI="_orderMobile_12kqj_433",hn={left:uI,logo:cI,delivery:hI,center:fI,search:dI,right:pI,country:mI,account:gI,return:"_return_12kqj_187",cart:yI,user:vI,logout:_I,status:EI,status_bad:TI,orderMobile:SI},bI="/amazon-clone/assets/logo-w-D1LNePee.png";var LS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rE=Ie.createContext&&Ie.createContext(LS),wI=["attr","size","title"];function AI(n,e){if(n==null)return{};var t=RI(n,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function RI(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function af(){return af=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},af.apply(this,arguments)}function iE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function of(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(t),!0).forEach(function(i){CI(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function CI(n,e,t){return e=II(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function II(n){var e=OI(n,"string");return typeof e=="symbol"?e:e+""}function OI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function VS(n){return n&&n.map((e,t)=>Ie.createElement(e.tag,of({key:t},e.attr),VS(e.child)))}function En(n){return e=>Ie.createElement(xI,af({attr:of({},n.attr)},e),VS(n.child))}function xI(n){var e=t=>{var{attr:i,size:a,title:l}=n,c=AI(n,wI),d=a||t.size||"1em",m;return t.className&&(m=t.className),n.className&&(m=(m?m+" ":"")+n.className),Ie.createElement("svg",af({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:m,style:of(of({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Ie.createElement("title",null,l),n.children)};return rE!==void 0?Ie.createElement(rE.Consumer,null,t=>e(t)):e(LS)}function DI(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"176",cy:"416",r:"32"},child:[]},{tag:"circle",attr:{cx:"400",cy:"416",r:"32"},child:[]},{tag:"path",attr:{d:"M167.78 304h261.34l38.4-192H133.89l-8.47-48H32v32h66.58l48 272H432v-32H173.42l-5.64-32z"},child:[]}]})(n)}function NI(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 48c-79.5 0-144 61.39-144 137 0 87 96 224.87 131.25 272.49a15.77 15.77 0 0 0 25.5 0C304 409.89 400 272.07 400 185c0-75.61-64.5-137-144-137z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"192",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]}]})(n)}function PI(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 428 339.92 303.9a160.48 160.48 0 0 0 30.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0 0 94.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 1 1 110.37-110.37 110.5 110.5 0 0 1-110.37 110.37z"},child:[]}]})(n)}function sE(n){return En({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.646 15.146 5.854 9.354a.5.5 0 0 1 .353-.854h11.586a.5.5 0 0 1 .353.854l-5.793 5.792a.5.5 0 0 1-.707 0Z"},child:[]}]})(n)}function MI(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432 176H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 272H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 368H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16z"},child:[]}]})(n)}function kI(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 192l128 128 128-128z"},child:[]}]})(n)}function LI(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 320l128-128 128 128z"},child:[]}]})(n)}function US(n,e){return function(){return n.apply(e,arguments)}}const{toString:VI}=Object.prototype,{getPrototypeOf:kg}=Object,{iterator:Uf,toStringTag:jS}=Symbol,jf=(n=>e=>{const t=VI.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),cr=n=>(n=n.toLowerCase(),e=>jf(e)===n),zf=n=>e=>typeof e===n,{isArray:zo}=Array,Ou=zf("undefined");function UI(n){return n!==null&&!Ou(n)&&n.constructor!==null&&!Ou(n.constructor)&&yn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const zS=cr("ArrayBuffer");function jI(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&zS(n.buffer),e}const zI=zf("string"),yn=zf("function"),BS=zf("number"),Bf=n=>n!==null&&typeof n=="object",BI=n=>n===!0||n===!1,Bh=n=>{if(jf(n)!=="object")return!1;const e=kg(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(jS in n)&&!(Uf in n)},HI=cr("Date"),qI=cr("File"),FI=cr("Blob"),GI=cr("FileList"),$I=n=>Bf(n)&&yn(n.pipe),KI=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||yn(n.append)&&((e=jf(n))==="formdata"||e==="object"&&yn(n.toString)&&n.toString()==="[object FormData]"))},YI=cr("URLSearchParams"),[QI,XI,WI,JI]=["ReadableStream","Request","Response","Headers"].map(cr),ZI=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hu(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,a;if(typeof n!="object"&&(n=[n]),zo(n))for(i=0,a=n.length;i<a;i++)e.call(null,n[i],i,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),c=l.length;let d;for(i=0;i<c;i++)d=l[i],e.call(null,n[d],d,n)}}function HS(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,a;for(;i-- >0;)if(a=t[i],e===a.toLowerCase())return a;return null}const aa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qS=n=>!Ou(n)&&n!==aa;function Fm(){const{caseless:n}=qS(this)&&this||{},e={},t=(i,a)=>{const l=n&&HS(e,a)||a;Bh(e[l])&&Bh(i)?e[l]=Fm(e[l],i):Bh(i)?e[l]=Fm({},i):zo(i)?e[l]=i.slice():e[l]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Hu(arguments[i],t);return e}const e2=(n,e,t,{allOwnKeys:i}={})=>(Hu(e,(a,l)=>{t&&yn(a)?n[l]=US(a,t):n[l]=a},{allOwnKeys:i}),n),t2=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),n2=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},r2=(n,e,t,i)=>{let a,l,c;const d={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),l=a.length;l-- >0;)c=a[l],(!i||i(c,n,e))&&!d[c]&&(e[c]=n[c],d[c]=!0);n=t!==!1&&kg(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},i2=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},s2=n=>{if(!n)return null;if(zo(n))return n;let e=n.length;if(!BS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},a2=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&kg(Uint8Array)),o2=(n,e)=>{const i=(n&&n[Uf]).call(n);let a;for(;(a=i.next())&&!a.done;){const l=a.value;e.call(n,l[0],l[1])}},l2=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},u2=cr("HTMLFormElement"),c2=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,a){return i.toUpperCase()+a}),aE=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),h2=cr("RegExp"),FS=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Hu(t,(a,l)=>{let c;(c=e(a,l,n))!==!1&&(i[l]=c||a)}),Object.defineProperties(n,i)},f2=n=>{FS(n,(e,t)=>{if(yn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(yn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},d2=(n,e)=>{const t={},i=a=>{a.forEach(l=>{t[l]=!0})};return zo(n)?i(n):i(String(n).split(e)),t},p2=()=>{},m2=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function g2(n){return!!(n&&yn(n.append)&&n[jS]==="FormData"&&n[Uf])}const y2=n=>{const e=new Array(10),t=(i,a)=>{if(Bf(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const l=zo(i)?[]:{};return Hu(i,(c,d)=>{const m=t(c,a+1);!Ou(m)&&(l[d]=m)}),e[a]=void 0,l}}return i};return t(n,0)},v2=cr("AsyncFunction"),_2=n=>n&&(Bf(n)||yn(n))&&yn(n.then)&&yn(n.catch),GS=((n,e)=>n?setImmediate:e?((t,i)=>(aa.addEventListener("message",({source:a,data:l})=>{a===aa&&l===t&&i.length&&i.shift()()},!1),a=>{i.push(a),aa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",yn(aa.postMessage)),E2=typeof queueMicrotask<"u"?queueMicrotask.bind(aa):typeof process<"u"&&process.nextTick||GS,T2=n=>n!=null&&yn(n[Uf]),re={isArray:zo,isArrayBuffer:zS,isBuffer:UI,isFormData:KI,isArrayBufferView:jI,isString:zI,isNumber:BS,isBoolean:BI,isObject:Bf,isPlainObject:Bh,isReadableStream:QI,isRequest:XI,isResponse:WI,isHeaders:JI,isUndefined:Ou,isDate:HI,isFile:qI,isBlob:FI,isRegExp:h2,isFunction:yn,isStream:$I,isURLSearchParams:YI,isTypedArray:a2,isFileList:GI,forEach:Hu,merge:Fm,extend:e2,trim:ZI,stripBOM:t2,inherits:n2,toFlatObject:r2,kindOf:jf,kindOfTest:cr,endsWith:i2,toArray:s2,forEachEntry:o2,matchAll:l2,isHTMLForm:u2,hasOwnProperty:aE,hasOwnProp:aE,reduceDescriptors:FS,freezeMethods:f2,toObjectSet:d2,toCamelCase:c2,noop:p2,toFiniteNumber:m2,findKey:HS,global:aa,isContextDefined:qS,isSpecCompliantForm:g2,toJSONObject:y2,isAsyncFn:v2,isThenable:_2,setImmediate:GS,asap:E2,isIterable:T2};function Ne(n,e,t,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}re.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const $S=Ne.prototype,KS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{KS[n]={value:n}});Object.defineProperties(Ne,KS);Object.defineProperty($S,"isAxiosError",{value:!0});Ne.from=(n,e,t,i,a,l)=>{const c=Object.create($S);return re.toFlatObject(n,c,function(m){return m!==Error.prototype},d=>d!=="isAxiosError"),Ne.call(c,n.message,e,t,i,a),c.cause=n,c.name=n.name,l&&Object.assign(c,l),c};const S2=null;function Gm(n){return re.isPlainObject(n)||re.isArray(n)}function YS(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function oE(n,e,t){return n?n.concat(e).map(function(a,l){return a=YS(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function b2(n){return re.isArray(n)&&!n.some(Gm)}const w2=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Hf(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(z,P){return!re.isUndefined(P[z])});const i=t.metaTokens,a=t.visitor||v,l=t.dots,c=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(a))throw new TypeError("visitor must be a function");function g(O){if(O===null)return"";if(re.isDate(O))return O.toISOString();if(!m&&re.isBlob(O))throw new Ne("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(O)||re.isTypedArray(O)?m&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function v(O,z,P){let F=O;if(O&&!P&&typeof O=="object"){if(re.endsWith(z,"{}"))z=i?z:z.slice(0,-2),O=JSON.stringify(O);else if(re.isArray(O)&&b2(O)||(re.isFileList(O)||re.endsWith(z,"[]"))&&(F=re.toArray(O)))return z=YS(z),F.forEach(function(H,ie){!(re.isUndefined(H)||H===null)&&e.append(c===!0?oE([z],ie,l):c===null?z:z+"[]",g(H))}),!1}return Gm(O)?!0:(e.append(oE(P,z,l),g(O)),!1)}const T=[],S=Object.assign(w2,{defaultVisitor:v,convertValue:g,isVisitable:Gm});function N(O,z){if(!re.isUndefined(O)){if(T.indexOf(O)!==-1)throw Error("Circular reference detected in "+z.join("."));T.push(O),re.forEach(O,function(F,j){(!(re.isUndefined(F)||F===null)&&a.call(e,F,re.isString(j)?j.trim():j,z,S))===!0&&N(F,z?z.concat(j):[j])}),T.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return N(n),e}function lE(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Lg(n,e){this._pairs=[],n&&Hf(n,this,e)}const QS=Lg.prototype;QS.append=function(e,t){this._pairs.push([e,t])};QS.toString=function(e){const t=e?function(i){return e.call(this,i,lE)}:lE;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function A2(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XS(n,e,t){if(!e)return n;const i=t&&t.encode||A2;re.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let l;if(a?l=a(e,t):l=re.isURLSearchParams(e)?e.toString():new Lg(e,t).toString(i),l){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class uE{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(i){i!==null&&e(i)})}}const WS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},R2=typeof URLSearchParams<"u"?URLSearchParams:Lg,C2=typeof FormData<"u"?FormData:null,I2=typeof Blob<"u"?Blob:null,O2={isBrowser:!0,classes:{URLSearchParams:R2,FormData:C2,Blob:I2},protocols:["http","https","file","blob","url","data"]},Vg=typeof window<"u"&&typeof document<"u",$m=typeof navigator=="object"&&navigator||void 0,x2=Vg&&(!$m||["ReactNative","NativeScript","NS"].indexOf($m.product)<0),D2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",N2=Vg&&window.location.href||"http://localhost",P2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vg,hasStandardBrowserEnv:x2,hasStandardBrowserWebWorkerEnv:D2,navigator:$m,origin:N2},Symbol.toStringTag,{value:"Module"})),sn={...P2,...O2};function M2(n,e){return Hf(n,new sn.classes.URLSearchParams,Object.assign({visitor:function(t,i,a,l){return sn.isNode&&re.isBuffer(t)?(this.append(i,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function k2(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function L2(n){const e={},t=Object.keys(n);let i;const a=t.length;let l;for(i=0;i<a;i++)l=t[i],e[l]=n[l];return e}function JS(n){function e(t,i,a,l){let c=t[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),m=l>=t.length;return c=!c&&re.isArray(a)?a.length:c,m?(re.hasOwnProp(a,c)?a[c]=[a[c],i]:a[c]=i,!d):((!a[c]||!re.isObject(a[c]))&&(a[c]=[]),e(t,i,a[c],l)&&re.isArray(a[c])&&(a[c]=L2(a[c])),!d)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(i,a)=>{e(k2(i),a,t,0)}),t}return null}function V2(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const qu={transitional:WS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",a=i.indexOf("application/json")>-1,l=re.isObject(e);if(l&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return a?JSON.stringify(JS(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return M2(e,this.formSerializer).toString();if((d=re.isFileList(e))||i.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Hf(d?{"files[]":e}:e,m&&new m,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),V2(e)):e}],transformResponse:[function(e){const t=this.transitional||qu.transitional,i=t&&t.forcedJSONParsing,a=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(i&&!this.responseType||a)){const c=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?Ne.from(d,Ne.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sn.classes.FormData,Blob:sn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{qu.headers[n]={}});const U2=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),j2=n=>{const e={};let t,i,a;return n&&n.split(`
`).forEach(function(c){a=c.indexOf(":"),t=c.substring(0,a).trim().toLowerCase(),i=c.substring(a+1).trim(),!(!t||e[t]&&U2[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},cE=Symbol("internals");function au(n){return n&&String(n).trim().toLowerCase()}function Hh(n){return n===!1||n==null?n:re.isArray(n)?n.map(Hh):String(n)}function z2(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const B2=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Tm(n,e,t,i,a){if(re.isFunction(i))return i.call(this,e,t);if(a&&(e=t),!!re.isString(e)){if(re.isString(i))return e.indexOf(i)!==-1;if(re.isRegExp(i))return i.test(e)}}function H2(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function q2(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(a,l,c){return this[i].call(this,e,a,l,c)},configurable:!0})})}let vn=class{constructor(e){e&&this.set(e)}set(e,t,i){const a=this;function l(d,m,g){const v=au(m);if(!v)throw new Error("header name must be a non-empty string");const T=re.findKey(a,v);(!T||a[T]===void 0||g===!0||g===void 0&&a[T]!==!1)&&(a[T||m]=Hh(d))}const c=(d,m)=>re.forEach(d,(g,v)=>l(g,v,m));if(re.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(re.isString(e)&&(e=e.trim())&&!B2(e))c(j2(e),t);else if(re.isObject(e)&&re.isIterable(e)){let d={},m,g;for(const v of e){if(!re.isArray(v))throw TypeError("Object iterator must return a key-value pair");d[g=v[0]]=(m=d[g])?re.isArray(m)?[...m,v[1]]:[m,v[1]]:v[1]}c(d,t)}else e!=null&&l(t,e,i);return this}get(e,t){if(e=au(e),e){const i=re.findKey(this,e);if(i){const a=this[i];if(!t)return a;if(t===!0)return z2(a);if(re.isFunction(t))return t.call(this,a,i);if(re.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=au(e),e){const i=re.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Tm(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let a=!1;function l(c){if(c=au(c),c){const d=re.findKey(i,c);d&&(!t||Tm(i,i[d],d,t))&&(delete i[d],a=!0)}}return re.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let i=t.length,a=!1;for(;i--;){const l=t[i];(!e||Tm(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,i={};return re.forEach(this,(a,l)=>{const c=re.findKey(i,l);if(c){t[c]=Hh(a),delete t[l];return}const d=e?H2(l):String(l).trim();d!==l&&delete t[l],t[d]=Hh(a),i[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(i,a)=>{i!=null&&i!==!1&&(t[a]=e&&re.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[cE]=this[cE]={accessors:{}}).accessors,a=this.prototype;function l(c){const d=au(c);i[d]||(q2(a,c),i[d]=!0)}return re.isArray(e)?e.forEach(l):l(e),this}};vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(vn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});re.freezeMethods(vn);function Sm(n,e){const t=this||qu,i=e||t,a=vn.from(i.headers);let l=i.data;return re.forEach(n,function(d){l=d.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function ZS(n){return!!(n&&n.__CANCEL__)}function Bo(n,e,t){Ne.call(this,n??"canceled",Ne.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(Bo,Ne,{__CANCEL__:!0});function eb(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Ne("Request failed with status code "+t.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function F2(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function G2(n,e){n=n||10;const t=new Array(n),i=new Array(n);let a=0,l=0,c;return e=e!==void 0?e:1e3,function(m){const g=Date.now(),v=i[l];c||(c=g),t[a]=m,i[a]=g;let T=l,S=0;for(;T!==a;)S+=t[T++],T=T%n;if(a=(a+1)%n,a===l&&(l=(l+1)%n),g-c<e)return;const N=v&&g-v;return N?Math.round(S*1e3/N):void 0}}function $2(n,e){let t=0,i=1e3/e,a,l;const c=(g,v=Date.now())=>{t=v,a=null,l&&(clearTimeout(l),l=null),n.apply(null,g)};return[(...g)=>{const v=Date.now(),T=v-t;T>=i?c(g,v):(a=g,l||(l=setTimeout(()=>{l=null,c(a)},i-T)))},()=>a&&c(a)]}const lf=(n,e,t=3)=>{let i=0;const a=G2(50,250);return $2(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,m=c-i,g=a(m),v=c<=d;i=c;const T={loaded:c,total:d,progress:d?c/d:void 0,bytes:m,rate:g||void 0,estimated:g&&d&&v?(d-c)/g:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(T)},t)},hE=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},fE=n=>(...e)=>re.asap(()=>n(...e)),K2=sn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,sn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(sn.origin),sn.navigator&&/(msie|trident)/i.test(sn.navigator.userAgent)):()=>!0,Y2=sn.hasStandardBrowserEnv?{write(n,e,t,i,a,l){const c=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),re.isString(i)&&c.push("path="+i),re.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Q2(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function X2(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function tb(n,e,t){let i=!Q2(e);return n&&(i||t==!1)?X2(n,e):e}const dE=n=>n instanceof vn?{...n}:n;function ca(n,e){e=e||{};const t={};function i(g,v,T,S){return re.isPlainObject(g)&&re.isPlainObject(v)?re.merge.call({caseless:S},g,v):re.isPlainObject(v)?re.merge({},v):re.isArray(v)?v.slice():v}function a(g,v,T,S){if(re.isUndefined(v)){if(!re.isUndefined(g))return i(void 0,g,T,S)}else return i(g,v,T,S)}function l(g,v){if(!re.isUndefined(v))return i(void 0,v)}function c(g,v){if(re.isUndefined(v)){if(!re.isUndefined(g))return i(void 0,g)}else return i(void 0,v)}function d(g,v,T){if(T in e)return i(g,v);if(T in n)return i(void 0,g)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(g,v,T)=>a(dE(g),dE(v),T,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(v){const T=m[v]||a,S=T(n[v],e[v],v);re.isUndefined(S)&&T!==d||(t[v]=S)}),t}const nb=n=>{const e=ca({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:d}=e;e.headers=c=vn.from(c),e.url=XS(tb(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let m;if(re.isFormData(t)){if(sn.hasStandardBrowserEnv||sn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((m=c.getContentType())!==!1){const[g,...v]=m?m.split(";").map(T=>T.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...v].join("; "))}}if(sn.hasStandardBrowserEnv&&(i&&re.isFunction(i)&&(i=i(e)),i||i!==!1&&K2(e.url))){const g=a&&l&&Y2.read(l);g&&c.set(a,g)}return e},W2=typeof XMLHttpRequest<"u",J2=W2&&function(n){return new Promise(function(t,i){const a=nb(n);let l=a.data;const c=vn.from(a.headers).normalize();let{responseType:d,onUploadProgress:m,onDownloadProgress:g}=a,v,T,S,N,O;function z(){N&&N(),O&&O(),a.cancelToken&&a.cancelToken.unsubscribe(v),a.signal&&a.signal.removeEventListener("abort",v)}let P=new XMLHttpRequest;P.open(a.method.toUpperCase(),a.url,!0),P.timeout=a.timeout;function F(){if(!P)return;const H=vn.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),q={data:!d||d==="text"||d==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:H,config:n,request:P};eb(function(L){t(L),z()},function(L){i(L),z()},q),P=null}"onloadend"in P?P.onloadend=F:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(F)},P.onabort=function(){P&&(i(new Ne("Request aborted",Ne.ECONNABORTED,n,P)),P=null)},P.onerror=function(){i(new Ne("Network Error",Ne.ERR_NETWORK,n,P)),P=null},P.ontimeout=function(){let ie=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const q=a.transitional||WS;a.timeoutErrorMessage&&(ie=a.timeoutErrorMessage),i(new Ne(ie,q.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,n,P)),P=null},l===void 0&&c.setContentType(null),"setRequestHeader"in P&&re.forEach(c.toJSON(),function(ie,q){P.setRequestHeader(q,ie)}),re.isUndefined(a.withCredentials)||(P.withCredentials=!!a.withCredentials),d&&d!=="json"&&(P.responseType=a.responseType),g&&([S,O]=lf(g,!0),P.addEventListener("progress",S)),m&&P.upload&&([T,N]=lf(m),P.upload.addEventListener("progress",T),P.upload.addEventListener("loadend",N)),(a.cancelToken||a.signal)&&(v=H=>{P&&(i(!H||H.type?new Bo(null,n,P):H),P.abort(),P=null)},a.cancelToken&&a.cancelToken.subscribe(v),a.signal&&(a.signal.aborted?v():a.signal.addEventListener("abort",v)));const j=F2(a.url);if(j&&sn.protocols.indexOf(j)===-1){i(new Ne("Unsupported protocol "+j+":",Ne.ERR_BAD_REQUEST,n));return}P.send(l||null)})},Z2=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,a;const l=function(g){if(!a){a=!0,d();const v=g instanceof Error?g:this.reason;i.abort(v instanceof Ne?v:new Bo(v instanceof Error?v.message:v))}};let c=e&&setTimeout(()=>{c=null,l(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const d=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),n=null)};n.forEach(g=>g.addEventListener("abort",l));const{signal:m}=i;return m.unsubscribe=()=>re.asap(d),m}},eO=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,a;for(;i<t;)a=i+e,yield n.slice(i,a),i=a},tO=async function*(n,e){for await(const t of nO(n))yield*eO(t,e)},nO=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},pE=(n,e,t,i)=>{const a=tO(n,e);let l=0,c,d=m=>{c||(c=!0,i&&i(m))};return new ReadableStream({async pull(m){try{const{done:g,value:v}=await a.next();if(g){d(),m.close();return}let T=v.byteLength;if(t){let S=l+=T;t(S)}m.enqueue(new Uint8Array(v))}catch(g){throw d(g),g}},cancel(m){return d(m),a.return()}},{highWaterMark:2})},qf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",rb=qf&&typeof ReadableStream=="function",rO=qf&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),ib=(n,...e)=>{try{return!!n(...e)}catch{return!1}},iO=rb&&ib(()=>{let n=!1;const e=new Request(sn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),mE=64*1024,Km=rb&&ib(()=>re.isReadableStream(new Response("").body)),uf={stream:Km&&(n=>n.body)};qf&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!uf[e]&&(uf[e]=re.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Ne(`Response type '${e}' is not supported`,Ne.ERR_NOT_SUPPORT,i)})})})(new Response);const sO=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(sn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await rO(n)).byteLength},aO=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??sO(e)},oO=qf&&(async n=>{let{url:e,method:t,data:i,signal:a,cancelToken:l,timeout:c,onDownloadProgress:d,onUploadProgress:m,responseType:g,headers:v,withCredentials:T="same-origin",fetchOptions:S}=nb(n);g=g?(g+"").toLowerCase():"text";let N=Z2([a,l&&l.toAbortSignal()],c),O;const z=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let P;try{if(m&&iO&&t!=="get"&&t!=="head"&&(P=await aO(v,i))!==0){let q=new Request(e,{method:"POST",body:i,duplex:"half"}),ee;if(re.isFormData(i)&&(ee=q.headers.get("content-type"))&&v.setContentType(ee),q.body){const[L,b]=hE(P,lf(fE(m)));i=pE(q.body,mE,L,b)}}re.isString(T)||(T=T?"include":"omit");const F="credentials"in Request.prototype;O=new Request(e,{...S,signal:N,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:i,duplex:"half",credentials:F?T:void 0});let j=await fetch(O);const H=Km&&(g==="stream"||g==="response");if(Km&&(d||H&&z)){const q={};["status","statusText","headers"].forEach(A=>{q[A]=j[A]});const ee=re.toFiniteNumber(j.headers.get("content-length")),[L,b]=d&&hE(ee,lf(fE(d),!0))||[];j=new Response(pE(j.body,mE,L,()=>{b&&b(),z&&z()}),q)}g=g||"text";let ie=await uf[re.findKey(uf,g)||"text"](j,n);return!H&&z&&z(),await new Promise((q,ee)=>{eb(q,ee,{data:ie,headers:vn.from(j.headers),status:j.status,statusText:j.statusText,config:n,request:O})})}catch(F){throw z&&z(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,n,O),{cause:F.cause||F}):Ne.from(F,F&&F.code,n,O)}}),Ym={http:S2,xhr:J2,fetch:oO};re.forEach(Ym,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const gE=n=>`- ${n}`,lO=n=>re.isFunction(n)||n===null||n===!1,sb={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,i;const a={};for(let l=0;l<e;l++){t=n[l];let c;if(i=t,!lO(t)&&(i=Ym[(c=String(t)).toLowerCase()],i===void 0))throw new Ne(`Unknown adapter '${c}'`);if(i)break;a[c||"#"+l]=i}if(!i){const l=Object.entries(a).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(gE).join(`
`):" "+gE(l[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:Ym};function bm(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Bo(null,n)}function yE(n){return bm(n),n.headers=vn.from(n.headers),n.data=Sm.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),sb.getAdapter(n.adapter||qu.adapter)(n).then(function(i){return bm(n),i.data=Sm.call(n,n.transformResponse,i),i.headers=vn.from(i.headers),i},function(i){return ZS(i)||(bm(n),i&&i.response&&(i.response.data=Sm.call(n,n.transformResponse,i.response),i.response.headers=vn.from(i.response.headers))),Promise.reject(i)})}const ab="1.9.0",Ff={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Ff[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const vE={};Ff.transitional=function(e,t,i){function a(l,c){return"[Axios v"+ab+"] Transitional option '"+l+"'"+c+(i?". "+i:"")}return(l,c,d)=>{if(e===!1)throw new Ne(a(c," has been removed"+(t?" in "+t:"")),Ne.ERR_DEPRECATED);return t&&!vE[c]&&(vE[c]=!0,console.warn(a(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,d):!0}};Ff.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function uO(n,e,t){if(typeof n!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let a=i.length;for(;a-- >0;){const l=i[a],c=e[l];if(c){const d=n[l],m=d===void 0||c(d,l,n);if(m!==!0)throw new Ne("option "+l+" must be "+m,Ne.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ne("Unknown option "+l,Ne.ERR_BAD_OPTION)}}const qh={assertOptions:uO,validators:Ff},Ir=qh.validators;let ua=class{constructor(e){this.defaults=e||{},this.interceptors={request:new uE,response:new uE}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ca(this.defaults,t);const{transitional:i,paramsSerializer:a,headers:l}=t;i!==void 0&&qh.assertOptions(i,{silentJSONParsing:Ir.transitional(Ir.boolean),forcedJSONParsing:Ir.transitional(Ir.boolean),clarifyTimeoutError:Ir.transitional(Ir.boolean)},!1),a!=null&&(re.isFunction(a)?t.paramsSerializer={serialize:a}:qh.assertOptions(a,{encode:Ir.function,serialize:Ir.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),qh.assertOptions(t,{baseUrl:Ir.spelling("baseURL"),withXsrfToken:Ir.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&re.merge(l.common,l[t.method]);l&&re.forEach(["delete","get","head","post","put","patch","common"],O=>{delete l[O]}),t.headers=vn.concat(c,l);const d=[];let m=!0;this.interceptors.request.forEach(function(z){typeof z.runWhen=="function"&&z.runWhen(t)===!1||(m=m&&z.synchronous,d.unshift(z.fulfilled,z.rejected))});const g=[];this.interceptors.response.forEach(function(z){g.push(z.fulfilled,z.rejected)});let v,T=0,S;if(!m){const O=[yE.bind(this),void 0];for(O.unshift.apply(O,d),O.push.apply(O,g),S=O.length,v=Promise.resolve(t);T<S;)v=v.then(O[T++],O[T++]);return v}S=d.length;let N=t;for(T=0;T<S;){const O=d[T++],z=d[T++];try{N=O(N)}catch(P){z.call(this,P);break}}try{v=yE.call(this,N)}catch(O){return Promise.reject(O)}for(T=0,S=g.length;T<S;)v=v.then(g[T++],g[T++]);return v}getUri(e){e=ca(this.defaults,e);const t=tb(e.baseURL,e.url,e.allowAbsoluteUrls);return XS(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){ua.prototype[e]=function(t,i){return this.request(ca(i||{},{method:e,url:t,data:(i||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(i){return function(l,c,d){return this.request(ca(d||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}ua.prototype[e]=t(),ua.prototype[e+"Form"]=t(!0)});let cO=class ob{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const i=this;this.promise.then(a=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](a);i._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(d=>{i.subscribe(d),l=d}).then(a);return c.cancel=function(){i.unsubscribe(l)},c},e(function(l,c,d){i.reason||(i.reason=new Bo(l,c,d),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ob(function(a){e=a}),cancel:e}}};function hO(n){return function(t){return n.apply(null,t)}}function fO(n){return re.isObject(n)&&n.isAxiosError===!0}const Qm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qm).forEach(([n,e])=>{Qm[e]=n});function lb(n){const e=new ua(n),t=US(ua.prototype.request,e);return re.extend(t,ua.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return lb(ca(n,a))},t}const ct=lb(qu);ct.Axios=ua;ct.CanceledError=Bo;ct.CancelToken=cO;ct.isCancel=ZS;ct.VERSION=ab;ct.toFormData=Hf;ct.AxiosError=Ne;ct.Cancel=ct.CanceledError;ct.all=function(e){return Promise.all(e)};ct.spread=hO;ct.isAxiosError=fO;ct.mergeConfig=ca;ct.AxiosHeaders=vn;ct.formToJSON=n=>JS(re.isHTMLForm(n)?new FormData(n):n);ct.getAdapter=sb.getAdapter;ct.HttpStatusCode=Qm;ct.default=ct;const{Axios:BL,AxiosError:HL,CanceledError:qL,isCancel:FL,CancelToken:GL,VERSION:$L,all:KL,Cancel:YL,isAxiosError:QL,spread:XL,toFormData:WL,AxiosHeaders:JL,HttpStatusCode:ZL,formToJSON:eV,getAdapter:tV,mergeConfig:nV}=ct,Vr=J.createContext(),dO=({children:n,reducer:e,inialState:t})=>w.jsx(Vr.Provider,{value:J.useReducer(e,t),children:n});function ub(n){return En({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function cb(n){return En({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function pO(n){return En({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function hb(n){return En({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}function mO(n){return En({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",x2:"9",y1:"12",y2:"12"},child:[]}]})(n)}const gO=()=>{};var _E={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},yO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},db={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,N=g&63;m||(N=64,c||(S=64)),i.push(t[v],t[T],t[S],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):yO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||T==null)throw new vO;const S=l<<2|d>>4;if(i.push(S),g!==64){const N=d<<4&240|g>>2;if(i.push(N),T!==64){const O=g<<6&192|T;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _O=function(n){const e=fb(n);return db.encodeByteArray(e,!0)},cf=function(n){return _O(n).replace(/\./g,"")},pb=function(n){try{return db.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=()=>EO().__FIREBASE_DEFAULTS__,SO=()=>{if(typeof process>"u"||typeof _E>"u")return;const n=_E.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&pb(n[1]);return e&&JSON.parse(e)},Gf=()=>{try{return gO()||TO()||SO()||bO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mb=n=>{var e,t;return(t=(e=Gf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},wO=n=>{const e=mb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},gb=()=>{var n;return(n=Gf())===null||n===void 0?void 0:n.config},yb=n=>{var e;return(e=Gf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){return n.endsWith(".cloudworkstations.dev")}async function vb(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cf(JSON.stringify(t)),cf(JSON.stringify(c)),""].join(".")}const Su={};function CO(){const n={prod:[],emulator:[]};for(const e of Object.keys(Su))Su[e]?n.emulator.push(e):n.prod.push(e);return n}function IO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let EE=!1;function _b(n,e){if(typeof window>"u"||typeof document>"u"||!Fu(window.location.host)||Su[n]===e||Su[n]||EE)return;Su[n]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=CO().prod.length>0;function c(){const S=document.getElementById(i);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{EE=!0,c()},S}function v(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=IO(i),N=t("text"),O=document.getElementById(N)||document.createElement("span"),z=t("learnmore"),P=document.getElementById(z)||document.createElement("a"),F=t("preprendIcon"),j=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const H=S.element;d(H),v(P,z);const ie=g();m(j,F),H.append(j,O,P,ie),document.body.appendChild(H)}l?(O.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function xO(){var n;const e=(n=Gf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function PO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MO(){const n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kO(){return!xO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LO(){try{return typeof indexedDB=="object"}catch{return!1}}function VO(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="FirebaseError";class wi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=UO,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gu.prototype.create)}}class Gu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?jO(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new wi(a,d,i)}}function jO(n,e){return n.replace(zO,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const zO=/\{\$([^}]+)}/g;function BO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ha(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(TE(l)&&TE(c)){if(!ha(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function TE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function yu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function vu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function HO(n,e){const t=new qO(n,e);return t.subscribe.bind(t)}class qO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");FO(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=wm),a.error===void 0&&(a.error=wm),a.complete===void 0&&(a.complete=wm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(n){return n&&n._delegate?n._delegate:n}class fa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new AO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KO(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$O(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $O(n){return n===sa?void 0:n}function KO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new GO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const QO={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},XO=je.INFO,WO={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},JO=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=WO[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ug{constructor(e){this.name=e,this._logLevel=XO,this._logHandler=JO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const ZO=(n,e)=>e.some(t=>n instanceof t);let SE,bE;function ex(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tx(){return bE||(bE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Eb=new WeakMap,Xm=new WeakMap,Tb=new WeakMap,Am=new WeakMap,jg=new WeakMap;function nx(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(os(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Eb.set(t,n)}).catch(()=>{}),jg.set(e,n),e}function rx(n){if(Xm.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Xm.set(n,e)}let Wm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Tb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return os(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ix(n){Wm=n(Wm)}function sx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Rm(this),e,...t);return Tb.set(i,e.sort?e.sort():[e]),os(i)}:tx().includes(n)?function(...e){return n.apply(Rm(this),e),os(Eb.get(this))}:function(...e){return os(n.apply(Rm(this),e))}}function ax(n){return typeof n=="function"?sx(n):(n instanceof IDBTransaction&&rx(n),ZO(n,ex())?new Proxy(n,Wm):n)}function os(n){if(n instanceof IDBRequest)return nx(n);if(Am.has(n))return Am.get(n);const e=ax(n);return e!==n&&(Am.set(n,e),jg.set(e,n)),e}const Rm=n=>jg.get(n);function ox(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=os(c);return i&&c.addEventListener("upgradeneeded",m=>{i(os(c.result),m.oldVersion,m.newVersion,os(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const lx=["get","getKey","getAll","getAllKeys","count"],ux=["put","add","delete","clear"],Cm=new Map;function wE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=ux.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||lx.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return Cm.set(e,l),l}ix(n=>({...n,get:(e,t,i)=>wE(e,t)||n.get(e,t,i),has:(e,t)=>!!wE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hx(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function hx(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jm="@firebase/app",AE="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Ug("@firebase/app"),fx="@firebase/app-compat",dx="@firebase/analytics-compat",px="@firebase/analytics",mx="@firebase/app-check-compat",gx="@firebase/app-check",yx="@firebase/auth",vx="@firebase/auth-compat",_x="@firebase/database",Ex="@firebase/data-connect",Tx="@firebase/database-compat",Sx="@firebase/functions",bx="@firebase/functions-compat",wx="@firebase/installations",Ax="@firebase/installations-compat",Rx="@firebase/messaging",Cx="@firebase/messaging-compat",Ix="@firebase/performance",Ox="@firebase/performance-compat",xx="@firebase/remote-config",Dx="@firebase/remote-config-compat",Nx="@firebase/storage",Px="@firebase/storage-compat",Mx="@firebase/firestore",kx="@firebase/ai",Lx="@firebase/firestore-compat",Vx="firebase",Ux="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="[DEFAULT]",jx={[Jm]:"fire-core",[fx]:"fire-core-compat",[px]:"fire-analytics",[dx]:"fire-analytics-compat",[gx]:"fire-app-check",[mx]:"fire-app-check-compat",[yx]:"fire-auth",[vx]:"fire-auth-compat",[_x]:"fire-rtdb",[Ex]:"fire-data-connect",[Tx]:"fire-rtdb-compat",[Sx]:"fire-fn",[bx]:"fire-fn-compat",[wx]:"fire-iid",[Ax]:"fire-iid-compat",[Rx]:"fire-fcm",[Cx]:"fire-fcm-compat",[Ix]:"fire-perf",[Ox]:"fire-perf-compat",[xx]:"fire-rc",[Dx]:"fire-rc-compat",[Nx]:"fire-gcs",[Px]:"fire-gcs-compat",[Mx]:"fire-fst",[Lx]:"fire-fst-compat",[kx]:"fire-vertex","fire-js":"fire-js",[Vx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Map,zx=new Map,eg=new Map;function RE(n,e){try{n.container.addComponent(e)}catch(t){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ro(n){const e=n.name;if(eg.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;eg.set(e,n);for(const t of hf.values())RE(t,n);for(const t of zx.values())RE(t,n);return!0}function zg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $n(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Gu("app","Firebase",Bx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=Ux;function Sb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Zm,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw ls.create("bad-app-name",{appName:String(a)});if(t||(t=gb()),!t)throw ls.create("no-options");const l=hf.get(a);if(l){if(ha(t,l.options)&&ha(i,l.config))return l;throw ls.create("duplicate-app",{appName:a})}const c=new YO(a);for(const m of eg.values())c.addComponent(m);const d=new Hx(t,i,c);return hf.set(a,d),d}function bb(n=Zm){const e=hf.get(n);if(!e&&n===Zm&&gb())return Sb();if(!e)throw ls.create("no-app",{appName:n});return e}function us(n,e,t){var i;let a=(i=jx[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(d.join(" "));return}Ro(new fa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="firebase-heartbeat-database",Fx=1,xu="firebase-heartbeat-store";let Im=null;function wb(){return Im||(Im=ox(qx,Fx,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ls.create("idb-open",{originalErrorMessage:n.message})})),Im}async function Gx(n){try{const t=(await wb()).transaction(xu),i=await t.objectStore(xu).get(Ab(n));return await t.done,i}catch(e){if(e instanceof wi)Ei.warn(e.message);else{const t=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(t.message)}}}async function CE(n,e){try{const i=(await wb()).transaction(xu,"readwrite");await i.objectStore(xu).put(e,Ab(n)),await i.done}catch(t){if(t instanceof wi)Ei.warn(t.message);else{const i=ls.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ei.warn(i.message)}}}function Ab(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=1024,Kx=30;class Yx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Xx(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=IE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>Kx){const c=Wx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ei.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=IE(),{heartbeatsToSend:i,unsentEntries:a}=Qx(this._heartbeatsCache.heartbeats),l=cf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ei.warn(t),""}}}function IE(){return new Date().toISOString().substring(0,10)}function Qx(n,e=$x){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),OE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),OE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Xx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LO()?VO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Gx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return CE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return CE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function OE(n){return cf(JSON.stringify({version:2,heartbeats:n})).length}function Wx(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(n){Ro(new fa("platform-logger",e=>new cx(e),"PRIVATE")),Ro(new fa("heartbeat",e=>new Yx(e),"PRIVATE")),us(Jm,AE,n),us(Jm,AE,"esm2017"),us("fire-js","")}Jx("");function Bg(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function Rb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zx=Rb,Cb=new Gu("auth","Firebase",Rb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new Ug("@firebase/auth");function eD(n,...e){ff.logLevel<=je.WARN&&ff.warn(`Auth (${Ho}): ${n}`,...e)}function Fh(n,...e){ff.logLevel<=je.ERROR&&ff.error(`Auth (${Ho}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(n,...e){throw Hg(n,...e)}function xr(n,...e){return Hg(n,...e)}function Ib(n,e,t){const i=Object.assign(Object.assign({},Zx()),{[e]:t});return new Gu("auth","Firebase",i).create(e,{appName:n.name})}function yi(n){return Ib(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Cb.create(n,...e)}function we(n,e,...t){if(!n)throw Hg(e,...t)}function pi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fh(e),new Error(e)}function Ti(n,e){n||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function tD(){return xE()==="http:"||xE()==="https:"}function xE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tD()||NO()||"connection"in navigator)?navigator.onLine:!0}function rD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ti(t>e,"Short delay should be less than long delay!"),this.isMobile=OO()||PO()}get(){return nD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(n,e){Ti(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aD=new Ku(3e4,6e4);function Ts(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ai(n,e,t,i,a={}){return xb(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=$u(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:m},l);return DO()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Fu(n.emulatorConfig.host)&&(g.credentials="include"),Ob.fetch()(await Db(n,n.config.apiHost,t,d),g)})}async function xb(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},iD),e);try{const a=new lD(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Rh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Rh(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Rh(n,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ib(n,v,g);or(n,v)}}catch(a){if(a instanceof wi)throw a;or(n,"network-request-failed",{message:String(a)})}}async function Yu(n,e,t,i,a={}){const l=await Ai(n,e,t,i,a);return"mfaPendingCredential"in l&&or(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Db(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?qg(n.config,a):`${n.config.apiScheme}://${a}`;return sD.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function oD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(xr(this.auth,"network-request-failed")),aD.get())})}}function Rh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=xr(n,e,i);return a.customData._tokenResponse=t,a}function DE(n){return n!==void 0&&n.enterprise!==void 0}class uD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return oD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cD(n,e){return Ai(n,"GET","/v2/recaptchaConfig",Ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(n,e){return Ai(n,"POST","/v1/accounts:delete",e)}async function df(n,e){return Ai(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fD(n,e=!1){const t=_n(n),i=await t.getIdToken(e),a=Fg(i);we(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:bu(Om(a.auth_time)),issuedAtTime:bu(Om(a.iat)),expirationTime:bu(Om(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Om(n){return Number(n)*1e3}function Fg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Fh("JWT malformed, contained fewer than 3 sections"),null;try{const a=pb(t);return a?JSON.parse(a):(Fh("Failed to decode base64 JWT payload"),null)}catch(a){return Fh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function NE(n){const e=Fg(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof wi&&dD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function dD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(n){var e;const t=n.auth,i=await n.getIdToken(),a=await Co(n,df(t,{idToken:i}));we(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Nb(l.providerUserInfo):[],d=gD(n.providerData,c),m=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=m?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ng(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function mD(n){const e=_n(n);await pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gD(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Nb(n){return n.map(e=>{var{providerId:t}=e,i=Bg(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(n,e){const t=await xb(n,{},async()=>{const i=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await Db(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Ob.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vD(n,e){return Ai(n,"POST","/v2/accounts:revokeToken",Ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=NE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await yD(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new So;return i&&(we(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(we(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(we(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ir{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=Bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ng(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Co(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fD(this,e)}reload(){return mD(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await pf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await Co(this,hD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,m,g,v;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(a=t.email)!==null&&a!==void 0?a:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,z=(d=t.tenantId)!==null&&d!==void 0?d:void 0,P=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,F=(g=t.createdAt)!==null&&g!==void 0?g:void 0,j=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:H,emailVerified:ie,isAnonymous:q,providerData:ee,stsTokenManager:L}=t;we(H&&L,e,"internal-error");const b=So.fromJSON(this.name,L);we(typeof H=="string",e,"internal-error"),ts(T,e.name),ts(S,e.name),we(typeof ie=="boolean",e,"internal-error"),we(typeof q=="boolean",e,"internal-error"),ts(N,e.name),ts(O,e.name),ts(z,e.name),ts(P,e.name),ts(F,e.name),ts(j,e.name);const A=new ir({uid:H,auth:e,email:S,emailVerified:ie,displayName:T,isAnonymous:q,photoURL:O,phoneNumber:N,tenantId:z,stsTokenManager:b,createdAt:F,lastLoginAt:j});return ee&&Array.isArray(ee)&&(A.providerData=ee.map(M=>Object.assign({},M))),P&&(A._redirectEventId=P),A}static async _fromIdTokenResponse(e,t,i=!1){const a=new So;a.updateFromServerResponse(t);const l=new ir({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await pf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];we(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Nb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new So;d.updateFromIdToken(i);const m=new ir({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ng(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;function mi(n){Ti(n instanceof Function,"Expected a class definition");let e=PE.get(n);return e?(Ti(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,PE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Pb.type="NONE";const ME=Pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n,e,t){return`firebase:${n}:${e}:${t}`}class bo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Gh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Gh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await df(this.auth,{idToken:e}).catch(()=>{});return t?ir._fromGetAccountInfoResponse(this.auth,t,e):null}return ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new bo(mi(ME),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||mi(ME);const c=Gh(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const S=await df(e,{idToken:v}).catch(()=>{});if(!S)break;T=await ir._fromGetAccountInfoResponse(e,S,v)}else T=ir._fromJSON(e,v);g!==l&&(d=T),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new bo(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new bo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jb(e))return"Blackberry";if(zb(e))return"Webos";if(kb(e))return"Safari";if((e.includes("chrome/")||Lb(e))&&!e.includes("edge/"))return"Chrome";if(Ub(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Mb(n=an()){return/firefox\//i.test(n)}function kb(n=an()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lb(n=an()){return/crios\//i.test(n)}function Vb(n=an()){return/iemobile/i.test(n)}function Ub(n=an()){return/android/i.test(n)}function jb(n=an()){return/blackberry/i.test(n)}function zb(n=an()){return/webos/i.test(n)}function Gg(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _D(n=an()){var e;return Gg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ED(){return MO()&&document.documentMode===10}function Bb(n=an()){return Gg(n)||Ub(n)||zb(n)||jb(n)||/windows phone/i.test(n)||Vb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(n,e=[]){let t;switch(n){case"Browser":t=kE(an());break;case"Worker":t=`${kE(an())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ho}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(n,e={}){return Ai(n,"GET","/v2/passwordPolicy",Ts(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=6;class wD{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:bD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LE(this),this.idTokenSubscription=new LE(this),this.beforeStateQueue=new TD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mi(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await df(this,{idToken:e}),i=await ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(yi(this));const t=e?_n(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SD(this),t=new wD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await vD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mi(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&eD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ya(n){return _n(n)}class LE{constructor(e){this.auth=e,this.observer=null,this.addObserver=HO(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RD(n){$f=n}function qb(n){return $f.loadJS(n)}function CD(){return $f.recaptchaEnterpriseScript}function ID(){return $f.gapiScript}function OD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class xD{constructor(){this.enterprise=new DD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class DD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ND="recaptcha-enterprise",Fb="NO_RECAPTCHA";class PD{constructor(e){this.type=ND,this.auth=ya(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{cD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new uD(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;DE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(Fb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&DE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=CD();m.length!==0&&(m+=d),qb(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function VE(n,e,t,i=!1,a=!1){const l=new PD(n);let c;if(a)c=Fb;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function rg(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await VE(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await VE(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(n,e){const t=zg(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ha(l,e??{}))return a;or(a,"already-initialized")}return t.initialize({options:e})}function kD(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(mi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function LD(n,e,t){const i=ya(n);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=Gb(e),{host:c,port:d}=VD(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(ha(g,i.config.emulator)&&ha(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Fu(c)?(vb(`${l}//${c}${m}`),_b("Auth",!0)):UD()}function Gb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function VD(n){const e=Gb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:UE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:UE(c)}}}function UE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function UD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,t){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}async function jD(n,e){return Ai(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(n,e){return Yu(n,"POST","/v1/accounts:signInWithPassword",Ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(n,e){return Yu(n,"POST","/v1/accounts:signInWithEmailLink",Ts(n,e))}async function HD(n,e){return Yu(n,"POST","/v1/accounts:signInWithEmailLink",Ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends $g{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Du(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Du(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rg(e,t,"signInWithPassword",zD);case"emailLink":return BD(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rg(e,i,"signUpPassword",jD);case"emailLink":return HD(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(n,e){return Yu(n,"POST","/v1/accounts:signInWithIdp",Ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="http://localhost";class da extends $g{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=Bg(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new da(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return wo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,wo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:qD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$u(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GD(n){const e=yu(vu(n)).link,t=e?yu(vu(e)).deep_link_id:null,i=yu(vu(n)).deep_link_id;return(i?yu(vu(i)).link:null)||i||t||e||n}class Kg{constructor(e){var t,i,a,l,c,d;const m=yu(vu(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(i=m.oobCode)!==null&&i!==void 0?i:null,T=FD((a=m.mode)!==null&&a!==void 0?a:null);we(g&&v&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=GD(e);try{return new Kg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.providerId=qo.PROVIDER_ID}static credential(e,t){return Du._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Kg.parseLink(t);return we(i,"argument-error"),Du._fromEmailAndCode(e,i.code,i.tenantId)}}qo.PROVIDER_ID="password";qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends $b{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Qu{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return da._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return rs.credential(t,i)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Qu{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Qu{constructor(){super("twitter.com")}static credential(e,t){return da._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ss.credential(t,i)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(n,e){return Yu(n,"POST","/v1/accounts:signUp",Ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await ir._fromIdTokenResponse(e,i,a),c=jE(i);return new pa({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=jE(i);return new pa({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function jE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends wi{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new mf(e,t,i,a)}}function Kb(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(n,l,e,i):l})}async function KD(n,e,t=!1){const i=await Co(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return pa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(n,e,t=!1){const{auth:i}=n;if($n(i.app))return Promise.reject(yi(i));const a="reauthenticate";try{const l=await Co(n,Kb(i,a,e,n),t);we(l.idToken,i,"internal-error");const c=Fg(l.idToken);we(c,i,"internal-error");const{sub:d}=c;return we(n.uid===d,i,"user-mismatch"),pa._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&or(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(n,e,t=!1){if($n(n.app))return Promise.reject(yi(n));const i="signIn",a=await Kb(n,i,e),l=await pa._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function QD(n,e){return Yb(ya(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(n){const e=ya(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XD(n,e,t){if($n(n.app))return Promise.reject(yi(n));const i=ya(n),c=await rg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$D).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Qb(n),m}),d=await pa._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function WD(n,e,t){return $n(n.app)?Promise.reject(yi(n)):QD(_n(n),qo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Qb(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(n,e){return Ai(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=_n(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Co(i,JD(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function eN(n,e,t,i){return _n(n).onIdTokenChanged(e,t,i)}function tN(n,e,t){return _n(n).beforeAuthStateChanged(e,t)}function nN(n){return _n(n).signOut()}const gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gf,"1"),this.storage.removeItem(gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=1e3,iN=10;class Wb extends Xb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);ED()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,iN):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},rN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Wb.type="LOCAL";const sN=Wb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb extends Xb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jb.type="SESSION";const Zb=Jb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Kf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await aN(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Yg("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function lN(n){Dr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function uN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hN(){return e1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firebaseLocalStorageDb",fN=1,yf="firebaseLocalStorage",n1="fbase_key";class Xu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yf(n,e){return n.transaction([yf],e?"readwrite":"readonly").objectStore(yf)}function dN(){const n=indexedDB.deleteDatabase(t1);return new Xu(n).toPromise()}function ig(){const n=indexedDB.open(t1,fN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(yf,{keyPath:n1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(yf)?e(i):(i.close(),await dN(),e(await ig()))})})}async function zE(n,e,t){const i=Yf(n,!0).put({[n1]:e,value:t});return new Xu(i).toPromise()}async function pN(n,e){const t=Yf(n,!1).get(e),i=await new Xu(t).toPromise();return i===void 0?null:i.value}function BE(n,e){const t=Yf(n,!0).delete(e);return new Xu(t).toPromise()}const mN=800,gN=3;class r1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ig(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>gN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(hN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await uN(),!this.activeServiceWorker)return;this.sender=new oN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ig();return await zE(e,gf,"1"),await BE(e,gf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>zE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>pN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>BE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Yf(a,!1).getAll();return new Xu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r1.type="LOCAL";const yN=r1;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(n,e){return e?mi(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg extends $g{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _N(n){return Yb(n.auth,new Qg(n),n.bypassAuthState)}function EN(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),YD(t,new Qg(n),n.bypassAuthState)}async function TN(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),KD(t,new Qg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _N;case"linkViaPopup":case"linkViaRedirect":return TN;case"reauthViaPopup":case"reauthViaRedirect":return EN;default:or(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new Ku(2e3,1e4);class Eo extends i1{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=Yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SN.get())};e()}}Eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="pendingRedirect",$h=new Map;class wN extends i1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=$h.get(this.auth._key());if(!e){try{const i=await AN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}$h.set(this.auth._key(),e)}return this.bypassAuthState||$h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AN(n,e){const t=IN(e),i=CN(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function RN(n,e){$h.set(n._key(),e)}function CN(n){return mi(n._redirectPersistence)}function IN(n){return Gh(bN,n.config.apiKey,n.name)}async function ON(n,e,t=!1){if($n(n.app))return Promise.reject(yi(n));const i=ya(n),a=vN(i,e),c=await new wN(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=10*60*1e3;class DN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!s1(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(xr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xN&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(e))}saveEventToCache(e){this.cachedEventUids.add(HE(e)),this.lastProcessedEventTime=Date.now()}}function HE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function s1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(n,e={}){return Ai(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kN=/^https?/;async function LN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await PN(n);for(const t of e)try{if(VN(t))return}catch{}or(n,"unauthorized-domain")}function VN(n){const e=tg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!kN.test(t))return!1;if(MN.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new Ku(3e4,6e4);function qE(){const n=Dr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jN(n){return new Promise((e,t)=>{var i,a,l;function c(){qE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qE(),t(xr(n,"network-request-failed"))},timeout:UN.get()})}if(!((a=(i=Dr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Dr().gapi)===null||l===void 0)&&l.load)c();else{const d=OD("iframefcb");return Dr()[d]=()=>{gapi.load?c():t(xr(n,"network-request-failed"))},qb(`${ID()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Kh=null,e})}let Kh=null;function zN(n){return Kh=Kh||jN(n),Kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new Ku(5e3,15e3),HN="__/auth/iframe",qN="emulator/auth/iframe",FN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $N(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qg(e,qN):`https://${n.config.authDomain}/${HN}`,i={apiKey:e.apiKey,appName:n.name,v:Ho},a=GN.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${$u(i).slice(1)}`}async function KN(n){const e=await zN(n),t=Dr().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:$N(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FN,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=xr(n,"network-request-failed"),d=Dr().setTimeout(()=>{l(c)},BN.get());function m(){Dr().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QN=500,XN=600,WN="_blank",JN="http://localhost";class FE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZN(n,e,t,i=QN,a=XN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m=Object.assign(Object.assign({},YN),{width:i.toString(),height:a.toString(),top:l,left:c}),g=an().toLowerCase();t&&(d=Lb(g)?WN:t),Mb(g)&&(e=e||JN,m.scrollbars="yes");const v=Object.entries(m).reduce((S,[N,O])=>`${S}${N}=${O},`,"");if(_D(g)&&d!=="_self")return eP(e||"",d),new FE(null);const T=window.open(e||"",d,v);we(T,n,"popup-blocked");try{T.focus()}catch{}return new FE(T)}function eP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="__/auth/handler",nP="emulator/auth/handler",rP=encodeURIComponent("fac");async function GE(n,e,t,i,a,l){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ho,eventId:a};if(e instanceof $b){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",BO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof Qu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),g=m?`#${rP}=${encodeURIComponent(m)}`:"";return`${iP(n)}?${$u(d).slice(1)}${g}`}function iP({config:n}){return n.emulator?qg(n,nP):`https://${n.authDomain}/${tP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="webStorageSupport";class sP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zb,this._completeRedirectFn=ON,this._overrideRedirectResult=RN}async _openPopup(e,t,i,a){var l;Ti((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await GE(e,t,i,tg(),a);return ZN(e,c,Yg())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await GE(e,t,i,tg(),a);return lN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Ti(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await KN(e),i=new DN(e);return t.register("authEvent",a=>(we(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xm,{type:xm},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[xm];c!==void 0&&t(!!c),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=LN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Bb()||kb()||Gg()}}const aP=sP;var $E="@firebase/auth",KE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uP(n){Ro(new fa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hb(n)},g=new AD(i,a,l,m);return kD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ro(new fa("auth-internal",e=>{const t=ya(e.getProvider("auth").getImmediate());return(i=>new oP(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),us($E,KE,lP(n)),us($E,KE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=5*60,hP=yb("authIdTokenMaxAge")||cP;let YE=null;const fP=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>hP)return;const a=t==null?void 0:t.token;YE!==a&&(YE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function dP(n=bb()){const e=zg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=MD(n,{popupRedirectResolver:aP,persistence:[yN,sN,Zb]}),i=yb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=fP(l.toString());tN(t,c,()=>c(t.currentUser)),eN(t,d=>c(d))}}const a=mb("auth");return a&&LD(t,`http://${a}`),t}function pP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}RD({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=xr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",pP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uP("Browser");var mP="firebase",gP="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(mP,gP,"app");var QE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,a1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,b){function A(){}A.prototype=b.prototype,L.D=b.prototype,L.prototype=new A,L.prototype.constructor=L,L.C=function(M,D,C){for(var I=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)I[ue-2]=arguments[ue];return b.prototype[D].apply(M,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(L,b,A){A||(A=0);var M=Array(16);if(typeof b=="string")for(var D=0;16>D;++D)M[D]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(D=0;16>D;++D)M[D]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=L.g[0],A=L.g[1],D=L.g[2];var C=L.g[3],I=b+(C^A&(D^C))+M[0]+3614090360&4294967295;b=A+(I<<7&4294967295|I>>>25),I=C+(D^b&(A^D))+M[1]+3905402710&4294967295,C=b+(I<<12&4294967295|I>>>20),I=D+(A^C&(b^A))+M[2]+606105819&4294967295,D=C+(I<<17&4294967295|I>>>15),I=A+(b^D&(C^b))+M[3]+3250441966&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(C^A&(D^C))+M[4]+4118548399&4294967295,b=A+(I<<7&4294967295|I>>>25),I=C+(D^b&(A^D))+M[5]+1200080426&4294967295,C=b+(I<<12&4294967295|I>>>20),I=D+(A^C&(b^A))+M[6]+2821735955&4294967295,D=C+(I<<17&4294967295|I>>>15),I=A+(b^D&(C^b))+M[7]+4249261313&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(C^A&(D^C))+M[8]+1770035416&4294967295,b=A+(I<<7&4294967295|I>>>25),I=C+(D^b&(A^D))+M[9]+2336552879&4294967295,C=b+(I<<12&4294967295|I>>>20),I=D+(A^C&(b^A))+M[10]+4294925233&4294967295,D=C+(I<<17&4294967295|I>>>15),I=A+(b^D&(C^b))+M[11]+2304563134&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(C^A&(D^C))+M[12]+1804603682&4294967295,b=A+(I<<7&4294967295|I>>>25),I=C+(D^b&(A^D))+M[13]+4254626195&4294967295,C=b+(I<<12&4294967295|I>>>20),I=D+(A^C&(b^A))+M[14]+2792965006&4294967295,D=C+(I<<17&4294967295|I>>>15),I=A+(b^D&(C^b))+M[15]+1236535329&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(D^C&(A^D))+M[1]+4129170786&4294967295,b=A+(I<<5&4294967295|I>>>27),I=C+(A^D&(b^A))+M[6]+3225465664&4294967295,C=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(C^b))+M[11]+643717713&4294967295,D=C+(I<<14&4294967295|I>>>18),I=A+(C^b&(D^C))+M[0]+3921069994&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^C&(A^D))+M[5]+3593408605&4294967295,b=A+(I<<5&4294967295|I>>>27),I=C+(A^D&(b^A))+M[10]+38016083&4294967295,C=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(C^b))+M[15]+3634488961&4294967295,D=C+(I<<14&4294967295|I>>>18),I=A+(C^b&(D^C))+M[4]+3889429448&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^C&(A^D))+M[9]+568446438&4294967295,b=A+(I<<5&4294967295|I>>>27),I=C+(A^D&(b^A))+M[14]+3275163606&4294967295,C=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(C^b))+M[3]+4107603335&4294967295,D=C+(I<<14&4294967295|I>>>18),I=A+(C^b&(D^C))+M[8]+1163531501&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^C&(A^D))+M[13]+2850285829&4294967295,b=A+(I<<5&4294967295|I>>>27),I=C+(A^D&(b^A))+M[2]+4243563512&4294967295,C=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(C^b))+M[7]+1735328473&4294967295,D=C+(I<<14&4294967295|I>>>18),I=A+(C^b&(D^C))+M[12]+2368359562&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(A^D^C)+M[5]+4294588738&4294967295,b=A+(I<<4&4294967295|I>>>28),I=C+(b^A^D)+M[8]+2272392833&4294967295,C=b+(I<<11&4294967295|I>>>21),I=D+(C^b^A)+M[11]+1839030562&4294967295,D=C+(I<<16&4294967295|I>>>16),I=A+(D^C^b)+M[14]+4259657740&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^C)+M[1]+2763975236&4294967295,b=A+(I<<4&4294967295|I>>>28),I=C+(b^A^D)+M[4]+1272893353&4294967295,C=b+(I<<11&4294967295|I>>>21),I=D+(C^b^A)+M[7]+4139469664&4294967295,D=C+(I<<16&4294967295|I>>>16),I=A+(D^C^b)+M[10]+3200236656&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^C)+M[13]+681279174&4294967295,b=A+(I<<4&4294967295|I>>>28),I=C+(b^A^D)+M[0]+3936430074&4294967295,C=b+(I<<11&4294967295|I>>>21),I=D+(C^b^A)+M[3]+3572445317&4294967295,D=C+(I<<16&4294967295|I>>>16),I=A+(D^C^b)+M[6]+76029189&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^C)+M[9]+3654602809&4294967295,b=A+(I<<4&4294967295|I>>>28),I=C+(b^A^D)+M[12]+3873151461&4294967295,C=b+(I<<11&4294967295|I>>>21),I=D+(C^b^A)+M[15]+530742520&4294967295,D=C+(I<<16&4294967295|I>>>16),I=A+(D^C^b)+M[2]+3299628645&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(D^(A|~C))+M[0]+4096336452&4294967295,b=A+(I<<6&4294967295|I>>>26),I=C+(A^(b|~D))+M[7]+1126891415&4294967295,C=b+(I<<10&4294967295|I>>>22),I=D+(b^(C|~A))+M[14]+2878612391&4294967295,D=C+(I<<15&4294967295|I>>>17),I=A+(C^(D|~b))+M[5]+4237533241&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~C))+M[12]+1700485571&4294967295,b=A+(I<<6&4294967295|I>>>26),I=C+(A^(b|~D))+M[3]+2399980690&4294967295,C=b+(I<<10&4294967295|I>>>22),I=D+(b^(C|~A))+M[10]+4293915773&4294967295,D=C+(I<<15&4294967295|I>>>17),I=A+(C^(D|~b))+M[1]+2240044497&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~C))+M[8]+1873313359&4294967295,b=A+(I<<6&4294967295|I>>>26),I=C+(A^(b|~D))+M[15]+4264355552&4294967295,C=b+(I<<10&4294967295|I>>>22),I=D+(b^(C|~A))+M[6]+2734768916&4294967295,D=C+(I<<15&4294967295|I>>>17),I=A+(C^(D|~b))+M[13]+1309151649&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~C))+M[4]+4149444226&4294967295,b=A+(I<<6&4294967295|I>>>26),I=C+(A^(b|~D))+M[11]+3174756917&4294967295,C=b+(I<<10&4294967295|I>>>22),I=D+(b^(C|~A))+M[2]+718787259&4294967295,D=C+(I<<15&4294967295|I>>>17),I=A+(C^(D|~b))+M[9]+3951481745&4294967295,L.g[0]=L.g[0]+b&4294967295,L.g[1]=L.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,L.g[2]=L.g[2]+D&4294967295,L.g[3]=L.g[3]+C&4294967295}i.prototype.u=function(L,b){b===void 0&&(b=L.length);for(var A=b-this.blockSize,M=this.B,D=this.h,C=0;C<b;){if(D==0)for(;C<=A;)a(this,L,C),C+=this.blockSize;if(typeof L=="string"){for(;C<b;)if(M[D++]=L.charCodeAt(C++),D==this.blockSize){a(this,M),D=0;break}}else for(;C<b;)if(M[D++]=L[C++],D==this.blockSize){a(this,M),D=0;break}}this.h=D,this.o+=b},i.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var b=1;b<L.length-8;++b)L[b]=0;var A=8*this.o;for(b=L.length-8;b<L.length;++b)L[b]=A&255,A/=256;for(this.u(L),L=Array(16),b=A=0;4>b;++b)for(var M=0;32>M;M+=8)L[A++]=this.g[b]>>>M&255;return L};function l(L,b){var A=d;return Object.prototype.hasOwnProperty.call(A,L)?A[L]:A[L]=b(L)}function c(L,b){this.h=b;for(var A=[],M=!0,D=L.length-1;0<=D;D--){var C=L[D]|0;M&&C==b||(A[D]=C,M=!1)}this.g=A}var d={};function m(L){return-128<=L&&128>L?l(L,function(b){return new c([b|0],0>b?-1:0)}):new c([L|0],0>L?-1:0)}function g(L){if(isNaN(L)||!isFinite(L))return T;if(0>L)return P(g(-L));for(var b=[],A=1,M=0;L>=A;M++)b[M]=L/A|0,A*=4294967296;return new c(b,0)}function v(L,b){if(L.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(L.charAt(0)=="-")return P(v(L.substring(1),b));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(b,8)),M=T,D=0;D<L.length;D+=8){var C=Math.min(8,L.length-D),I=parseInt(L.substring(D,D+C),b);8>C?(C=g(Math.pow(b,C)),M=M.j(C).add(g(I))):(M=M.j(A),M=M.add(g(I)))}return M}var T=m(0),S=m(1),N=m(16777216);n=c.prototype,n.m=function(){if(z(this))return-P(this).m();for(var L=0,b=1,A=0;A<this.g.length;A++){var M=this.i(A);L+=(0<=M?M:4294967296+M)*b,b*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(O(this))return"0";if(z(this))return"-"+P(this).toString(L);for(var b=g(Math.pow(L,6)),A=this,M="";;){var D=ie(A,b).g;A=F(A,D.j(b));var C=((0<A.g.length?A.g[0]:A.h)>>>0).toString(L);if(A=D,O(A))return C+M;for(;6>C.length;)C="0"+C;M=C+M}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function O(L){if(L.h!=0)return!1;for(var b=0;b<L.g.length;b++)if(L.g[b]!=0)return!1;return!0}function z(L){return L.h==-1}n.l=function(L){return L=F(this,L),z(L)?-1:O(L)?0:1};function P(L){for(var b=L.g.length,A=[],M=0;M<b;M++)A[M]=~L.g[M];return new c(A,~L.h).add(S)}n.abs=function(){return z(this)?P(this):this},n.add=function(L){for(var b=Math.max(this.g.length,L.g.length),A=[],M=0,D=0;D<=b;D++){var C=M+(this.i(D)&65535)+(L.i(D)&65535),I=(C>>>16)+(this.i(D)>>>16)+(L.i(D)>>>16);M=I>>>16,C&=65535,I&=65535,A[D]=I<<16|C}return new c(A,A[A.length-1]&-2147483648?-1:0)};function F(L,b){return L.add(P(b))}n.j=function(L){if(O(this)||O(L))return T;if(z(this))return z(L)?P(this).j(P(L)):P(P(this).j(L));if(z(L))return P(this.j(P(L)));if(0>this.l(N)&&0>L.l(N))return g(this.m()*L.m());for(var b=this.g.length+L.g.length,A=[],M=0;M<2*b;M++)A[M]=0;for(M=0;M<this.g.length;M++)for(var D=0;D<L.g.length;D++){var C=this.i(M)>>>16,I=this.i(M)&65535,ue=L.i(D)>>>16,k=L.i(D)&65535;A[2*M+2*D]+=I*k,j(A,2*M+2*D),A[2*M+2*D+1]+=C*k,j(A,2*M+2*D+1),A[2*M+2*D+1]+=I*ue,j(A,2*M+2*D+1),A[2*M+2*D+2]+=C*ue,j(A,2*M+2*D+2)}for(M=0;M<b;M++)A[M]=A[2*M+1]<<16|A[2*M];for(M=b;M<2*b;M++)A[M]=0;return new c(A,0)};function j(L,b){for(;(L[b]&65535)!=L[b];)L[b+1]+=L[b]>>>16,L[b]&=65535,b++}function H(L,b){this.g=L,this.h=b}function ie(L,b){if(O(b))throw Error("division by zero");if(O(L))return new H(T,T);if(z(L))return b=ie(P(L),b),new H(P(b.g),P(b.h));if(z(b))return b=ie(L,P(b)),new H(P(b.g),b.h);if(30<L.g.length){if(z(L)||z(b))throw Error("slowDivide_ only works with positive integers.");for(var A=S,M=b;0>=M.l(L);)A=q(A),M=q(M);var D=ee(A,1),C=ee(M,1);for(M=ee(M,2),A=ee(A,2);!O(M);){var I=C.add(M);0>=I.l(L)&&(D=D.add(A),C=I),M=ee(M,1),A=ee(A,1)}return b=F(L,D.j(b)),new H(D,b)}for(D=T;0<=L.l(b);){for(A=Math.max(1,Math.floor(L.m()/b.m())),M=Math.ceil(Math.log(A)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),C=g(A),I=C.j(b);z(I)||0<I.l(L);)A-=M,C=g(A),I=C.j(b);O(C)&&(C=S),D=D.add(C),L=F(L,I)}return new H(D,L)}n.A=function(L){return ie(this,L).h},n.and=function(L){for(var b=Math.max(this.g.length,L.g.length),A=[],M=0;M<b;M++)A[M]=this.i(M)&L.i(M);return new c(A,this.h&L.h)},n.or=function(L){for(var b=Math.max(this.g.length,L.g.length),A=[],M=0;M<b;M++)A[M]=this.i(M)|L.i(M);return new c(A,this.h|L.h)},n.xor=function(L){for(var b=Math.max(this.g.length,L.g.length),A=[],M=0;M<b;M++)A[M]=this.i(M)^L.i(M);return new c(A,this.h^L.h)};function q(L){for(var b=L.g.length+1,A=[],M=0;M<b;M++)A[M]=L.i(M)<<1|L.i(M-1)>>>31;return new c(A,L.h)}function ee(L,b){var A=b>>5;b%=32;for(var M=L.g.length-A,D=[],C=0;C<M;C++)D[C]=0<b?L.i(C+A)>>>b|L.i(C+A+1)<<32-b:L.i(C+A);return new c(D,L.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,a1=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,cs=c}).apply(typeof QE<"u"?QE:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o1,_u,l1,Yh,sg,u1,c1,h1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var _=i;h=h.split(".");for(var x=0;x<h.length-1;x++){var K=h[x];if(!(K in _))break e;_=_[K]}h=h[h.length-1],x=_[h],y=y(x),y!=x&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,x=!1,K={next:function(){if(!x&&_<h.length){var ne=_++;return{value:y(ne,h[ne]),done:!1}}return x=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function T(h,y,_){if(!h)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,x),h.apply(y,K)}}return function(){return h.apply(y,arguments)}}function S(h,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,S.apply(null,arguments)}function N(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function O(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(x,K,ne){for(var pe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)pe[Be-2]=arguments[Be];return y.prototype[K].apply(x,pe)}}function z(h){const y=h.length;if(0<y){const _=Array(y);for(let x=0;x<y;x++)_[x]=h[x];return _}return[]}function P(h,y){for(let _=1;_<arguments.length;_++){const x=arguments[_];if(m(x)){const K=h.length||0,ne=x.length||0;h.length=K+ne;for(let pe=0;pe<ne;pe++)h[K+pe]=x[pe]}else h.push(x)}}class F{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(h){return/^[\s\xa0]*$/.test(h)}function H(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ie(h){return ie[" "](h),h}ie[" "]=function(){};var q=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ee(h,y,_){for(const x in h)y.call(_,h[x],x,h)}function L(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function b(h){const y={};for(const _ in h)y[_]=h[_];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let _,x;for(let K=1;K<arguments.length;K++){x=arguments[K];for(_ in x)h[_]=x[_];for(let ne=0;ne<A.length;ne++)_=A[ne],Object.prototype.hasOwnProperty.call(x,_)&&(h[_]=x[_])}}function D(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function C(h){d.setTimeout(()=>{throw h},0)}function I(){var h=ge;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ue{constructor(){this.h=this.g=null}add(y,_){const x=k.get();x.set(y,_),this.h?this.h.next=x:this.g=x,this.h=x}}var k=new F(()=>new G,h=>h.reset());class G{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ae=!1,ge=new ue,U=()=>{const h=d.Promise.resolve(void 0);X=()=>{h.then(te)}};var te=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(_){C(_)}var y=k;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ae=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function De(h,y){if(he.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(q){e:{try{ie(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}O(De,he);var Re={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),Je=0;function hr(h,y,_,x,K){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!x,this.ha=K,this.key=++Je,this.da=this.fa=!1}function Ri(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ur(h){this.src=h,this.g={},this.h=0}Ur.prototype.add=function(h,y,_,x,K){var ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);var pe=bs(h,y,x,K);return-1<pe?(y=h[pe],_||(y.fa=!1)):(y=new hr(y,this.src,ne,!!x,K),y.fa=_,h.push(y)),y};function Ss(h,y){var _=y.type;if(_ in h.g){var x=h.g[_],K=Array.prototype.indexOf.call(x,y,void 0),ne;(ne=0<=K)&&Array.prototype.splice.call(x,K,1),ne&&(Ri(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function bs(h,y,_,x){for(var K=0;K<h.length;++K){var ne=h[K];if(!ne.da&&ne.listener==y&&ne.capture==!!_&&ne.ha==x)return K}return-1}var ws="closure_lm_"+(1e6*Math.random()|0),Yo={};function tc(h,y,_,x,K){if(Array.isArray(y)){for(var ne=0;ne<y.length;ne++)tc(h,y[ne],_,x,K);return null}return _=nc(_),h&&h[It]?h.K(y,_,g(x)?!!x.capture:!1,K):Nn(h,y,_,!1,x,K)}function Nn(h,y,_,x,K,ne){if(!y)throw Error("Invalid event type");var pe=g(K)?!!K.capture:!!K,Be=ba(h);if(Be||(h[ws]=Be=new Ur(h)),_=Be.add(y,_,x,pe,ne),_.proxy)return _;if(x=dd(),_.proxy=x,x.src=h,x.listener=_,h.addEventListener)ye||(K=pe),K===void 0&&(K=!1),h.addEventListener(y.toString(),x,K);else if(h.attachEvent)h.attachEvent(As(y.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function dd(){function h(_){return y.call(h.src,h.listener,_)}const y=pd;return h}function Qo(h,y,_,x,K){if(Array.isArray(y))for(var ne=0;ne<y.length;ne++)Qo(h,y[ne],_,x,K);else x=g(x)?!!x.capture:!!x,_=nc(_),h&&h[It]?(h=h.i,y=String(y).toString(),y in h.g&&(ne=h.g[y],_=bs(ne,_,x,K),-1<_&&(Ri(ne[_]),Array.prototype.splice.call(ne,_,1),ne.length==0&&(delete h.g[y],h.h--)))):h&&(h=ba(h))&&(y=h.g[y.toString()],h=-1,y&&(h=bs(y,_,x,K)),(_=-1<h?y[h]:null)&&Sa(_))}function Sa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[It])Ss(y.i,h);else{var _=h.type,x=h.proxy;y.removeEventListener?y.removeEventListener(_,x,h.capture):y.detachEvent?y.detachEvent(As(_),x):y.addListener&&y.removeListener&&y.removeListener(x),(_=ba(y))?(Ss(_,h),_.h==0&&(_.src=null,y[ws]=null)):Ri(h)}}}function As(h){return h in Yo?Yo[h]:Yo[h]="on"+h}function pd(h,y){if(h.da)h=!0;else{y=new De(y,this);var _=h.listener,x=h.ha||h.src;h.fa&&Sa(h),h=_.call(x,y)}return h}function ba(h){return h=h[ws],h instanceof Ur?h:null}var Xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function nc(h){return typeof h=="function"?h:(h[Xo]||(h[Xo]=function(y){return h.handleEvent(y)}),h[Xo])}function pt(){de.call(this),this.i=new Ur(this),this.M=this,this.F=null}O(pt,de),pt.prototype[It]=!0,pt.prototype.removeEventListener=function(h,y,_,x){Qo(this,h,y,_,x)};function Qe(h,y){var _,x=h.F;if(x)for(_=[];x;x=x.F)_.push(x);if(h=h.M,x=y.type||y,typeof y=="string")y=new he(y,h);else if(y instanceof he)y.target=y.target||h;else{var K=y;y=new he(x,h),M(y,K)}if(K=!0,_)for(var ne=_.length-1;0<=ne;ne--){var pe=y.g=_[ne];K=Tn(pe,x,!0,y)&&K}if(pe=y.g=h,K=Tn(pe,x,!0,y)&&K,K=Tn(pe,x,!1,y)&&K,_)for(ne=0;ne<_.length;ne++)pe=y.g=_[ne],K=Tn(pe,x,!1,y)&&K}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],x=0;x<_.length;x++)Ri(_[x]);delete h.g[y],h.h--}}this.F=null},pt.prototype.K=function(h,y,_,x){return this.i.add(String(h),y,!1,_,x)},pt.prototype.L=function(h,y,_,x){return this.i.add(String(h),y,!0,_,x)};function Tn(h,y,_,x){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,ne=0;ne<y.length;++ne){var pe=y[ne];if(pe&&!pe.da&&pe.capture==_){var Be=pe.listener,xt=pe.ha||pe.src;pe.fa&&Ss(h.i,pe),K=Be.call(xt,x)!==!1&&K}}return K&&!x.defaultPrevented}function Jt(h,y,_){if(typeof h=="function")_&&(h=S(h,_));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function rc(h){h.g=Jt(()=>{h.g=null,h.i&&(h.i=!1,rc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class md extends de{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:rc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(h){de.call(this),this.h=h,this.g={}}O(Rs,de);var Cs=[];function Is(h){ee(h.g,function(y,_){this.g.hasOwnProperty(_)&&Sa(y)},h),h.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),Is(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=d.JSON.stringify,wa=d.JSON.parse,Os=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Wo(){}Wo.prototype.h=null;function Jo(h){return h.h||(h.h=h.i())}function Zo(){}var jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zr(){he.call(this,"d")}O(zr,he);function el(){he.call(this,"c")}O(el,he);var fr={},tl=null;function Ci(){return tl=tl||new pt}fr.La="serverreachability";function Aa(h){he.call(this,fr.La,h)}O(Aa,he);function Ii(h){const y=Ci();Qe(y,new Aa(y))}fr.STAT_EVENT="statevent";function ic(h,y){he.call(this,fr.STAT_EVENT,h),this.stat=y}O(ic,he);function st(h){const y=Ci();Qe(y,new ic(y,h))}fr.Ma="timingevent";function Ot(h,y){he.call(this,fr.Ma,h),this.size=y}O(Ot,he);function Tt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function nl(h,y,_,x,K,ne){h.info(function(){if(h.g)if(ne)for(var pe="",Be=ne.split("&"),xt=0;xt<Be.length;xt++){var He=Be[xt].split("=");if(1<He.length){var Ut=He[0];He=He[1];var Dt=Ut.split("_");pe=2<=Dt.length&&Dt[1]=="type"?pe+(Ut+"="+He+"&"):pe+(Ut+"=redacted&")}}else pe=null;else pe=ne;return"XMLHTTP REQ ("+x+") [attempt "+K+"]: "+y+`
`+_+`
`+pe})}function gd(h,y,_,x,K,ne,pe){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+K+"]: "+y+`
`+_+`
`+ne+" "+pe})}function Oi(h,y,_,x){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+xs(h,_)+(x?" "+x:"")})}function sc(h,y){h.info(function(){return"TIMEOUT: "+y})}Pn.prototype.info=function(){};function xs(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var x=_[h];if(!(2>x.length)){var K=x[1];if(Array.isArray(K)&&!(1>K.length)){var ne=K[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var pe=1;pe<K.length;pe++)K[pe]=""}}}}return Qn(_)}catch{return y}}var xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dr;function pr(){}O(pr,Wo),pr.prototype.g=function(){return new XMLHttpRequest},pr.prototype.i=function(){return{}},dr=new pr;function on(h,y,_,x){this.j=h,this.i=y,this.l=_,this.R=x||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}var rl={},Ra={};function Xn(h,y,_){h.L=1,h.v=ks(Sn(y)),h.m=_,h.P=!0,Hr(h,null)}function Hr(h,y){h.F=Date.now(),Ds(h),h.A=Sn(h.v);var _=h.A,x=h.R;Array.isArray(x)||(x=[String(x)]),ul(_.i,"t",x),h.C=0,_=h.j.J,h.h=new yt,h.g=Tc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new md(S(h.Y,h,h.g),h.O)),y=h.U,_=h.g,x=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(Cs[0]=K.toString()),K=Cs);for(var ne=0;ne<K.length;ne++){var pe=tc(_,K[ne],x||y.handleEvent,!1,y.h||y);if(!pe)break;y.g[pe.key]=pe}y=h.H?b(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Ii(),nl(h.i,h.u,h.A,h.l,h.R,h.m)}on.prototype.ca=function(h){h=h.target;const y=this.M;y&&Vn(h)==3?y.j():this.Y(h)},on.prototype.Y=function(h){try{if(h==this.g)e:{const Dt=Vn(this.g);var y=this.g.Ba();const Xr=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||dc(this.g)))){this.J||Dt!=4||y==7||(y==8||0>=Xr?Ii(3):Ii(2)),Di(this);var _=this.g.Z();this.X=_;t:if(ac(this)){var x=dc(this.g);h="";var K=x.length,ne=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),mr(this);var pe="";break t}this.h.i=new d.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,h+=this.h.i.decode(x[y],{stream:!(ne&&y==K-1)});x.length=0,this.h.g+=h,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=_==200,gd(this.i,this.u,this.A,this.l,this.R,Dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,xt=this.g;if((Be=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Be)){var He=Be;break t}}He=null}if(_=He)Oi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ns(this,_);else{this.o=!1,this.s=3,st(12),qt(this),mr(this);break e}}if(this.P){_=!0;let Ft;for(;!this.J&&this.C<pe.length;)if(Ft=oc(this,pe),Ft==Ra){Dt==4&&(this.s=4,st(14),_=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==rl){this.s=4,st(15),Oi(this.i,this.l,pe,"[Invalid Chunk]"),_=!1;break}else Oi(this.i,this.l,Ft,null),Ns(this,Ft);if(ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||pe.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)Oi(this.i,this.l,pe,"[Invalid Chunked Response]"),qt(this),mr(this);else if(0<pe.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),qs(Ut),Ut.M=!0,st(11))}}else Oi(this.i,this.l,pe,null),Ns(this,pe);Dt==4&&qt(this),this.o&&!this.J&&(Dt==4?vc(this.j,this):(this.o=!1,Ds(this)))}else Td(this.g),_==400&&0<pe.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),qt(this),mr(this)}}}catch{}finally{}};function ac(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function oc(h,y){var _=h.C,x=y.indexOf(`
`,_);return x==-1?Ra:(_=Number(y.substring(_,x)),isNaN(_)?rl:(x+=1,x+_>y.length?Ra:(y=y.slice(x,x+_),h.C=x+_,y)))}on.prototype.cancel=function(){this.J=!0,qt(this)};function Ds(h){h.S=Date.now()+h.I,lc(h,h.I)}function lc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Tt(S(h.ba,h),y)}function Di(h){h.B&&(d.clearTimeout(h.B),h.B=null)}on.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(sc(this.i,this.A),this.L!=2&&(Ii(),st(17)),qt(this),this.s=2,mr(this)):lc(this,this.S-h)};function mr(h){h.j.G==0||h.J||vc(h.j,h)}function qt(h){Di(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Is(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Ns(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||il(_.h,h))){if(!h.K&&il(_.h,h)&&_.G==3){try{var x=_.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var K=x;if(K[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ua(_),La(_);else break e;pl(_),st(18)}}else _.za=K[1],0<_.za-_.T&&37500>K[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tt(S(_.Za,_),6e3));if(1>=Ia(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Qr(_,11)}else if((h.K||_.g==h)&&Ua(_),!j(y))for(K=_.Da.g.parse(y),y=0;y<K.length;y++){let He=K[y];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];const Ut=He[3];Ut!=null&&(_.la=Ut,_.j.info("VER="+_.la));const Dt=He[4];Dt!=null&&(_.Aa=Dt,_.j.info("SVER="+_.Aa));const Xr=He[5];Xr!=null&&typeof Xr=="number"&&0<Xr&&(x=1.5*Xr,_.L=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const Ft=h.g;if(Ft){const Sr=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var ne=x.h;ne.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Oa(ne,ne.h),ne.h=null))}if(x.D){const gl=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(x.ya=gl,Ze(x.I,x.D,gl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),x=_;var pe=h;if(x.qa=Ec(x,x.J?x.ia:null,x.W),pe.K){ln(x.h,pe);var Be=pe,xt=x.L;xt&&(Be.I=xt),Be.B&&(Di(Be),Ds(Be)),x.g=pe}else gc(x);0<_.i.length&&Va(_)}else He[0]!="stop"&&He[0]!="close"||Qr(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Qr(_,7):fl(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}Ii(4)}catch{}}var uc=class{constructor(h,y){this.g=h,this.map=y}};function qr(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ca(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ia(h){return h.h?1:h.g?h.g.size:0}function il(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Oa(h,y){h.g?h.g.add(y):h.h=y}function ln(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}qr.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return z(h.i)}function yd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],_=h.length,x=0;x<_;x++)y.push(h[x]);return y}y=[],_=0;for(x in h)y[_++]=h[x];return y}function xa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const x in h)y[_++]=x;return y}}}function al(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=xa(h),x=yd(h),K=x.length,ne=0;ne<K;ne++)y.call(void 0,x[ne],_&&_[ne],h)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vd(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var x=h[_].indexOf("="),K=null;if(0<=x){var ne=h[_].substring(0,x);K=h[_].substring(x+1)}else ne=h[_];y(ne,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function St(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof St){this.h=h.h,Ms(this,h.j),this.o=h.o,this.g=h.g,Ni(this,h.s),this.l=h.l;var y=h.i,_=new Gr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Fr(this,_),this.m=h.m}else h&&(y=String(h).match(Ps))?(this.h=!1,Ms(this,y[1]||"",!0),this.o=Mn(y[2]||""),this.g=Mn(y[3]||"",!0),Ni(this,y[4]),this.l=Mn(y[5]||"",!0),Fr(this,y[6]||"",!0),this.m=Mn(y[7]||"")):(this.h=!1,this.i=new Gr(null,this.h))}St.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Ls(y,ol,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ls(y,ol,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Ls(_,_.charAt(0)=="/"?_d:ll,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Ls(_,Da)),h.join("")};function Sn(h){return new St(h)}function Ms(h,y,_){h.j=_?Mn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ni(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Fr(h,y,_){y instanceof Gr?(h.i=y,hc(h.i,h.h)):(_||(y=Ls(y,Ed)),h.i=new Gr(y,h.h))}function Ze(h,y,_){h.i.set(y,_)}function ks(h){return Ze(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Mn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ls(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,cc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ol=/[#\/\?@]/g,ll=/[#\?:]/g,_d=/[#\?]/g,Ed=/[#\?@]/g,Da=/#/g;function Gr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function kn(h){h.g||(h.g=new Map,h.h=0,h.i&&vd(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Gr.prototype,n.add=function(h,y){kn(this),this.i=null,h=gr(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function $r(h,y){kn(h),y=gr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Kr(h,y){return kn(h),y=gr(h,y),h.g.has(y)}n.forEach=function(h,y){kn(this),this.g.forEach(function(_,x){_.forEach(function(K){h.call(y,K,x,this)},this)},this)},n.na=function(){kn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let x=0;x<y.length;x++){const K=h[x];for(let ne=0;ne<K.length;ne++)_.push(y[x])}return _},n.V=function(h){kn(this);let y=[];if(typeof h=="string")Kr(this,h)&&(y=y.concat(this.g.get(gr(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return kn(this),this.i=null,h=gr(this,h),Kr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function ul(h,y,_){$r(h,y),0<_.length&&(h.i=null,h.g.set(gr(h,y),z(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var x=y[_];const ne=encodeURIComponent(String(x)),pe=this.V(x);for(x=0;x<pe.length;x++){var K=ne;pe[x]!==""&&(K+="="+encodeURIComponent(String(pe[x]))),h.push(K)}}return this.i=h.join("&")};function gr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function hc(h,y){y&&!h.j&&(kn(h),h.i=null,h.g.forEach(function(_,x){var K=x.toLowerCase();x!=K&&($r(this,x),ul(this,K,_))},h)),h.j=y}function Vs(h,y){const _=new Pn;if(d.Image){const x=new Image;x.onload=N(Ln,_,"TestLoadImage: loaded",!0,y,x),x.onerror=N(Ln,_,"TestLoadImage: error",!1,y,x),x.onabort=N(Ln,_,"TestLoadImage: abort",!1,y,x),x.ontimeout=N(Ln,_,"TestLoadImage: timeout",!1,y,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else y(!1)}function Wn(h,y){const _=new Pn,x=new AbortController,K=setTimeout(()=>{x.abort(),Ln(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:x.signal}).then(ne=>{clearTimeout(K),ne.ok?Ln(_,"TestPingServer: ok",!0,y):Ln(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),Ln(_,"TestPingServer: error",!1,y)})}function Ln(h,y,_,x,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),x(_)}catch{}}function Us(){this.g=new Os}function yr(h,y,_){const x=_||"";try{al(h,function(K,ne){let pe=K;g(K)&&(pe=Qn(K)),y.push(x+ne+"="+encodeURIComponent(pe))})}catch(K){throw y.push(x+"type="+encodeURIComponent("_badmap")),K}}function Pi(h){this.l=h.Ub||null,this.j=h.eb||!1}O(Pi,Wo),Pi.prototype.g=function(){return new Yr(this.l,this.j)},Pi.prototype.i=function(h){return function(){return h}}({});function Yr(h,y){pt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Yr,pt),n=Yr.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,_r(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?vr(this):_r(this),this.readyState==3&&cl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,vr(this))},n.Qa=function(h){this.g&&(this.response=h,vr(this))},n.ga=function(){this.g&&vr(this)};function vr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,_r(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function _r(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hl(h){let y="";return ee(h,function(_,x){y+=x,y+=":",y+=_,y+=`\r
`}),y}function Vt(h,y,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=hl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Ze(h,y,_))}function Ke(h){pt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ke,pt);var Na=/^https?$/i,js=["POST","PUT"];n=Ke.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dr.g(),this.v=this.o?Jo(this.o):Jo(dr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(ne){fc(this,ne);return}if(h=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var K in x)_.set(K,x[K]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const ne of x.keys())_.set(ne,x.get(ne));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(ne=>ne.toLowerCase()=="content-type"),K=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(js,y,void 0))||x||K||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,pe]of _)this.g.setRequestHeader(ne,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zs(this),this.u=!0,this.g.send(h),this.u=!1}catch(ne){fc(this,ne)}};function fc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Pa(h),Er(h)}function Pa(h){h.A||(h.A=!0,Qe(h,"complete"),Qe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Qe(this,"complete"),Qe(this,"abort"),Er(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),Ke.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},n.bb=function(){Ma(this)};function Ma(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Vn(h)!=4||h.Z()!=2)){if(h.u&&Vn(h)==4)Jt(h.Ea,0,h);else if(Qe(h,"readystatechange"),Vn(h)==4){h.h=!1;try{const pe=h.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var x;if(x=pe===0){var K=String(h.D).match(Ps)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),x=!Na.test(K?K.toLowerCase():"")}_=x}if(_)Qe(h,"complete"),Qe(h,"success");else{h.m=6;try{var ne=2<Vn(h)?h.g.statusText:""}catch{ne=""}h.l=ne+" ["+h.Z()+"]",Pa(h)}}finally{Er(h)}}}}function Er(h,y){if(h.g){zs(h);const _=h.g,x=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Qe(h,"ready");try{_.onreadystatechange=x}catch{}}}function zs(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Vn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),wa(y)}};function dc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Td(h){const y={};h=(h.g&&2<=Vn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(j(h[x]))continue;var _=D(h[x]);const K=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ne=y[K]||[];y[K]=ne,ne.push(_)}L(y,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function ka(h){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,h),this.cb=Bs("retryDelaySeedMs",1e4,h),this.Wa=Bs("forwardChannelMaxRetries",2,h),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new qr(h&&h.concurrentRequestLimit),this.Da=new Us,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ka.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,x){st(0),this.W=h,this.H=y||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.I=Ec(this,null,this.W),Va(this)};function fl(h){if(pc(h),h.G==3){var y=h.U++,_=Sn(h.I);if(Ze(_,"SID",h.K),Ze(_,"RID",y),Ze(_,"TYPE","terminate"),Hs(h,_),y=new on(h,h.j,y),y.L=2,y.v=ks(Sn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Tc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ds(y)}_c(h)}function La(h){h.g&&(qs(h),h.g.cancel(),h.g=null)}function pc(h){La(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ua(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Va(h){if(!Ca(h.h)&&!h.s){h.s=!0;var y=h.Ga;X||U(),ae||(X(),ae=!0),ge.add(y,h),h.B=0}}function Sd(h,y){return Ia(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Tt(S(h.Ga,h,y),ml(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new on(this,this.j,h);let ne=this.o;if(this.S&&(ne?(ne=b(ne),M(ne,this.S)):ne=this.S),this.m!==null||this.O||(K.H=ne,ne=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=mc(this,K,y),_=Sn(this.I),Ze(_,"RID",h),Ze(_,"CVER",22),this.D&&Ze(_,"X-HTTP-Session-Id",this.D),Hs(this,_),ne&&(this.O?y="headers="+encodeURIComponent(String(hl(ne)))+"&"+y:this.m&&Vt(_,this.m,ne)),Oa(this.h,K),this.Ua&&Ze(_,"TYPE","init"),this.P?(Ze(_,"$req",y),Ze(_,"SID","null"),K.T=!0,Xn(K,_,null)):Xn(K,_,y),this.G=2}}else this.G==3&&(h?dl(this,h):this.i.length==0||Ca(this.h)||dl(this))};function dl(h,y){var _;y?_=y.l:_=h.U++;const x=Sn(h.I);Ze(x,"SID",h.K),Ze(x,"RID",_),Ze(x,"AID",h.T),Hs(h,x),h.m&&h.o&&Vt(x,h.m,h.o),_=new on(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=mc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Oa(h.h,_),Xn(_,x,y)}function Hs(h,y){h.H&&ee(h.H,function(_,x){Ze(y,x,_)}),h.l&&al({},function(_,x){Ze(y,x,_)})}function mc(h,y,_){_=Math.min(h.i.length,_);var x=h.l?S(h.l.Na,h.l,h):null;e:{var K=h.i;let ne=-1;for(;;){const pe=["count="+_];ne==-1?0<_?(ne=K[0].g,pe.push("ofs="+ne)):ne=0:pe.push("ofs="+ne);let Be=!0;for(let xt=0;xt<_;xt++){let He=K[xt].g;const Ut=K[xt].map;if(He-=ne,0>He)ne=Math.max(0,K[xt].g-100),Be=!1;else try{yr(Ut,pe,"req"+He+"_")}catch{x&&x(Ut)}}if(Be){x=pe.join("&");break e}}}return h=h.i.splice(0,_),y.D=h,x}function gc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;X||U(),ae||(X(),ae=!0),ge.add(y,h),h.v=0}}function pl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Tt(S(h.Fa,h),ml(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,yc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Tt(S(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),La(this),yc(this))};function qs(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function yc(h){h.g=new on(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Sn(h.qa);Ze(y,"RID","rpc"),Ze(y,"SID",h.K),Ze(y,"AID",h.T),Ze(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ze(y,"TO",h.ja),Ze(y,"TYPE","xmlhttp"),Hs(h,y),h.m&&h.o&&Vt(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=ks(Sn(y)),_.m=null,_.P=!0,Hr(_,h)}n.Za=function(){this.C!=null&&(this.C=null,La(this),pl(this),st(19))};function Ua(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function vc(h,y){var _=null;if(h.g==y){Ua(h),qs(h),h.g=null;var x=2}else if(il(h.h,y))_=y.D,ln(h.h,y),x=1;else return;if(h.G!=0){if(y.o)if(x==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var K=h.B;x=Ci(),Qe(x,new Ot(x,_)),Va(h)}else gc(h);else if(K=y.s,K==3||K==0&&0<y.X||!(x==1&&Sd(h,y)||x==2&&pl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),K){case 1:Qr(h,5);break;case 4:Qr(h,10);break;case 3:Qr(h,6);break;default:Qr(h,2)}}}function ml(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function Qr(h,y){if(h.j.info("Error code "+y),y==2){var _=S(h.fb,h),x=h.Xa;const K=!x;x=new St(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ms(x,"https"),ks(x),K?Vs(x.toString(),_):Wn(x.toString(),_)}else st(2);h.G=0,h.l&&h.l.sa(y),_c(h),pc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function _c(h){if(h.G=0,h.ka=[],h.l){const y=sl(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ka,y),P(h.ka,h.i),h.h.i.length=0,z(h.i),h.i.length=0),h.l.ra()}}function Ec(h,y,_){var x=_ instanceof St?Sn(_):new St(_);if(x.g!="")y&&(x.g=y+"."+x.g),Ni(x,x.s);else{var K=d.location;x=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var ne=new St(null);x&&Ms(ne,x),y&&(ne.g=y),K&&Ni(ne,K),_&&(ne.l=_),x=ne}return _=h.D,y=h.ya,_&&y&&Ze(x,_,y),Ze(x,"VER",h.la),Hs(h,x),x}function Tc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ke(new Pi({eb:_})):new Ke(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sc(){}n=Sc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ja(){}ja.prototype.g=function(h,y){return new un(h,y)};function un(h,y){pt.call(this),this.g=new ka(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!j(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!j(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Tr(this)}O(un,pt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){fl(this.g)},un.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Qn(h),h=_);y.i.push(new uc(y.Ya++,h)),y.G==3&&Va(y)},un.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,un.aa.N.call(this)};function bc(h){zr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}O(bc,zr);function wc(){el.call(this),this.status=1}O(wc,el);function Tr(h){this.g=h}O(Tr,Sc),Tr.prototype.ua=function(){Qe(this.g,"a")},Tr.prototype.ta=function(h){Qe(this.g,new bc(h))},Tr.prototype.sa=function(h){Qe(this.g,new wc)},Tr.prototype.ra=function(){Qe(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,h1=function(){return new ja},c1=function(){return Ci()},u1=fr,sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,Yh=xi,Br.COMPLETE="complete",l1=Br,Zo.EventType=jr,jr.OPEN="a",jr.CLOSE="b",jr.ERROR="c",jr.MESSAGE="d",pt.prototype.listen=pt.prototype.K,_u=Zo,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,o1=Ke}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});const XE="@firebase/firestore",WE="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Ug("@firebase/firestore");function go(){return ma.logLevel}function me(n,...e){if(ma.logLevel<=je.DEBUG){const t=e.map(Xg);ma.debug(`Firestore (${Fo}): ${n}`,...t)}}function Si(n,...e){if(ma.logLevel<=je.ERROR){const t=e.map(Xg);ma.error(`Firestore (${Fo}): ${n}`,...t)}}function Io(n,...e){if(ma.logLevel<=je.WARN){const t=e.map(Xg);ma.warn(`Firestore (${Fo}): ${n}`,...t)}}function Xg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,f1(n,i,t)}function f1(n,e,t){let i=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Si(i),new Error(i)}function Ye(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||f1(e,a,i)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class vP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _P{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hs,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string",31837,{l:i}),new d1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class EP{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TP{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new EP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new JE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new JE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=bP(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function ke(n,e){return n<e?-1:n>e?1:0}function ag(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return ke(i,a);{const l=p1(),c=wP(l.encode(ZE(n,t)),l.encode(ZE(e,t)));return c!==0?c:ke(i,a)}}t+=i>65535?2:1}return ke(n.length,e.length)}function ZE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function wP(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function Oo(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=-62135596800,tT=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*tT);return new kt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<eT)throw new Ee(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tT}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-eT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new kt(0,0))}static max(){return new Oe(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="__name__";class Or{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ae(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Or.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return ke(e.length,t.length)}static compareSegments(e,t){const i=Or.isNumericId(e),a=Or.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Or.extractNumericId(e).compare(Or.extractNumericId(t)):ag(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class lt extends Or{construct(e,t,i){return new lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const AP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Or{construct(e,t,i){return new Xt(e,t,i)}static isValidIdentifier(e){return AP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nT}static keyField(){return new Xt([nT])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ee(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Ee(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ee(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new Ee(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(lt.fromString(e))}static fromName(e){return new Te(lt.fromString(e).popFirst(5))}static empty(){return new Te(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=-1;function RP(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(i===1e9?new kt(t+1,0):new kt(t,i));return new ds(a,Te.empty(),e)}function CP(n){return new ds(n.readTime,n.key,Nu)}class ds{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ds(Oe.min(),Te.empty(),Nu)}static max(){return new ds(Oe.max(),Te.empty(),Nu)}}function IP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==OP)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,i)=>{t(e)})}static reject(e){return new ce((t,i)=>{i(e)})}static waitFor(e){return new ce((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>i(m))}),c=!0,l===a&&t()})}static or(e){let t=ce.resolve(!1);for(const i of e)t=t.next(a=>a?ce.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ce((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(v=>{c[g]=v,++d,d===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new ce((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function DP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $o(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Qf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=-1;function Xf(n){return n==null}function vf(n){return n===0&&1/n==-1/0}function NP(n){return typeof n=="number"&&Number.isInteger(n)&&!vf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="";function PP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rT(e)),e=MP(n.get(t),e);return rT(e)}function MP(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case g1:t+="";break;default:t+=l}}return t}function rT(n){return n+g1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function va(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function y1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ih(this.root,e,this.comparator,!0)}}class Ih{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Yt.RED,this.left=a??Yt.EMPTY,this.right=l??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Yt(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Yt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sT(this.data.getIterator())}getIteratorFrom(e){return new sT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class sT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new sr([])}unionWith(e){let t=new Lt(Xt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new v1("Invalid base64 string: "+l):l}}(e);return new Wt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const kP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(n){if(Ye(!!n,39018),typeof n=="string"){let e=0;const t=kP.exec(n);if(Ye(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ms(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="server_timestamp",E1="__type__",T1="__previous_value__",S1="__local_write_time__";function Jg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[E1])===null||t===void 0?void 0:t.stringValue)===_1}function Wf(n){const e=n.mapValue.fields[T1];return Jg(e)?Wf(e):e}function Pu(n){const e=ps(n.mapValue.fields[S1].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,t,i,a,l,c,d,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const _f="(default)";class Mu{constructor(e,t){this.projectId=e,this.database=t||_f}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===_f}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="__type__",VP="__max__",Oh={mapValue:{}},w1="__vector__",Ef="value";function gs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jg(n)?4:jP(n)?9007199254740991:UP(n)?10:11:Ae(28295,{value:n})}function Mr(n,e){if(n===e)return!0;const t=gs(n);if(t!==gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pu(n).isEqual(Pu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ps(a.timestampValue),d=ps(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return ms(a.bytesValue).isEqual(ms(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Et(a.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(a.geoPointValue.longitude)===Et(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Et(a.integerValue)===Et(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Et(a.doubleValue),d=Et(l.doubleValue);return c===d?vf(c)===vf(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Oo(n.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(iT(c)!==iT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Mr(c[m],d[m])))return!1;return!0}(n,e);default:return Ae(52216,{left:n})}}function ku(n,e){return(n.values||[]).find(t=>Mr(t,e))!==void 0}function xo(n,e){if(n===e)return 0;const t=gs(n),i=gs(e);if(t!==i)return ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Et(l.integerValue||l.doubleValue),m=Et(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return aT(n.timestampValue,e.timestampValue);case 4:return aT(Pu(n),Pu(e));case 5:return ag(n.stringValue,e.stringValue);case 6:return function(l,c){const d=ms(l),m=ms(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=ke(d[g],m[g]);if(v!==0)return v}return ke(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=ke(Et(l.latitude),Et(c.latitude));return d!==0?d:ke(Et(l.longitude),Et(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return oT(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,v;const T=l.fields||{},S=c.fields||{},N=(d=T[Ef])===null||d===void 0?void 0:d.arrayValue,O=(m=S[Ef])===null||m===void 0?void 0:m.arrayValue,z=ke(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:oT(N,O)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Oh.mapValue&&c===Oh.mapValue)return 0;if(l===Oh.mapValue)return 1;if(c===Oh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const S=ag(m[T],v[T]);if(S!==0)return S;const N=xo(d[m[T]],g[v[T]]);if(N!==0)return N}return ke(m.length,v.length)}(n.mapValue,e.mapValue);default:throw Ae(23264,{Pe:t})}}function aT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=ps(n),i=ps(e),a=ke(t.seconds,i.seconds);return a!==0?a:ke(t.nanos,i.nanos)}function oT(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=xo(t[a],i[a]);if(l)return l}return ke(t.length,i.length)}function Do(n){return og(n)}function og(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ps(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ms(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=og(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${og(t.fields[c])}`;return a+"}"}(n.mapValue):Ae(61005,{value:n})}function Qh(n){switch(gs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wf(n);return e?16+Qh(e):16;case 5:return 2*n.stringValue.length;case 6:return ms(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Qh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return va(i.fields,(l,c)=>{a+=l.length+Qh(c)}),a}(n.mapValue);default:throw Ae(13486,{value:n})}}function lg(n){return!!n&&"integerValue"in n}function Zg(n){return!!n&&"arrayValue"in n}function lT(n){return!!n&&"nullValue"in n}function uT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xh(n){return!!n&&"mapValue"in n}function UP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[b1])===null||t===void 0?void 0:t.stringValue)===w1}function wu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return va(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=wu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===VP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Xh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(t)}setAll(e){let t=Xt.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=wu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Xh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Xh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){va(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Kn(wu(this.value))}}function A1(n){const e=[];return va(n.fields,(t,i)=>{const a=new Xt([t]);if(Xh(i)){const l=A1(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new rn(e,0,Oe.min(),Oe.min(),Oe.min(),Kn.empty(),0)}static newFoundDocument(e,t,i,a){return new rn(e,1,t,Oe.min(),i,a,0)}static newNoDocument(e,t){return new rn(e,2,t,Oe.min(),Oe.min(),Kn.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Oe.min(),Oe.min(),Kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t){this.position=e,this.inclusive=t}}function cT(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Te.comparator(Te.fromName(c.referenceValue),t.key):i=xo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function hT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t="asc"){this.field=e,this.dir=t}}function zP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{}class Mt extends R1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new HP(e,t,i):t==="array-contains"?new GP(e,i):t==="in"?new $P(e,i):t==="not-in"?new KP(e,i):t==="array-contains-any"?new YP(e,i):new Mt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new qP(e,i):new FP(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xo(t,this.value)):t!==null&&gs(this.value)===gs(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends R1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new kr(e,t)}matches(e){return C1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function C1(n){return n.op==="and"}function I1(n){return BP(n)&&C1(n)}function BP(n){for(const e of n.filters)if(e instanceof kr)return!1;return!0}function ug(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+Do(n.value);if(I1(n))return n.filters.map(e=>ug(e)).join(",");{const e=n.filters.map(t=>ug(t)).join(",");return`${n.op}(${e})`}}function O1(n,e){return n instanceof Mt?function(i,a){return a instanceof Mt&&i.op===a.op&&i.field.isEqual(a.field)&&Mr(i.value,a.value)}(n,e):n instanceof kr?function(i,a){return a instanceof kr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&O1(c,a.filters[d]),!0):!1}(n,e):void Ae(19439)}function x1(n){return n instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(n):n instanceof kr?function(t){return t.op.toString()+" {"+t.getFilters().map(x1).join(" ,")+"}"}(n):"Filter"}class HP extends Mt{constructor(e,t,i){super(e,t,i),this.key=Te.fromName(i.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class qP extends Mt{constructor(e,t){super(e,"in",t),this.keys=D1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class FP extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=D1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function D1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Te.fromName(i.referenceValue))}class GP extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zg(t)&&ku(t.arrayValue,this.value)}}class $P extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ku(this.value.arrayValue,t)}}class KP extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ku(this.value.arrayValue,t)}}class YP extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ku(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function fT(n,e=null,t=[],i=[],a=null,l=null,c=null){return new QP(n,e,t,i,a,l,c)}function ey(n){const e=xe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ug(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Do(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Do(i)).join(",")),e.Ie=t}return e.Ie}function ty(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!O1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hT(n.startAt,e.startAt)&&hT(n.endAt,e.endAt)}function cg(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function XP(n,e,t,i,a,l,c,d){return new Jf(n,e,t,i,a,l,c,d)}function N1(n){return new Jf(n)}function dT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WP(n){return n.collectionGroup!==null}function Au(n){const e=xe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Lt(Xt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Sf(l,i))}),t.has(Xt.keyField().canonicalString())||e.Ee.push(new Sf(Xt.keyField(),i))}return e.Ee}function Nr(n){const e=xe(n);return e.de||(e.de=JP(e,Au(n))),e.de}function JP(n,e){if(n.limitType==="F")return fT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Sf(a.field,l)});const t=n.endAt?new Tf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Tf(n.startAt.position,n.startAt.inclusive):null;return fT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function hg(n,e,t){return new Jf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zf(n,e){return ty(Nr(n),Nr(e))&&n.limitType===e.limitType}function P1(n){return`${ey(Nr(n))}|lt:${n.limitType}`}function yo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>x1(a)).join(", ")}]`),Xf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Do(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Do(a)).join(",")),`Target(${i})`}(Nr(n))}; limitType=${n.limitType})`}function ed(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Te.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Au(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,m){const g=cT(c,d,m);return c.inclusive?g<=0:g<0}(i.startAt,Au(i),a)||i.endAt&&!function(c,d,m){const g=cT(c,d,m);return c.inclusive?g>=0:g>0}(i.endAt,Au(i),a))}(n,e)}function ZP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function M1(n){return(e,t)=>{let i=!1;for(const a of Au(n)){const l=eM(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function eM(n,e,t){const i=n.field.isKeyField()?Te.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?xo(m,g):Ae(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new dt(Te.comparator);function bi(){return tM}const k1=new dt(Te.comparator);function Eu(...n){let e=k1;for(const t of n)e=e.insert(t.key,t);return e}function L1(n){let e=k1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function oa(){return Ru()}function V1(){return Ru()}function Ru(){return new _a(n=>n.toString(),(n,e)=>n.isEqual(e))}const nM=new dt(Te.comparator),rM=new Lt(Te.comparator);function ze(...n){let e=rM;for(const t of n)e=e.add(t);return e}const iM=new Lt(ke);function sM(){return iM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(e)?"-0":e}}function U1(n){return{integerValue:""+n}}function aM(n,e){return NP(e)?U1(e):ny(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this._=void 0}}function oM(n,e,t){return n instanceof bf?function(a,l){const c={fields:{[E1]:{stringValue:_1},[S1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Jg(l)&&(l=Wf(l)),l&&(c.fields[T1]=l),{mapValue:c}}(t,e):n instanceof Lu?z1(n,e):n instanceof Vu?B1(n,e):function(a,l){const c=j1(a,l),d=pT(c)+pT(a.Re);return lg(c)&&lg(a.Re)?U1(d):ny(a.serializer,d)}(n,e)}function lM(n,e,t){return n instanceof Lu?z1(n,e):n instanceof Vu?B1(n,e):t}function j1(n,e){return n instanceof wf?function(i){return lg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class bf extends td{}class Lu extends td{constructor(e){super(),this.elements=e}}function z1(n,e){const t=H1(e);for(const i of n.elements)t.some(a=>Mr(a,i))||t.push(i);return{arrayValue:{values:t}}}class Vu extends td{constructor(e){super(),this.elements=e}}function B1(n,e){let t=H1(e);for(const i of n.elements)t=t.filter(a=>!Mr(a,i));return{arrayValue:{values:t}}}class wf extends td{constructor(e,t){super(),this.serializer=e,this.Re=t}}function pT(n){return Et(n.integerValue||n.doubleValue)}function H1(n){return Zg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function uM(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Lu&&a instanceof Lu||i instanceof Vu&&a instanceof Vu?Oo(i.elements,a.elements,Mr):i instanceof wf&&a instanceof wf?Mr(i.Re,a.Re):i instanceof bf&&a instanceof bf}(n.transform,e.transform)}class cM{constructor(e,t){this.version=e,this.transformResults=t}}class vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class nd{}function q1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new G1(n.key,vi.none()):new Wu(n.key,n.data,vi.none());{const t=n.data,i=Kn.empty();let a=new Lt(Xt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ea(n.key,i,new sr(a.toArray()),vi.none())}}function hM(n,e,t){n instanceof Wu?function(a,l,c){const d=a.value.clone(),m=gT(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ea?function(a,l,c){if(!Wh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=gT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(F1(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Cu(n,e,t,i){return n instanceof Wu?function(l,c,d,m){if(!Wh(l.precondition,c))return d;const g=l.value.clone(),v=yT(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ea?function(l,c,d,m){if(!Wh(l.precondition,c))return d;const g=yT(l.fieldTransforms,m,c),v=c.data;return v.setAll(F1(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,d){return Wh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function fM(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=j1(i.transform,a||null);l!=null&&(t===null&&(t=Kn.empty()),t.set(i.field,l))}return t||null}function mT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Oo(i,a,(l,c)=>uM(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Wu extends nd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ea extends nd{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function F1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function gT(n,e,t){const i=new Map;Ye(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,lM(c,d,t[a]))}return i}function yT(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,oM(l,c,e))}return i}class G1 extends nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dM extends nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&hM(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Cu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Cu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=V1();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=q1(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(t,i)=>mT(t,i))&&Oo(this.baseMutations,e.baseMutations,(t,i)=>mT(t,i))}}class ry{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Ye(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return nM}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new ry(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Fe;function yM(n){switch(n){case fe.OK:return Ae(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function $1(n){if(n===void 0)return Si("GRPC error has no .code"),fe.UNKNOWN;switch(n){case At.OK:return fe.OK;case At.CANCELLED:return fe.CANCELLED;case At.UNKNOWN:return fe.UNKNOWN;case At.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case At.INTERNAL:return fe.INTERNAL;case At.UNAVAILABLE:return fe.UNAVAILABLE;case At.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case At.NOT_FOUND:return fe.NOT_FOUND;case At.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case At.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case At.ABORTED:return fe.ABORTED;case At.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case At.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case At.DATA_LOSS:return fe.DATA_LOSS;default:return Ae(39323,{code:n})}}(Fe=At||(At={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=new cs([4294967295,4294967295],0);function vT(n){const e=p1().encode(n),t=new a1;return t.update(e),new Uint8Array(t.digest())}function _T(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new cs([t,i],0),new cs([a,l],0)]}class iy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Tu(`Invalid padding: ${t}`);if(i<0)throw new Tu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Tu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Tu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=cs.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(cs.fromNumber(i)));return a.compare(vM)===1&&(a=new cs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=vT(e),[i,a]=_T(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.Se(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new iy(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=vT(e),[i,a]=_T(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Ju.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new rd(Oe.min(),a,new dt(ke),bi(),ze())}}class Ju{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ju(i,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class K1{constructor(e,t){this.targetId=e,this.Ce=t}}class Y1{constructor(e,t,i=Wt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class ET{constructor(){this.Fe=0,this.Me=TT(),this.xe=Wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),t=ze(),i=ze();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ae(38017,{changeType:l})}}),new Ju(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=TT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class _M{constructor(e){this.ze=e,this.je=new Map,this.He=bi(),this.Je=xh(),this.Ye=xh(),this.Ze=new dt(ke)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(cg(l))if(i===0){const c=new Te(l.path);this.tt(t,c,rn.newNoDocument(c,Oe.min()))}else Ye(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),m=d?this.lt(d,e,c):1;if(m!==0){this.st(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=ms(i).toUint8Array()}catch(m){if(m instanceof v1)return Io("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new iy(c,a,l)}catch(m){return Io(m instanceof Tu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&cg(d.target)){const m=new Te(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,rn.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=ze();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new rd(e,t,this.Ze,this.He,i);return this.He=bi(),this.Je=xh(),this.Ye=xh(),this.Ze=new dt(ke),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new ET,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Lt(ke),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Lt(ke),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ET),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function xh(){return new dt(Te.comparator)}function TT(){return new dt(Te.comparator)}const EM={asc:"ASCENDING",desc:"DESCENDING"},TM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SM={and:"AND",or:"OR"};class bM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fg(n,e){return n.useProto3Json||Xf(e)?e:{value:e}}function Af(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wM(n,e){return Af(n,e.toTimestamp())}function Pr(n){return Ye(!!n,49232),Oe.fromTimestamp(function(t){const i=ps(t);return new kt(i.seconds,i.nanos)}(n))}function sy(n,e){return dg(n,e).canonicalString()}function dg(n,e){const t=function(a){return new lt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function X1(n){const e=lt.fromString(n);return Ye(tw(e),10190,{key:e.toString()}),e}function pg(n,e){return sy(n.databaseId,e.path)}function Dm(n,e){const t=X1(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(J1(t))}function W1(n,e){return sy(n.databaseId,e)}function AM(n){const e=X1(n);return e.length===4?lt.emptyPath():J1(e)}function mg(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function J1(n){return Ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ST(n,e,t){return{name:pg(n,e),fields:t.value.mapValue.fields}}function RM(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),Wt.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Wt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const v=g.code===void 0?fe.UNKNOWN:$1(g.code);return new Ee(v,g.message||"")}(c);t=new Y1(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Dm(n,i.document.name),l=Pr(i.document.updateTime),c=i.document.createTime?Pr(i.document.createTime):Oe.min(),d=new Kn({mapValue:{fields:i.document.fields}}),m=rn.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new Jh(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Dm(n,i.document),l=i.readTime?Pr(i.readTime):Oe.min(),c=rn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Jh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Dm(n,i.document),l=i.removedTargetIds||[];t=new Jh([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new gM(a,l),d=i.targetId;t=new K1(d,c)}}return t}function CM(n,e){let t;if(e instanceof Wu)t={update:ST(n,e.key,e.value)};else if(e instanceof G1)t={delete:pg(n,e.key)};else if(e instanceof Ea)t={update:ST(n,e.key,e.data),updateMask:LM(e.fieldMask)};else{if(!(e instanceof dM))return Ae(16599,{ft:e.type});t={verify:pg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof bf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Lu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Vu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof wf)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Ae(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:wM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)}(n,e.precondition)),t}function IM(n,e){return n&&n.length>0?(Ye(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?Pr(a.updateTime):Pr(l);return c.isEqual(Oe.min())&&(c=Pr(l)),new cM(c,a.transformResults||[])}(t,e))):[]}function OM(n,e){return{documents:[W1(n,e.path)]}}function xM(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=W1(n,a);const l=function(g){if(g.length!==0)return ew(kr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:vo(S.field),direction:PM(S.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=fg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:a}}function DM(n){let e=AM(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Ye(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const S=Z1(T);return S instanceof kr&&I1(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(S=>function(O){return new Sf(_o(O.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,Xf(S)?null:S}(t.limit));let m=null;t.startAt&&(m=function(T){const S=!!T.before,N=T.values||[];return new Tf(N,S)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const S=!T.before,N=T.values||[];return new Tf(N,S)}(t.endAt)),XP(e,a,c,l,d,"F",m,g)}function NM(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Z1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=_o(t.unaryFilter.field);return Mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=_o(t.unaryFilter.field);return Mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_o(t.unaryFilter.field);return Mt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=_o(t.unaryFilter.field);return Mt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(n):n.fieldFilter!==void 0?function(t){return Mt.create(_o(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return kr.create(t.compositeFilter.filters.map(i=>Z1(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(n):Ae(30097,{filter:n})}function PM(n){return EM[n]}function MM(n){return TM[n]}function kM(n){return SM[n]}function vo(n){return{fieldPath:n.canonicalString()}}function _o(n){return Xt.fromServerFormat(n.fieldPath)}function ew(n){return n instanceof Mt?function(t){if(t.op==="=="){if(uT(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NAN"}};if(lT(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uT(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NAN"}};if(lT(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(t.field),op:MM(t.op),value:t.value}}}(n):n instanceof kr?function(t){const i=t.getFilters().map(a=>ew(a));return i.length===1?i[0]:{compositeFilter:{op:kM(t.op),filters:i}}}(n):Ae(54877,{filter:n})}function LM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function tw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t,i,a,l=Oe.min(),c=Oe.min(),d=Wt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.wt=e}}function UM(n){const e=DM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.Cn=new zM}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(ds.min())}updateCollectionGroup(e,t,i){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class zM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Lt(lt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Lt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nw=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(nw,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new No(0)}static lr(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="LruGarbageCollector",BM=1048576;function AT([n,e],[t,i]){const a=ke(n,t);return a===0?ke(e,i):a}class HM{constructor(e){this.Er=e,this.buffer=new Lt(AT),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();AT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qM{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){me(wT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){$o(t)?me(wT,"Ignoring IndexedDB error during garbage collection: ",t):await Go(t)}await this.mr(3e5)})}}class FM{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(Qf.le);const i=new HM(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(bT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bT):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(g=Date.now(),go()<=je.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function GM(n,e){return new FM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.changes=new _a(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Cu(i.mutation,a,sr.empty(),kt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ze()){const a=oa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=Eu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=oa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ze()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=bi();const c=Ru(),d=function(){return Ru()}();return t.forEach((m,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ea)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Cu(v.mutation,g,v.mutation.getFieldMask(),kt.now())):c.set(g.key,sr.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var T;return d.set(g,new KM(v,(T=c.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Ru();let a=new dt((c,d)=>c-d),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let v=i.get(m)||sr.empty();v=d.applyToLocalView(g,v),i.set(m,v);const T=(a.get(d.batchId)||ze()).add(m);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,T=V1();v.forEach(S=>{if(!l.has(S)){const N=q1(t.get(S),i.get(S));N!==null&&T.set(S,N),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ce.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ce.resolve(oa());let d=Nu,m=l;return c.next(g=>ce.forEach(g,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?ce.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{m=m.insert(v,S)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,ze())).next(v=>({batchId:d,changes:L1(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(i=>{let a=Eu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Eu();return this.indexManager.getCollectionParents(e,l).next(d=>ce.forEach(d,m=>{const g=function(T,S){return new Jf(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(v=>{v.forEach((T,S)=>{c=c.insert(T,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,rn.newInvalidDocument(v)))});let d=Eu();return c.forEach((m,g)=>{const v=l.get(m);v!==void 0&&Cu(v.mutation,g,sr.empty(),kt.now()),ed(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ce.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Pr(a.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:UM(a.bundledQuery),readTime:Pr(a.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.overlays=new dt(Te.comparator),this.Qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=oa();return ce.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.bt(e,t,l)}),ce.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),ce.resolve()}getOverlaysForCollection(e,t,i){const a=oa(),l=t.length+1,c=new Te(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new dt((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=oa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=oa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return ce.resolve(d)}bt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new mM(t,i));let l=this.Qr.get(t);l===void 0&&(l=ze(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.$r=new Lt(Ht.Ur),this.Kr=new Lt(Ht.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Ht(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Ht(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Te(new lt([])),i=new Ht(t,e),a=new Ht(t,e+1),l=[];return this.Kr.forEachInRange([i,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Te(new lt([])),i=new Ht(t,e),a=new Ht(t,e+1);let l=ze();return this.Kr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Ht(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Te.comparator(e.key,t.key)||ke(e.Zr,t.Zr)}static Wr(e,t){return ke(e.Zr,t.Zr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Lt(Ht.Ur)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new pM(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new Ht(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,t){return ce.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Wg:this.nr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ht(t,0),a=new Ht(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],c=>{const d=this.ei(c.Zr);l.push(d)}),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Lt(ke);return t.forEach(a=>{const l=new Ht(a,0),c=new Ht(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{i=i.add(d.Zr)})}),ce.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Te.isDocumentKey(l)||(l=l.child(""));const c=new Ht(new Te(l),0);let d=new Lt(ke);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Zr)),!0)},c),ce.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ye(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return ce.forEach(t.mutations,a=>{const l=new Ht(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Ht(t,0),a=this.Xr.firstAfterOrEqual(i);return ce.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.ii=e,this.docs=function(){return new dt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ce.resolve(i?i.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let i=bi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():rn.newInvalidDocument(a))}),ce.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=bi();const c=t.path,d=new Te(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||IP(CP(v),i)<=0||(a.has(v.key)||ed(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ae(9500)}si(e,t){return ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new e4(this)}getSize(e){return ce.resolve(this.size)}}class e4 extends $M{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),ce.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.persistence=e,this.oi=new _a(t=>ey(t),ty),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this._i=0,this.ai=new ay,this.targetCount=0,this.ui=No.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),ce.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new No(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Tr(t),ce.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ce.waitFor(l).next(()=>a)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return ce.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),ce.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return ce.resolve(i)}containsKey(e,t){return ce.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t){this.ci={},this.overlays={},this.li=new Qf(0),this.hi=!1,this.hi=!0,this.Pi=new WM,this.referenceDelegate=e(this),this.Ti=new t4(this),this.indexManager=new jM,this.remoteDocumentCache=function(a){return new ZM(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new VM(t),this.Ei=new QM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new JM(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const a=new n4(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return ce.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class n4 extends xP{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.Vi=new ay,this.mi=null}static fi(e){return new oy(e)}get gi(){if(this.mi)return this.mi;throw Ae(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),ce.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.gi,i=>{const a=Te.fromPath(i);return this.pi(e,a).next(l=>{l||t.removeEntry(a,Oe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ce.or([()=>ce.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Rf{constructor(e,t){this.persistence=e,this.yi=new _a(i=>PP(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=GM(this,t)}static fi(e,t){return new Rf(e,t)}di(){}Ai(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}Sr(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return ce.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(l=>l?ce.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Oe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ce.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qh(e.data.value)),t}Dr(e,t,i){return ce.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return ce.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=ze(),a=ze();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ly(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return kO()?8:DP(an())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Ss(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new r4;return this.bs(e,t,c).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,c,d.size)})}).next(()=>l.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(go()<=je.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ce.resolve()):(go()<=je.DEBUG&&me("QueryEngine","Query:",yo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(go()<=je.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(t))):ce.resolve())}ws(e,t){if(dT(t))return ce.resolve(null);let i=Nr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=hg(t,null,"F"),i=Nr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=ze(...l);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const g=this.vs(t,d);return this.Cs(t,g,c,m.readTime)?this.ws(e,hg(t,null,"F")):this.Fs(e,g,t,m)}))})))}Ss(e,t,i,a){return dT(t)||a.isEqual(Oe.min())?ce.resolve(null):this.ys.getDocuments(e,i).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,i,a)?ce.resolve(null):(go()<=je.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yo(t)),this.Fs(e,c,t,RP(a,Nu)).next(d=>d))})}vs(e,t){let i=new Lt(M1(e));return t.forEach((a,l)=>{ed(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}bs(e,t,i){return go()<=je.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",yo(t)),this.ys.getDocumentsMatchingQuery(e,t,ds.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="LocalStore",s4=3e8;class a4{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new dt(ke),this.Os=new _a(l=>ey(l),ty),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function o4(n,e,t,i){return new a4(n,e,t,i)}async function iw(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=ze();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:d}))})})}function l4(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const T=g.batch,S=T.keys();let N=ce.resolve();return S.forEach(O=>{N=N.next(()=>v.getEntry(m,O)).next(z=>{const P=g.docVersions.get(O);Ye(P!==null,48541),z.version.compareTo(P)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=ze();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function sw(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function u4(n,e){const t=xe(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const d=[];e.targetChanges.forEach((v,T)=>{const S=a.get(T);if(!S)return;d.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,T)));let N=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Wt.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,i)),a=a.insert(T,N),function(z,P,F){return z.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=s4?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(S,N,v)&&d.push(t.Ti.updateTargetData(l,N))});let m=bi(),g=ze();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(c4(l,c,e.documentUpdates).next(v=>{m=v.qs,g=v.Qs})),!i.isEqual(Oe.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(T=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return ce.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.xs=a,l))}function c4(n,e,t){let i=ze(),a=ze();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=bi();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Oe.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):me(uy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function h4(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Wg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function f4(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(l=>l?(a=l,ce.resolve(a)):t.Ti.allocateTargetId(i).next(c=>(a=new as(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function gg(n,e,t){const i=xe(n),a=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!$o(c))throw c;me(uy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function RT(n,e,t){const i=xe(n);let a=Oe.min(),l=ze();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,v){const T=xe(m),S=T.Os.get(v);return S!==void 0?ce.resolve(T.xs.get(S)):T.Ti.getTargetData(g,v)}(i,c,Nr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?a:Oe.min(),t?l:ze())).next(d=>(d4(i,ZP(e),d),{documents:d,$s:l})))}function d4(n,e,t){let i=n.Ns.get(e)||Oe.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class CT{constructor(){this.activeTargetIds=sM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p4{constructor(){this.xo=new CT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new CT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="ConnectivityMonitor";class OT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(IT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){me(IT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh=null;function yg(){return Dh===null?Dh=function(){return 268435456+Math.round(2147483648*Math.random())}():Dh++,"0x"+Dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",g4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class y4{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===_f?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,l){const c=yg(),d=this.jo(e,t.toUriEncodedString());me(Nm,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:g}=new URL(d),v=Fu(g);return this.Jo(e,d,m,i,v).then(T=>(me(Nm,`Received RPC '${e}' ${c}: `,T),T),T=>{throw Io(Nm,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",i),T})}Yo(e,t,i,a,l,c){return this.zo(e,t,i,a,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const i=g4[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class _4 extends y4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=yg();return new Promise((d,m)=>{const g=new o1;g.setWithCredentials(!0),g.listenOnce(l1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Yh.NO_ERROR:const T=g.getResponseJson();me(tn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Yh.TIMEOUT:me(tn,`RPC '${e}' ${c} timed out`),m(new Ee(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Yh.HTTP_ERROR:const S=g.getStatus();if(me(tn,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const O=N==null?void 0:N.error;if(O&&O.status&&O.message){const z=function(F){const j=F.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(j)>=0?j:fe.UNKNOWN}(O.status);m(new Ee(z,O.message))}else m(new Ee(fe.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Ee(fe.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(tn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);me(tn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,i,15)})}T_(e,t,i){const a=yg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=h1(),d=c1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const v=l.join("");me(tn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const T=c.createWebChannel(v,m);let S=!1,N=!1;const O=new v4({Zo:P=>{N?me(tn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(S||(me(tn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),S=!0),me(tn,`RPC '${e}' stream ${a} sending:`,P),T.send(P))},Xo:()=>T.close()}),z=(P,F,j)=>{P.listen(F,H=>{try{j(H)}catch(ie){setTimeout(()=>{throw ie},0)}})};return z(T,_u.EventType.OPEN,()=>{N||(me(tn,`RPC '${e}' stream ${a} transport opened.`),O.__())}),z(T,_u.EventType.CLOSE,()=>{N||(N=!0,me(tn,`RPC '${e}' stream ${a} transport closed`),O.u_())}),z(T,_u.EventType.ERROR,P=>{N||(N=!0,Io(tn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),O.u_(new Ee(fe.UNAVAILABLE,"The operation could not be completed")))}),z(T,_u.EventType.MESSAGE,P=>{var F;if(!N){const j=P.data[0];Ye(!!j,16349);const H=j,ie=(H==null?void 0:H.error)||((F=H[0])===null||F===void 0?void 0:F.error);if(ie){me(tn,`RPC '${e}' stream ${a} received error:`,ie);const q=ie.status;let ee=function(A){const M=At[A];if(M!==void 0)return $1(M)}(q),L=ie.message;ee===void 0&&(ee=fe.INTERNAL,L="Unknown error status: "+q+" with message "+ie.message),N=!0,O.u_(new Ee(ee,L)),T.close()}else me(tn,`RPC '${e}' stream ${a} received:`,j),O.c_(j)}}),z(d,u1.STAT_EVENT,P=>{P.stat===sg.PROXY?me(tn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===sg.NOPROXY&&me(tn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(n){return new bM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t,i=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.I_=i,this.E_=a,this.d_=l,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),i=Math.max(0,Date.now()-this.V_),a=Math.max(0,t-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="PersistentStream";class ow{constructor(e,t,i,a,l,c,d,m){this.xi=e,this.y_=i,this.w_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new aw(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Si(t.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.S_===t&&this.K_(i,a)},i=>{e(()=>{const a=new Ee(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.W_(a)})})}K_(e,t){const i=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.W_(a))}),this.stream.onMessage(a=>{i(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return me(xT,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(me(xT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E4 extends ow{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=RM(this.serializer,e),i=function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?Pr(c.readTime):Oe.min()}(e);return this.listener.j_(t,i)}H_(e){const t={};t.database=mg(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=cg(m)?{documents:OM(l,m)}:{query:xM(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Q1(l,c.resumeToken);const g=fg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Oe.min())>0){d.readTime=Af(l,c.snapshotVersion.toTimestamp());const g=fg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=NM(this.serializer,e);i&&(t.labels=i),this.L_(t)}J_(e){const t={};t.database=mg(this.serializer),t.removeTarget=e,this.L_(t)}}class T4 extends ow{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=IM(e.writeResults,e.commitTime),i=Pr(e.commitTime);return this.listener.ea(i,t)}ta(){const e={};e.database=mg(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>CM(this.serializer,i))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{}class b4 extends S4{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.na=!1}ra(){if(this.na)throw new Ee(fe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,dg(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(fe.UNKNOWN,l.toString())})}Yo(e,t,i,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,dg(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(fe.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class w4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Si(t),this.oa=!1):me("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class A4{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=l,this.Ea.No(c=>{i.enqueueAndForget(async()=>{Ta(this)&&(me(ga,"Restarting streams for network reachability change."),await async function(m){const g=xe(m);g.Ta.add(4),await Zu(g),g.da.set("Unknown"),g.Ta.delete(4),await sd(g)}(this))})}),this.da=new w4(i,a)}}async function sd(n){if(Ta(n))for(const e of n.Ia)await e(!0)}async function Zu(n){for(const e of n.Ia)await e(!1)}function lw(n,e){const t=xe(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),dy(t)?fy(t):Ko(t).M_()&&hy(t,e))}function cy(n,e){const t=xe(n),i=Ko(t);t.Pa.delete(e),i.M_()&&uw(t,e),t.Pa.size===0&&(i.M_()?i.N_():Ta(t)&&t.da.set("Unknown"))}function hy(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ko(n).H_(e)}function uw(n,e){n.Aa.Ke(e),Ko(n).J_(e)}function fy(n){n.Aa=new _M({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ko(n).start(),n.da._a()}function dy(n){return Ta(n)&&!Ko(n).F_()&&n.Pa.size>0}function Ta(n){return xe(n).Ta.size===0}function cw(n){n.Aa=void 0}async function R4(n){n.da.set("Online")}async function C4(n){n.Pa.forEach((e,t)=>{hy(n,e)})}async function I4(n,e){cw(n),dy(n)?(n.da.ca(e),fy(n)):n.da.set("Unknown")}async function O4(n,e,t){if(n.da.set("Online"),e instanceof Y1&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Pa.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Pa.delete(d),a.Aa.removeTarget(d))}(n,e)}catch(i){me(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Cf(n,i)}else if(e instanceof Jh?n.Aa.Xe(e):e instanceof K1?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Oe.min()))try{const i=await sw(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.Aa.It(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Pa.get(g);v&&l.Pa.set(g,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const v=l.Pa.get(m);if(!v)return;l.Pa.set(m,v.withResumeToken(Wt.EMPTY_BYTE_STRING,v.snapshotVersion)),uw(l,m);const T=new as(v.target,m,g,v.sequenceNumber);hy(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){me(ga,"Failed to raise snapshot:",i),await Cf(n,i)}}async function Cf(n,e,t){if(!$o(e))throw e;n.Ta.add(1),await Zu(n),n.da.set("Offline"),t||(t=()=>sw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me(ga,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await sd(n)})}function hw(n,e){return e().catch(t=>Cf(n,t,e))}async function ad(n){const e=xe(n),t=ys(e);let i=e.ha.length>0?e.ha[e.ha.length-1].batchId:Wg;for(;x4(e);)try{const a=await h4(e.localStore,i);if(a===null){e.ha.length===0&&t.N_();break}i=a.batchId,D4(e,a)}catch(a){await Cf(e,a)}fw(e)&&dw(e)}function x4(n){return Ta(n)&&n.ha.length<10}function D4(n,e){n.ha.push(e);const t=ys(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function fw(n){return Ta(n)&&!ys(n).F_()&&n.ha.length>0}function dw(n){ys(n).start()}async function N4(n){ys(n).ta()}async function P4(n){const e=ys(n);for(const t of n.ha)e.Z_(t.mutations)}async function M4(n,e,t){const i=n.ha.shift(),a=ry.from(i,e,t);await hw(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await ad(n)}async function k4(n,e){e&&ys(n).Y_&&await async function(i,a){if(function(c){return yM(c)&&c!==fe.ABORTED}(a.code)){const l=i.ha.shift();ys(i).O_(),await hw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await ad(i)}}(n,e),fw(n)&&dw(n)}async function DT(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),me(ga,"RemoteStore received new credentials");const i=Ta(t);t.Ta.add(3),await Zu(t),i&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await sd(t)}async function L4(n,e){const t=xe(n);e?(t.Ta.delete(2),await sd(t)):e||(t.Ta.add(2),await Zu(t),t.da.set("Unknown"))}function Ko(n){return n.Ra||(n.Ra=function(t,i,a){const l=xe(t);return l.ra(),new E4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:R4.bind(null,n),n_:C4.bind(null,n),i_:I4.bind(null,n),j_:O4.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),dy(n)?fy(n):n.da.set("Unknown")):(await n.Ra.stop(),cw(n))})),n.Ra}function ys(n){return n.Va||(n.Va=function(t,i,a){const l=xe(t);return l.ra(),new T4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:N4.bind(null,n),i_:k4.bind(null,n),X_:P4.bind(null,n),ea:M4.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await ad(n)):(await n.Va.stop(),n.ha.length>0&&(me(ga,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new py(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function my(n,e){if(Si("AsyncQueue",`${e}: ${n}`),$o(n))return new Ee(fe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Te.comparator(t.key,i.key):(t,i)=>Te.comparator(t.key,i.key),this.keyedMap=Eu(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ao;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.ma=new dt(Te.comparator)}track(e){const t=e.doc.key,i=this.ma.get(t);i?e.type!==0&&i.type===3?this.ma=this.ma.insert(t,e):e.type===3&&i.type!==1?this.ma=this.ma.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ma=this.ma.remove(t):e.type===1&&i.type===2?this.ma=this.ma.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,fa:i}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,i)=>{e.push(i)}),e}}class Po{constructor(e,t,i,a,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Po(e,t,Ao.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class U4{constructor(){this.queries=PT(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,i){const a=xe(t),l=a.queries;a.queries=PT(),l.forEach((c,d)=>{for(const m of d.ya)m.onError(i)})})(this,new Ee(fe.ABORTED,"Firestore shutting down"))}}function PT(){return new _a(n=>P1(n),Zf)}async function j4(n,e){const t=xe(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.wa()&&e.Sa()&&(i=2):(l=new V4,i=e.Sa()?0:1);try{switch(i){case 0:l.pa=await t.onListen(a,!0);break;case 1:l.pa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=my(c,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ya.push(e),e.Da(t.onlineState),l.pa&&e.va(l.pa)&&gy(t)}async function z4(n,e){const t=xe(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ya.indexOf(e);c>=0&&(l.ya.splice(c,1),l.ya.length===0?a=e.Sa()?0:1:!l.wa()&&e.Sa()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function B4(n,e){const t=xe(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ya)d.va(a)&&(i=!0);c.pa=a}}i&&gy(t)}function H4(n,e,t){const i=xe(n),a=i.queries.get(e);if(a)for(const l of a.ya)l.onError(t);i.queries.delete(e)}function gy(n){n.ba.forEach(e=>{e.next()})}var vg,MT;(MT=vg||(vg={})).Ca="default",MT.Cache="cache";class q4{constructor(e,t,i){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=i||{}}va(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Po(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const i=t!=="Offline";return(!this.options.La||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.key=e}}class mw{constructor(e){this.key=e}}class F4{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ze(),this.mutatedKeys=ze(),this.Ha=M1(e),this.Ja=new Ao(this.Ha)}get Ya(){return this.Ga}Za(e,t){const i=t?t.Xa:new NT,a=t?t.Ja:this.Ja;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,T)=>{const S=a.get(v),N=ed(this.query,T)?T:null,O=!!S&&this.mutatedKeys.has(S.key),z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let P=!1;S&&N?S.data.isEqual(N.data)?O!==z&&(i.track({type:3,doc:N}),P=!0):this.eu(S,N)||(i.track({type:2,doc:N}),P=!0,(m&&this.Ha(N,m)>0||g&&this.Ha(N,g)<0)&&(d=!0)):!S&&N?(i.track({type:0,doc:N}),P=!0):S&&!N&&(i.track({type:1,doc:S}),P=!0,(m||g)&&(d=!0)),P&&(N?(c=c.add(N),l=z?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Ja:c,Xa:i,Cs:d,mutatedKeys:l}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const c=e.Xa.ga();c.sort((v,T)=>function(N,O){const z=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:P})}};return z(N)-z(O)}(v.type,T.type)||this.Ha(v.doc,T.doc)),this.tu(i),a=a!=null&&a;const d=t&&!a?this.nu():[],m=this.ja.size===0&&this.current&&!a?1:0,g=m!==this.za;return this.za=m,c.length!==0||g?{snapshot:new Po(this.query,e.Ja,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new NT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=ze(),this.Ja.forEach(i=>{this.iu(i.key)&&(this.ja=this.ja.add(i.key))});const t=[];return e.forEach(i=>{this.ja.has(i)||t.push(new mw(i))}),this.ja.forEach(i=>{e.has(i)||t.push(new pw(i))}),t}su(e){this.Ga=e.$s,this.ja=ze();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Po.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const yy="SyncEngine";class G4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class $4{constructor(e){this.key=e,this._u=!1}}class K4{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new _a(d=>P1(d),Zf),this.cu=new Map,this.lu=new Set,this.hu=new dt(Te.comparator),this.Pu=new Map,this.Tu=new ay,this.Iu={},this.Eu=new Map,this.du=No.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function Y4(n,e,t=!0){const i=Tw(n);let a;const l=i.uu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.ou()):a=await gw(i,e,t,!0),a}async function Q4(n,e){const t=Tw(n);await gw(t,e,!0,!1)}async function gw(n,e,t,i){const a=await f4(n.localStore,Nr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await X4(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&lw(n.remoteStore,a),d}async function X4(n,e,t,i,a){n.Ru=(T,S,N)=>async function(z,P,F,j){let H=P.view.Za(F);H.Cs&&(H=await RT(z.localStore,P.query,!1).then(({documents:L})=>P.view.Za(L,H)));const ie=j&&j.targetChanges.get(P.targetId),q=j&&j.targetMismatches.get(P.targetId)!=null,ee=P.view.applyChanges(H,z.isPrimaryClient,ie,q);return LT(z,P.targetId,ee.ru),ee.snapshot}(n,T,S,N);const l=await RT(n.localStore,e,!0),c=new F4(e,l.$s),d=c.Za(l.documents),m=Ju.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,m);LT(n,t,g.ru);const v=new G4(e,t,c);return n.uu.set(e,v),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),g.snapshot}async function W4(n,e,t){const i=xe(n),a=i.uu.get(e),l=i.cu.get(a.targetId);if(l.length>1)return i.cu.set(a.targetId,l.filter(c=>!Zf(c,e))),void i.uu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await gg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&cy(i.remoteStore,a.targetId),_g(i,a.targetId)}).catch(Go)):(_g(i,a.targetId),await gg(i.localStore,a.targetId,!0))}async function J4(n,e){const t=xe(n),i=t.uu.get(e),a=t.cu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),cy(t.remoteStore,i.targetId))}async function Z4(n,e,t){const i=ak(n);try{const a=await function(c,d){const m=xe(c),g=kt.now(),v=d.reduce((N,O)=>N.add(O.key),ze());let T,S;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>{let O=bi(),z=ze();return m.Bs.getEntries(N,v).next(P=>{O=P,O.forEach((F,j)=>{j.isValidDocument()||(z=z.add(F))})}).next(()=>m.localDocuments.getOverlayedDocuments(N,O)).next(P=>{T=P;const F=[];for(const j of d){const H=fM(j,T.get(j.key).overlayedDocument);H!=null&&F.push(new Ea(j.key,H,A1(H.value.mapValue),vi.exists(!0)))}return m.mutationQueue.addMutationBatch(N,g,F,d)}).next(P=>{S=P;const F=P.applyToLocalDocumentSet(T,z);return m.documentOverlayCache.saveOverlays(N,P.batchId,F)})}).then(()=>({batchId:S.batchId,changes:L1(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let g=c.Iu[c.currentUser.toKey()];g||(g=new dt(ke)),g=g.insert(d,m),c.Iu[c.currentUser.toKey()]=g}(i,a.batchId,t),await ec(i,a.changes),await ad(i.remoteStore)}catch(a){const l=my(a,"Failed to persist write");t.reject(l)}}async function yw(n,e){const t=xe(n);try{const i=await u4(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Pu.get(l);c&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c._u=!0:a.modifiedDocuments.size>0?Ye(c._u,14607):a.removedDocuments.size>0&&(Ye(c._u,42227),c._u=!1))}),await ec(t,i,e)}catch(i){await Go(i)}}function kT(n,e,t){const i=xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.uu.forEach((l,c)=>{const d=c.view.Da(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=xe(c);m.onlineState=d;let g=!1;m.queries.forEach((v,T)=>{for(const S of T.ya)S.Da(d)&&(g=!0)}),g&&gy(m)}(i.eventManager,e),a.length&&i.au.j_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function ek(n,e,t){const i=xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Pu.get(e),l=a&&a.key;if(l){let c=new dt(Te.comparator);c=c.insert(l,rn.newNoDocument(l,Oe.min()));const d=ze().add(l),m=new rd(Oe.min(),new Map,new dt(ke),c,d);await yw(i,m),i.hu=i.hu.remove(l),i.Pu.delete(e),vy(i)}else await gg(i.localStore,e,!1).then(()=>_g(i,e,t)).catch(Go)}async function tk(n,e){const t=xe(n),i=e.batch.batchId;try{const a=await l4(t.localStore,e);_w(t,i,null),vw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ec(t,a)}catch(a){await Go(a)}}async function nk(n,e,t){const i=xe(n);try{const a=await function(c,d){const m=xe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(Ye(T!==null,37113),v=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(i.localStore,e);_w(i,e,t),vw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ec(i,a)}catch(a){await Go(a)}}function vw(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function _w(n,e,t){const i=xe(n);let a=i.Iu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Iu[i.currentUser.toKey()]=a}}function _g(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.cu.get(e))n.uu.delete(i),t&&n.au.Vu(i,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(i=>{n.Tu.containsKey(i)||Ew(n,i)})}function Ew(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(cy(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),vy(n))}function LT(n,e,t){for(const i of t)i instanceof pw?(n.Tu.addReference(i.key,e),rk(n,i)):i instanceof mw?(me(yy,"Document no longer in limbo: "+i.key),n.Tu.removeReference(i.key,e),n.Tu.containsKey(i.key)||Ew(n,i.key)):Ae(19791,{mu:i})}function rk(n,e){const t=e.key,i=t.path.canonicalString();n.hu.get(t)||n.lu.has(i)||(me(yy,"New document in limbo: "+t),n.lu.add(i),vy(n))}function vy(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new Te(lt.fromString(e)),i=n.du.next();n.Pu.set(i,new $4(t)),n.hu=n.hu.insert(t,i),lw(n.remoteStore,new as(Nr(N1(t.path)),i,"TargetPurposeLimboResolution",Qf.le))}}async function ec(n,e,t){const i=xe(n),a=[],l=[],c=[];i.uu.isEmpty()||(i.uu.forEach((d,m)=>{c.push(i.Ru(m,e,t).then(g=>{var v;if((g||t)&&i.isPrimaryClient){const T=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){a.push(g);const T=ly.Rs(m.targetId,g);l.push(T)}}))}),await Promise.all(c),i.au.j_(a),await async function(m,g){const v=xe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ce.forEach(g,S=>ce.forEach(S.ds,N=>v.persistence.referenceDelegate.addReference(T,S.targetId,N)).next(()=>ce.forEach(S.As,N=>v.persistence.referenceDelegate.removeReference(T,S.targetId,N)))))}catch(T){if(!$o(T))throw T;me(uy,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const N=v.xs.get(S),O=N.snapshotVersion,z=N.withLastLimboFreeSnapshotVersion(O);v.xs=v.xs.insert(S,z)}}}(i.localStore,l))}async function ik(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){me(yy,"User change. New user:",e.toKey());const i=await iw(t.localStore,e);t.currentUser=e,function(l,c){l.Eu.forEach(d=>{d.forEach(m=>{m.reject(new Ee(fe.CANCELLED,c))})}),l.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ec(t,i.ks)}}function sk(n,e){const t=xe(n),i=t.Pu.get(e);if(i&&i._u)return ze().add(i.key);{let a=ze();const l=t.cu.get(e);if(!l)return a;for(const c of l){const d=t.uu.get(c);a=a.unionWith(d.view.Ya)}return a}}function Tw(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ek.bind(null,e),e.au.j_=B4.bind(null,e.eventManager),e.au.Vu=H4.bind(null,e.eventManager),e}function ak(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nk.bind(null,e),e}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=id(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return o4(this.persistence,new i4,e.initialUser,this.serializer)}yu(e){return new rw(oy.fi,this.serializer)}pu(e){return new p4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class ok extends If{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Ye(this.persistence.referenceDelegate instanceof Rf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new qM(i,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new rw(i=>Rf.fi(i,t),this.serializer)}}class Eg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ik.bind(null,this.syncEngine),await L4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U4}()}createDatastore(e){const t=id(e.databaseInfo.databaseId),i=function(l){return new _4(l)}(e.databaseInfo);return function(l,c,d,m){return new b4(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new A4(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>kT(this.syncEngine,t,0),function(){return OT.C()?new OT:new m4}())}createSyncEngine(e,t){return function(a,l,c,d,m,g,v){const T=new K4(a,l,c,d,m,g);return v&&(T.Au=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=xe(a);me(ga,"RemoteStore shutting down."),l.Ta.add(5),await Zu(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Eg.provider={build:()=>new Eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="FirestoreClient";class uk{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=nn.UNAUTHENTICATED,this.clientId=m1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{me(vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(me(vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=my(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Mm(n,e){n.asyncQueue.verifyOperationInProgress(),me(vs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await iw(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function VT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ck(n);me(vs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>DT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>DT(e.remoteStore,a)),n._onlineComponents=e}async function ck(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(vs,"Using user provided OfflineComponentProvider");try{await Mm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===fe.FAILED_PRECONDITION||a.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Io("Error using user provided cache. Falling back to memory cache: "+t),await Mm(n,new If)}}else me(vs,"Using default OfflineComponentProvider"),await Mm(n,new ok(void 0));return n._offlineComponents}async function Sw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(vs,"Using user provided OnlineComponentProvider"),await VT(n,n._uninitializedComponentsProvider._online)):(me(vs,"Using default OnlineComponentProvider"),await VT(n,new Eg))),n._onlineComponents}function hk(n){return Sw(n).then(e=>e.syncEngine)}async function fk(n){const e=await Sw(n),t=e.eventManager;return t.onListen=Y4.bind(null,e.syncEngine),t.onUnlisten=W4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Q4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=J4.bind(null,e.syncEngine),t}function dk(n,e,t={}){const i=new hs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const v=new lk({next:S=>{v.Cu(),c.enqueueAndForget(()=>z4(l,T)),S.fromCache&&m.source==="server"?g.reject(new Ee(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new q4(d,v,{includeMetadataChanges:!0,La:!0});return j4(l,T)}(await fk(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n,e,t){if(!t)throw new Ee(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pk(n,e,t,i){if(e===!0&&i===!0)throw new Ee(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jT(n){if(!Te.isDocumentKey(n))throw new Ee(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zT(n){if(Te.isDocumentKey(n))throw new Ee(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _y(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Uu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_y(n);throw new Ee(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="firestore.googleapis.com",BT=!0;class HT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Aw,this.ssl=BT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:BT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BM)throw new Ee(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ee(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ee(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ee(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class od{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new yP;switch(i.type){case"firstParty":return new TP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=UT.get(t);i&&(me("ComponentProvider","Removing Datastore"),UT.delete(t),i.terminate())}(this),Promise.resolve()}}function mk(n,e,t,i={}){var a;n=Uu(n,od);const l=Fu(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l&&(vb(`https://${m}`),_b("Firestore",!0)),c.host!==Aw&&c.host!==m&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:i});if(!ha(g,d)&&(n._setSettings(g),i.mockUserToken)){let v,T;if(typeof i.mockUserToken=="string")v=i.mockUserToken,T=nn.MOCK_USER;else{v=RO(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new Ee(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new nn(S)}n._authCredentials=new vP(new d1(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ld(this.firestore,e,this._query)}}class Yn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class fs extends ld{constructor(e,t,i){super(e,t,N1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new Te(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function gk(n,e,...t){if(n=_n(n),ww("collection","path",e),n instanceof od){const i=lt.fromString(e,...t);return zT(i),new fs(n,null,i)}{if(!(n instanceof Yn||n instanceof fs))throw new Ee(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return zT(i),new fs(n.firestore,null,i)}}function yk(n,e,...t){if(n=_n(n),arguments.length===1&&(e=m1.newId()),ww("doc","path",e),n instanceof od){const i=lt.fromString(e,...t);return jT(i),new Yn(n,null,new Te(i))}{if(!(n instanceof Yn||n instanceof fs))throw new Ee(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return jT(i),new Yn(n.firestore,n instanceof fs?n.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="AsyncQueue";class FT{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new aw(this,"async_queue_retry"),this.ec=()=>{const i=Pm();i&&me(qT,"Visibility state changed to "+i.visibilityState),this.C_.p_()},this.tc=e;const t=Pm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Pm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new hs;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!$o(e))throw e;me(qT,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(i=>{throw this.Ju=i,this.Yu=!1,Si("INTERNAL UNHANDLED ERROR: ",GT(i)),i}).then(i=>(this.Yu=!1,i))));return this.tc=t,t}enqueueAfterDelay(e,t,i){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const a=py.createAndSchedule(this,e,t,i,l=>this.oc(l));return this.Hu.push(a),a}nc(){this.Ju&&Ae(47125,{_c:GT(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function GT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ey extends od{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new FT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FT(e),this._firestoreClient=void 0,await e}}}function vk(n,e){const t=typeof n=="object"?n:bb(),i=typeof n=="string"?n:_f,a=zg(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=wO("firestore");l&&mk(a,...l)}return a}function Rw(n){if(n._terminated)throw new Ee(fe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_k(n),n._firestoreClient}function _k(n){var e,t,i;const a=n._freezeSettings(),l=function(d,m,g,v){return new LP(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,bw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new uk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(Wt.fromBase64String(e))}catch(t){throw new Ee(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mo(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=/^__.*__$/;class Tk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wu(e,this.data,t,this.fieldTransforms)}}function Iw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{hc:n})}}class wy{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Pc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new wy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Tc({path:i,Ec:!1});return a.dc(e),a}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Tc({path:i,Ec:!1});return a.Pc(),a}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Of(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Iw(this.hc)&&Ek.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Sk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||id(e)}gc(e,t,i,a=!1){return new wy({hc:e,methodName:t,fc:i,path:Xt.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bk(n){const e=n._freezeSettings(),t=id(n._databaseId);return new Sk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wk(n,e,t,i,a,l={}){const c=n.gc(l.merge||l.mergeFields?2:0,e,t,a);Nw("Data must be an object, but it was:",c,i);const d=xw(i,c);let m,g;if(l.merge)m=new sr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const S=Ak(e,T,t);if(!c.contains(S))throw new Ee(fe.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Ck(v,S)||v.push(S)}m=new sr(v),g=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=c.fieldTransforms;return new Tk(new Kn(d),m,g)}function Ow(n,e){if(Dw(n=_n(n)))return Nw("Unsupported field value:",e,n),xw(n,e);if(n instanceof Cw)return function(i,a){if(!Iw(a.hc))throw a.Vc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let m=Ow(d,a.Rc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=_n(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return aM(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=kt.fromDate(i);return{timestampValue:Af(a.serializer,l)}}if(i instanceof kt){const l=new kt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Af(a.serializer,l)}}if(i instanceof Sy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Mo)return{bytesValue:Q1(a.serializer,i._byteString)};if(i instanceof Yn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:sy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof by)return function(c,d){return{mapValue:{fields:{[b1]:{stringValue:w1},[Ef]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Vc("VectorValues must only contain numeric values.");return ny(d.serializer,g)})}}}}}}(i,a);throw a.Vc(`Unsupported field value: ${_y(i)}`)}(n,e)}function xw(n,e){const t={};return y1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(n,(i,a)=>{const l=Ow(a,e.Ic(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function Dw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof Sy||n instanceof Mo||n instanceof Yn||n instanceof Cw||n instanceof by)}function Nw(n,e,t){if(!Dw(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=_y(t);throw i==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+i)}}function Ak(n,e,t){if((e=_n(e))instanceof Ty)return e._internalPath;if(typeof e=="string")return Pw(n,e);throw Of("Field path arguments must be of type string or ",n,!1,void 0,t)}const Rk=new RegExp("[~\\*/\\[\\]]");function Pw(n,e,t){if(e.search(Rk)>=0)throw Of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ty(...e.split("."))._internalPath}catch{throw Of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Of(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new Ee(fe.INVALID_ARGUMENT,d+n+m)}function Ck(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ik(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Ik extends Mw{data(){return super.data()}}function kw(n,e){return typeof e=="string"?Pw(n,e):e instanceof Ty?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ee(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xk{convertValue(e,t="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return va(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Ef].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Et(c.doubleValue));return new by(l)}convertGeoPoint(e){return new Sy(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Wf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const t=ps(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=lt.fromString(e);Ye(tw(i),9688,{name:e});const a=new Mu(i.get(1),i.get(3)),l=new Te(i.popFirst(5));return a.isEqual(t)||Si(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nk extends Mw{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(kw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Zh extends Nk{data(e={}){return super.data(e)}}class Pk{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Nh(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Zh(this._firestore,this._userDataWriter,i.key,i,new Nh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Zh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Nh(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Zh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Nh(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:Mk(d.type),doc:m,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Mk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}class kk extends xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function Lk(n){n=Uu(n,ld);const e=Uu(n.firestore,Ey),t=Rw(e),i=new kk(e);return Ok(n._query),dk(t,n._query).then(a=>new Pk(e,i,n,a))}function Vk(n,e,t){n=Uu(n,Yn);const i=Uu(n.firestore,Ey),a=Dk(n.converter,e);return Uk(i,[wk(bk(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,vi.none())])}function Uk(n,e){return function(i,a){const l=new hs;return i.asyncQueue.enqueueAndForget(async()=>Z4(await hk(i),a,l)),l.promise}(Rw(n),e)}(function(e,t=!0){(function(a){Fo=a})(Ho),Ro(new fa("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Ey(new _P(i.getProvider("auth-internal")),new SP(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ee(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(g.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),us(XE,WE,e),us(XE,WE,"esm2017")})();const jk={apiKey:"AIzaSyBD_sN7Yj7IP1ZisSXAolvhNXUR0JCKN0M",authDomain:"clone-4cb5a.firebaseapp.com",projectId:"clone-4cb5a",storageBucket:"clone-4cb5a.firebasestorage.app",messagingSenderId:"509882170746",appId:"1:509882170746:web:5928a3ebc233a6d2ab2ac3"},Lw=Sb(jk),xf=dP(Lw),Vw=vk(Lw),Qt={ADD_TO_CART:"ADD_TO_CART",REMOVE_FROM_CART:"REMOVE_FROM_CART",INCREMENT_ITEM:"INCREMENT_ITEM",DECREMENT_ITEM:"DECREMENT_ITEM",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function zk(){var l;const n=jo(),e=()=>{nN(xf).then(()=>{alert("Are you sure, You are loging out of you account"),a({type:Qt.SET_USER,user:null}),n("/")}).catch(c=>{alert("Logout error:",c)})},[{basket:t,user:i},a]=J.useContext(Vr);return w.jsxs(w.Fragment,{children:[w.jsxs("header",{children:[w.jsxs("div",{className:hn.left,children:[w.jsx(ot,{to:"/",children:w.jsx("img",{className:hn.logo,src:bI,alt:"Logo"})}),w.jsxs("div",{className:hn.delivery,children:[w.jsx(NI,{}),w.jsxs("div",{children:[w.jsx("p",{children:"Deliver to:"}),w.jsx("p",{children:"Ethiopia"})]})]}),w.jsx(ot,{to:"/order",children:w.jsxs("div",{className:hn.orderMobile,children:[w.jsx("p",{children:"Returns"}),w.jsx("p",{children:"& Orders"})]})})]}),w.jsxs("div",{className:hn.center,children:[w.jsxs("select",{children:[w.jsx("option",{value:"",children:"All"}),w.jsx("option",{value:"arts-crafts",children:"Arts & Crafts"}),w.jsx("option",{value:"automotive",children:"Automotive"}),w.jsx("option",{value:"baby",children:"Baby"}),w.jsx("option",{value:"beauty",children:"Beauty & Personal Care"}),w.jsx("option",{value:"books",children:"Books"}),w.jsx("option",{value:"boys-fashion",children:"Boys' Fashion"}),w.jsx("option",{value:"computers",children:"Computers"}),w.jsx("option",{value:"deals",children:"Deals"}),w.jsx("option",{value:"digital-music",children:"Digital Music"}),w.jsx("option",{value:"electronics",children:"Electronics"}),w.jsx("option",{value:"girls-fashion",children:"Girls' Fashion"}),w.jsx("option",{value:"health-household",children:"Health & Household"}),w.jsx("option",{value:"home-kitchen",children:"Home & Kitchen"}),w.jsx("option",{value:"industrial-scientific",children:"Industrial & Scientific"}),w.jsx("option",{value:"kindle-store",children:"Kindle Store"}),w.jsx("option",{value:"luggage",children:"Luggage"}),w.jsx("option",{value:"mens-fashion",children:"Men's Fashion"}),w.jsx("option",{value:"movies-tv",children:"Movies & TV"}),w.jsx("option",{value:"music-cds-vinyl",children:"Music, CDs & Vinyl"})]}),w.jsx("input",{type:"text"}),w.jsx("div",{className:hn.search,children:w.jsx(PI,{})})]}),w.jsxs("div",{className:hn.right,children:[w.jsxs("div",{className:hn.country,children:[w.jsx("img",{src:"https://flagcdn.com/w160/et.png",alt:""}),w.jsx("p",{children:"ETH"}),w.jsx(sE,{})]}),i?w.jsxs("div",{className:hn.logout,children:[w.jsxs("p",{children:["Hello, ",(i==null?void 0:i.displayName)||((l=i==null?void 0:i.email)==null?void 0:l.split("@")[0])||"User!"]}),w.jsxs("span",{onClick:e,children:["Log out",w.jsx(mO,{})]})]}):w.jsx(ot,{to:"/auth",children:w.jsxs("div",{className:hn.account,children:[w.jsx("p",{children:"Hello, sign in"}),w.jsxs("span",{children:["Account and Lists",w.jsx(sE,{})]})]})}),w.jsx(ot,{to:"/order",children:w.jsxs("div",{className:hn.return,children:[w.jsx("p",{children:"Returns"}),w.jsx("p",{children:"& Orders"})]})}),w.jsx(ot,{to:!i&&"/auth",children:w.jsxs("div",{className:hn.user,onClick:()=>{i&&e()},children:[w.jsx(pO,{}),i?w.jsx("div",{className:hn.status,children:" "}):w.jsx("div",{className:hn.status_bad,children:" "})]})}),w.jsx(ot,{to:"/cart",children:w.jsxs("div",{className:hn.cart,children:[w.jsx(DI,{}),w.jsx("p",{children:(t==null?void 0:t.reduce((c,d)=>c+d.amount,0))||0})]})})]})]}),w.jsxs("nav",{children:[w.jsx(MI,{}),w.jsxs("ul",{children:[w.jsx("li",{children:"All"}),w.jsx("li",{children:"Today's Deals"}),w.jsx("li",{children:"Registry"}),w.jsx("li",{children:"Prime Video"}),w.jsx("li",{children:"Gift Cards"}),w.jsx("li",{children:"Customer Service"}),w.jsx("li",{children:"Sell"})]})]})]})}const Bk="_footer_furec_1",Hk="_footerSection_furec_15",qk="_column_furec_29",Fk="_bottomBar_furec_73",Gk="_languageCurrency_furec_89",$k="_responsiveWrapper_furec_121",ci={footer:Bk,footerSection:Hk,column:qk,bottomBar:Fk,languageCurrency:Gk,responsiveWrapper:$k},Kk=()=>w.jsx(w.Fragment,{children:w.jsx("footer",{className:ci.footer,children:w.jsxs("div",{className:ci.responsiveWrapper,children:[w.jsxs("div",{className:ci.footerSection,children:[w.jsxs("div",{className:ci.column,children:[w.jsx("h4",{children:"Get to Know Us"}),w.jsx("a",{href:"#",children:"Careers"}),w.jsx("a",{href:"#",children:"Blog"}),w.jsx("a",{href:"#",children:"About Amazon"}),w.jsx("a",{href:"#",children:"Investor Relations"}),w.jsx("a",{href:"#",children:"Amazon Devices"}),w.jsx("a",{href:"#",children:"Amazon Science"})]}),w.jsxs("div",{className:ci.column,children:[w.jsx("h4",{children:"Make Money with Us"}),w.jsx("a",{href:"#",children:"Sell products on Amazon"}),w.jsx("a",{href:"#",children:"Sell on Amazon Business"}),w.jsx("a",{href:"#",children:"Sell apps on Amazon"}),w.jsx("a",{href:"#",children:"Become an Affiliate"}),w.jsx("a",{href:"#",children:"Advertise Your Products"}),w.jsx("a",{href:"#",children:"Self-Publish with Us"}),w.jsx("a",{href:"#",children:"Host an Amazon Hub"}),w.jsx("a",{href:"#",children:"See More Make Money with Us"})]}),w.jsxs("div",{className:ci.column,children:[w.jsx("h4",{children:"Amazon Payment Products"}),w.jsx("a",{href:"#",children:"Amazon Business Card"}),w.jsx("a",{href:"#",children:"Shop with Points"}),w.jsx("a",{href:"#",children:"Reload Your Balance"}),w.jsx("a",{href:"#",children:"Amazon Currency Converter"})]}),w.jsxs("div",{className:ci.column,children:[w.jsx("h4",{children:"Let Us Help You"}),w.jsx("a",{href:"#",children:"Amazon and COVID-19"}),w.jsx("a",{href:"#",children:"Your Account"}),w.jsx("a",{href:"#",children:"Your Orders"}),w.jsx("a",{href:"#",children:"Shipping Rates & Policies"}),w.jsx("a",{href:"#",children:"Returns & Replacements"}),w.jsx("a",{href:"#",children:"Manage Your Content and Devices"}),w.jsx("a",{href:"#",children:"Help"})]})]}),w.jsxs("div",{className:ci.languageCurrency,children:[w.jsx("button",{children:" English"}),w.jsx("button",{children:"$ USD - U.S. Dollar"}),w.jsx("button",{children:" United States"})]}),w.jsxs("div",{className:ci.bottomBar,children:[w.jsx("p",{children:"Conditions of Use | Privacy Notice | Consumer Health Data Privacy Disclosure | Your Ads Privacy Choices"}),w.jsx("p",{children:" 1996-2025, Amazon.com, Inc. or its affiliates"})]})]})})});var km={},ou={},Ph={},Mh={},Lm={exports:{}},Vm,$T;function Yk(){if($T)return Vm;$T=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Vm=n,Vm}var Um,KT;function Qk(){if(KT)return Um;KT=1;var n=Yk();function e(){}function t(){}return t.resetWarningCache=e,Um=function(){function i(c,d,m,g,v,T){if(T!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Um}var YT;function Uw(){return YT||(YT=1,Lm.exports=Qk()()),Lm.exports}var QT;function Xk(){return QT||(QT=1,function(n){(function(e,t){t(n,Es(),Uw())})(Mh,function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=O;var a=c(t),l=c(i);function c(j){return j&&j.__esModule?j:{default:j}}var d=Object.assign||function(j){for(var H=1;H<arguments.length;H++){var ie=arguments[H];for(var q in ie)Object.prototype.hasOwnProperty.call(ie,q)&&(j[q]=ie[q])}return j};function m(j,H){var ie={};for(var q in j)H.indexOf(q)>=0||Object.prototype.hasOwnProperty.call(j,q)&&(ie[q]=j[q]);return ie}function g(j,H){if(!(j instanceof H))throw new TypeError("Cannot call a class as a function")}var v=function(){function j(H,ie){for(var q=0;q<ie.length;q++){var ee=ie[q];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(H,ee.key,ee)}}return function(H,ie,q){return ie&&j(H.prototype,ie),q&&j(H,q),H}}();function T(j,H){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:j}function S(j,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);j.prototype=Object.create(H&&H.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(j,H):j.__proto__=H)}var N=!1;function O(j){N=j}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){O(!0)}}))}catch{}function z(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return N?j:j.capture}function P(j){if("touches"in j){var H=j.touches[0],ie=H.pageX,q=H.pageY;return{x:ie,y:q}}var ee=j.screenX,L=j.screenY;return{x:ee,y:L}}var F=function(j){S(H,j);function H(){var ie;g(this,H);for(var q=arguments.length,ee=Array(q),L=0;L<q;L++)ee[L]=arguments[L];var b=T(this,(ie=H.__proto__||Object.getPrototypeOf(H)).call.apply(ie,[this].concat(ee)));return b._handleSwipeStart=b._handleSwipeStart.bind(b),b._handleSwipeMove=b._handleSwipeMove.bind(b),b._handleSwipeEnd=b._handleSwipeEnd.bind(b),b._onMouseDown=b._onMouseDown.bind(b),b._onMouseMove=b._onMouseMove.bind(b),b._onMouseUp=b._onMouseUp.bind(b),b._setSwiperRef=b._setSwiperRef.bind(b),b}return v(H,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,z({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,z({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(q){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(q))}},{key:"_onMouseMove",value:function(q){this.mouseDown&&this._handleSwipeMove(q)}},{key:"_onMouseUp",value:function(q){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(q)}},{key:"_handleSwipeStart",value:function(q){var ee=P(q),L=ee.x,b=ee.y;this.moveStart={x:L,y:b},this.props.onSwipeStart(q)}},{key:"_handleSwipeMove",value:function(q){if(this.moveStart){var ee=P(q),L=ee.x,b=ee.y,A=L-this.moveStart.x,M=b-this.moveStart.y;this.moving=!0;var D=this.props.onSwipeMove({x:A,y:M},q);D&&q.cancelable&&q.preventDefault(),this.movePosition={deltaX:A,deltaY:M}}}},{key:"_handleSwipeEnd",value:function(q){this.props.onSwipeEnd(q);var ee=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-ee?this.props.onSwipeLeft(1,q):this.movePosition.deltaX>ee&&this.props.onSwipeRight(1,q),this.movePosition.deltaY<-ee?this.props.onSwipeUp(1,q):this.movePosition.deltaY>ee&&this.props.onSwipeDown(1,q)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(q){this.swiper=q,this.props.innerRef(q)}},{key:"render",value:function(){var q=this.props;q.tagName;var ee=q.className,L=q.style,b=q.children;q.allowMouseEvents,q.onSwipeUp,q.onSwipeDown,q.onSwipeLeft,q.onSwipeRight,q.onSwipeStart,q.onSwipeMove,q.onSwipeEnd,q.innerRef,q.tolerance;var A=m(q,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return a.default.createElement(this.props.tagName,d({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:ee,style:L},A),b)}}]),H}(t.Component);F.displayName="ReactSwipe",F.propTypes={tagName:l.default.string,className:l.default.string,style:l.default.object,children:l.default.node,allowMouseEvents:l.default.bool,onSwipeUp:l.default.func,onSwipeDown:l.default.func,onSwipeLeft:l.default.func,onSwipeRight:l.default.func,onSwipeStart:l.default.func,onSwipeMove:l.default.func,onSwipeEnd:l.default.func,innerRef:l.default.func,tolerance:l.default.number.isRequired},F.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=F})}(Mh)),Mh}var XT;function jw(){return XT||(XT=1,function(n){(function(e,t){t(n,Xk())})(Ph,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=a(t);function a(l){return l&&l.__esModule?l:{default:l}}e.default=i.default})}(Ph)),Ph}var lu={},jm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var WT;function Wk(){return WT||(WT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(l=a(l,i(d)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var d in l)e.call(l,d)&&l[d]&&(c=a(c,d));return c}function a(l,c){return c?l?l+" "+c:l+c:l}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(jm)),jm.exports}var JT;function zw(){if(JT)return lu;JT=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.default=void 0;var n=e(Wk());function e(a){return a&&a.__esModule?a:{default:a}}function t(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}var i={ROOT:function(l){return(0,n.default)(t({"carousel-root":!0},l||"",!!l))},CAROUSEL:function(l){return(0,n.default)({carousel:!0,"carousel-slider":l})},WRAPPER:function(l,c){return(0,n.default)({"thumbs-wrapper":!l,"slider-wrapper":l,"axis-horizontal":c==="horizontal","axis-vertical":c!=="horizontal"})},SLIDER:function(l,c){return(0,n.default)({thumbs:!l,slider:l,animated:!c})},ITEM:function(l,c,d){return(0,n.default)({thumb:!l,slide:l,selected:c,previous:d})},ARROW_PREV:function(l){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":l})},ARROW_NEXT:function(l){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":l})},DOT:function(l){return(0,n.default)({dot:!0,selected:l})}};return lu.default=i,lu}var uu={},cu={},ZT;function Jk(){if(ZT)return cu;ZT=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.outerWidth=void 0;var n=function(t){var i=t.offsetWidth,a=getComputedStyle(t);return i+=parseInt(a.marginLeft)+parseInt(a.marginRight),i};return cu.outerWidth=n,cu}var hu={},eS;function Ay(){if(eS)return hu;eS=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.default=void 0;var n=function(t,i,a){var l=t===0?t:t+i,c=a==="horizontal"?[l,0,0]:[0,l,0],d="translate3d",m="("+c.join(",")+")";return d+m};return hu.default=n,hu}var fu={},tS;function Bw(){if(tS)return fu;tS=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.default=void 0;var n=function(){return window};return fu.default=n,fu}var nS;function Hw(){if(nS)return uu;nS=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.default=void 0;var n=m(Es()),e=c(zw()),t=Jk(),i=c(Ay()),a=c(jw()),l=c(Bw());function c(b){return b&&b.__esModule?b:{default:b}}function d(){if(typeof WeakMap!="function")return null;var b=new WeakMap;return d=function(){return b},b}function m(b){if(b&&b.__esModule)return b;if(b===null||g(b)!=="object"&&typeof b!="function")return{default:b};var A=d();if(A&&A.has(b))return A.get(b);var M={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in b)if(Object.prototype.hasOwnProperty.call(b,C)){var I=D?Object.getOwnPropertyDescriptor(b,C):null;I&&(I.get||I.set)?Object.defineProperty(M,C,I):M[C]=b[C]}return M.default=b,A&&A.set(b,M),M}function g(b){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(M){return typeof M}:g=function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},g(b)}function v(){return v=Object.assign||function(b){for(var A=1;A<arguments.length;A++){var M=arguments[A];for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(b[D]=M[D])}return b},v.apply(this,arguments)}function T(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}function S(b,A){for(var M=0;M<A.length;M++){var D=A[M];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(b,D.key,D)}}function N(b,A,M){return A&&S(b.prototype,A),b}function O(b,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(A&&A.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),A&&z(b,A)}function z(b,A){return z=Object.setPrototypeOf||function(D,C){return D.__proto__=C,D},z(b,A)}function P(b){var A=H();return function(){var D=ie(b),C;if(A){var I=ie(this).constructor;C=Reflect.construct(D,arguments,I)}else C=D.apply(this,arguments);return F(this,C)}}function F(b,A){return A&&(g(A)==="object"||typeof A=="function")?A:j(b)}function j(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function H(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ie(b){return ie=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},ie(b)}function q(b,A,M){return A in b?Object.defineProperty(b,A,{value:M,enumerable:!0,configurable:!0,writable:!0}):b[A]=M,b}var ee=function(A){return A.hasOwnProperty("key")},L=function(b){O(M,b);var A=P(M);function M(D){var C;return T(this,M),C=A.call(this,D),q(j(C),"itemsWrapperRef",void 0),q(j(C),"itemsListRef",void 0),q(j(C),"thumbsRef",void 0),q(j(C),"setItemsWrapperRef",function(I){C.itemsWrapperRef=I}),q(j(C),"setItemsListRef",function(I){C.itemsListRef=I}),q(j(C),"setThumbsRef",function(I,ue){C.thumbsRef||(C.thumbsRef=[]),C.thumbsRef[ue]=I}),q(j(C),"updateSizes",function(){if(!(!C.props.children||!C.itemsWrapperRef||!C.thumbsRef)){var I=n.Children.count(C.props.children),ue=C.itemsWrapperRef.clientWidth,k=C.props.thumbWidth?C.props.thumbWidth:(0,t.outerWidth)(C.thumbsRef[0]),G=Math.floor(ue/k),X=G<I,ae=X?I-G:0;C.setState(function(ge,U){return{itemSize:k,visibleItems:G,firstItem:X?C.getFirstItem(U.selectedItem):0,lastPosition:ae,showArrows:X}})}}),q(j(C),"handleClickItem",function(I,ue,k){if(!ee(k)||k.key==="Enter"){var G=C.props.onSelectItem;typeof G=="function"&&G(I,ue)}}),q(j(C),"onSwipeStart",function(){C.setState({swiping:!0})}),q(j(C),"onSwipeEnd",function(){C.setState({swiping:!1})}),q(j(C),"onSwipeMove",function(I){var ue=I.x;if(!C.state.itemSize||!C.itemsWrapperRef||!C.state.visibleItems)return!1;var k=0,G=n.Children.count(C.props.children),X=-(C.state.firstItem*100)/C.state.visibleItems,ae=Math.max(G-C.state.visibleItems,0),ge=-ae*100/C.state.visibleItems;X===k&&ue>0&&(ue=0),X===ge&&ue<0&&(ue=0);var U=C.itemsWrapperRef.clientWidth,te=X+100/(U/ue);return C.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(de){C.itemsListRef.style[de]=(0,i.default)(te,"%",C.props.axis)}),!0}),q(j(C),"slideRight",function(I){C.moveTo(C.state.firstItem-(typeof I=="number"?I:1))}),q(j(C),"slideLeft",function(I){C.moveTo(C.state.firstItem+(typeof I=="number"?I:1))}),q(j(C),"moveTo",function(I){I=I<0?0:I,I=I>=C.state.lastPosition?C.state.lastPosition:I,C.setState({firstItem:I})}),C.state={selectedItem:D.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},C}return N(M,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(C){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==C.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(C){var I=C;return C>=this.state.lastPosition&&(I=this.state.lastPosition),C<this.state.firstItem+this.state.visibleItems&&(I=this.state.firstItem),C<this.state.firstItem&&(I=C),I}},{key:"renderItems",value:function(){var C=this;return this.props.children.map(function(I,ue){var k=e.default.ITEM(!1,ue===C.state.selectedItem),G={key:ue,ref:function(ae){return C.setThumbsRef(ae,ue)},className:k,onClick:C.handleClickItem.bind(C,ue,C.props.children[ue]),onKeyDown:C.handleClickItem.bind(C,ue,C.props.children[ue]),"aria-label":"".concat(C.props.labels.item," ").concat(ue+1),style:{width:C.props.thumbWidth}};return n.default.createElement("li",v({},G,{role:"button",tabIndex:0}),I)})}},{key:"render",value:function(){var C=this;if(!this.props.children)return null;var I=n.Children.count(this.props.children)>1,ue=this.state.showArrows&&this.state.firstItem>0,k=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,G={},X=-this.state.firstItem*(this.state.itemSize||0),ae=(0,i.default)(X,"px",this.props.axis),ge=this.props.transitionTime+"ms";return G={WebkitTransform:ae,MozTransform:ae,MsTransform:ae,OTransform:ae,transform:ae,msTransform:ae,WebkitTransitionDuration:ge,MozTransitionDuration:ge,MsTransitionDuration:ge,OTransitionDuration:ge,transitionDuration:ge,msTransitionDuration:ge},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!ue),onClick:function(){return C.slideRight()},"aria-label":this.props.labels.leftArrow}),I?n.default.createElement(a.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:G,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(te){return C.setItemsListRef(te)},style:G},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!k),onClick:function(){return C.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),M}(n.Component);return uu.default=L,q(L,"displayName","Thumbs"),q(L,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),uu}var du={},rS;function Zk(){if(rS)return du;rS=1,Object.defineProperty(du,"__esModule",{value:!0}),du.default=void 0;var n=function(){return document};return du.default=n,du}var xn={},iS;function qw(){if(iS)return xn;iS=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.setPosition=xn.getPosition=xn.isKeyboardEvent=xn.defaultStatusFormatter=xn.noop=void 0;var n=Es(),e=t(Ay());function t(m){return m&&m.__esModule?m:{default:m}}var i=function(){};xn.noop=i;var a=function(g,v){return"".concat(g," of ").concat(v)};xn.defaultStatusFormatter=a;var l=function(g){return g?g.hasOwnProperty("key"):!1};xn.isKeyboardEvent=l;var c=function(g,v){if(v.infiniteLoop&&++g,g===0)return 0;var T=n.Children.count(v.children);if(v.centerMode&&v.axis==="horizontal"){var S=-g*v.centerSlidePercentage,N=T-1;return g&&(g!==N||v.infiniteLoop)?S+=(100-v.centerSlidePercentage)/2:g===N&&(S+=100-v.centerSlidePercentage),S}return-g*100};xn.getPosition=c;var d=function(g,v){var T={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(S){T[S]=(0,e.default)(g,"%",v)}),T};return xn.setPosition=d,xn}var tr={},sS;function e3(){if(sS)return tr;sS=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.fadeAnimationHandler=tr.slideStopSwipingHandler=tr.slideSwipeAnimationHandler=tr.slideAnimationHandler=void 0;var n=Es(),e=i(Ay()),t=qw();function i(T){return T&&T.__esModule?T:{default:T}}function a(T,S){var N=Object.keys(T);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(T);S&&(O=O.filter(function(z){return Object.getOwnPropertyDescriptor(T,z).enumerable})),N.push.apply(N,O)}return N}function l(T){for(var S=1;S<arguments.length;S++){var N=arguments[S]!=null?arguments[S]:{};S%2?a(Object(N),!0).forEach(function(O){c(T,O,N[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(N)):a(Object(N)).forEach(function(O){Object.defineProperty(T,O,Object.getOwnPropertyDescriptor(N,O))})}return T}function c(T,S,N){return S in T?Object.defineProperty(T,S,{value:N,enumerable:!0,configurable:!0,writable:!0}):T[S]=N,T}var d=function(S,N){var O={},z=N.selectedItem,P=z,F=n.Children.count(S.children)-1,j=S.infiniteLoop&&(z<0||z>F);if(j)return P<0?S.centerMode&&S.centerSlidePercentage&&S.axis==="horizontal"?O.itemListStyle=(0,t.setPosition)(-(F+2)*S.centerSlidePercentage-(100-S.centerSlidePercentage)/2,S.axis):O.itemListStyle=(0,t.setPosition)(-(F+2)*100,S.axis):P>F&&(O.itemListStyle=(0,t.setPosition)(0,S.axis)),O;var H=(0,t.getPosition)(z,S),ie=(0,e.default)(H,"%",S.axis),q=S.transitionTime+"ms";return O.itemListStyle={WebkitTransform:ie,msTransform:ie,OTransform:ie,transform:ie},N.swiping||(O.itemListStyle=l(l({},O.itemListStyle),{},{WebkitTransitionDuration:q,MozTransitionDuration:q,OTransitionDuration:q,transitionDuration:q,msTransitionDuration:q})),O};tr.slideAnimationHandler=d;var m=function(S,N,O,z){var P={},F=N.axis==="horizontal",j=n.Children.count(N.children),H=0,ie=(0,t.getPosition)(O.selectedItem,N),q=N.infiniteLoop?(0,t.getPosition)(j-1,N)-100:(0,t.getPosition)(j-1,N),ee=F?S.x:S.y,L=ee;ie===H&&ee>0&&(L=0),ie===q&&ee<0&&(L=0);var b=ie+100/(O.itemSize/L),A=Math.abs(ee)>N.swipeScrollTolerance;return N.infiniteLoop&&A&&(O.selectedItem===0&&b>-100?b-=j*100:O.selectedItem===j-1&&b<-j*100&&(b+=j*100)),(!N.preventMovementUntilSwipeScrollTolerance||A||O.swipeMovementStarted)&&(O.swipeMovementStarted||z({swipeMovementStarted:!0}),P.itemListStyle=(0,t.setPosition)(b,N.axis)),A&&!O.cancelClick&&z({cancelClick:!0}),P};tr.slideSwipeAnimationHandler=m;var g=function(S,N){var O=(0,t.getPosition)(N.selectedItem,S),z=(0,t.setPosition)(O,S.axis);return{itemListStyle:z}};tr.slideStopSwipingHandler=g;var v=function(S,N){var O=S.transitionTime+"ms",z="ease-in-out",P={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:z,msTransitionTimingFunction:z,MozTransitionTimingFunction:z,WebkitTransitionTimingFunction:z,OTransitionTimingFunction:z};return N.swiping||(P=l(l({},P),{},{WebkitTransitionDuration:O,MozTransitionDuration:O,OTransitionDuration:O,transitionDuration:O,msTransitionDuration:O})),{slideStyle:P,selectedStyle:l(l({},P),{},{opacity:1,position:"relative"}),prevStyle:l({},P)}};return tr.fadeAnimationHandler=v,tr}var aS;function t3(){if(aS)return ou;aS=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.default=void 0;var n=v(Es()),e=m(jw()),t=m(zw()),i=m(Hw()),a=m(Zk()),l=m(Bw()),c=qw(),d=e3();function m(D){return D&&D.__esModule?D:{default:D}}function g(){if(typeof WeakMap!="function")return null;var D=new WeakMap;return g=function(){return D},D}function v(D){if(D&&D.__esModule)return D;if(D===null||T(D)!=="object"&&typeof D!="function")return{default:D};var C=g();if(C&&C.has(D))return C.get(D);var I={},ue=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in D)if(Object.prototype.hasOwnProperty.call(D,k)){var G=ue?Object.getOwnPropertyDescriptor(D,k):null;G&&(G.get||G.set)?Object.defineProperty(I,k,G):I[k]=D[k]}return I.default=D,C&&C.set(D,I),I}function T(D){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(I){return typeof I}:T=function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},T(D)}function S(){return S=Object.assign||function(D){for(var C=1;C<arguments.length;C++){var I=arguments[C];for(var ue in I)Object.prototype.hasOwnProperty.call(I,ue)&&(D[ue]=I[ue])}return D},S.apply(this,arguments)}function N(D,C){var I=Object.keys(D);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(D);C&&(ue=ue.filter(function(k){return Object.getOwnPropertyDescriptor(D,k).enumerable})),I.push.apply(I,ue)}return I}function O(D){for(var C=1;C<arguments.length;C++){var I=arguments[C]!=null?arguments[C]:{};C%2?N(Object(I),!0).forEach(function(ue){A(D,ue,I[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(I)):N(Object(I)).forEach(function(ue){Object.defineProperty(D,ue,Object.getOwnPropertyDescriptor(I,ue))})}return D}function z(D,C){if(!(D instanceof C))throw new TypeError("Cannot call a class as a function")}function P(D,C){for(var I=0;I<C.length;I++){var ue=C[I];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(D,ue.key,ue)}}function F(D,C,I){return C&&P(D.prototype,C),D}function j(D,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(C&&C.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),C&&H(D,C)}function H(D,C){return H=Object.setPrototypeOf||function(ue,k){return ue.__proto__=k,ue},H(D,C)}function ie(D){var C=L();return function(){var ue=b(D),k;if(C){var G=b(this).constructor;k=Reflect.construct(ue,arguments,G)}else k=ue.apply(this,arguments);return q(this,k)}}function q(D,C){return C&&(T(C)==="object"||typeof C=="function")?C:ee(D)}function ee(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function b(D){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)},b(D)}function A(D,C,I){return C in D?Object.defineProperty(D,C,{value:I,enumerable:!0,configurable:!0,writable:!0}):D[C]=I,D}var M=function(D){j(I,D);var C=ie(I);function I(ue){var k;z(this,I),k=C.call(this,ue),A(ee(k),"thumbsRef",void 0),A(ee(k),"carouselWrapperRef",void 0),A(ee(k),"listRef",void 0),A(ee(k),"itemsRef",void 0),A(ee(k),"timer",void 0),A(ee(k),"animationHandler",void 0),A(ee(k),"setThumbsRef",function(X){k.thumbsRef=X}),A(ee(k),"setCarouselWrapperRef",function(X){k.carouselWrapperRef=X}),A(ee(k),"setListRef",function(X){k.listRef=X}),A(ee(k),"setItemsRef",function(X,ae){k.itemsRef||(k.itemsRef=[]),k.itemsRef[ae]=X}),A(ee(k),"autoPlay",function(){n.Children.count(k.props.children)<=1||(k.clearAutoPlay(),k.props.autoPlay&&(k.timer=setTimeout(function(){k.increment()},k.props.interval)))}),A(ee(k),"clearAutoPlay",function(){k.timer&&clearTimeout(k.timer)}),A(ee(k),"resetAutoPlay",function(){k.clearAutoPlay(),k.autoPlay()}),A(ee(k),"stopOnHover",function(){k.setState({isMouseEntered:!0},k.clearAutoPlay)}),A(ee(k),"startOnLeave",function(){k.setState({isMouseEntered:!1},k.autoPlay)}),A(ee(k),"isFocusWithinTheCarousel",function(){return k.carouselWrapperRef?!!((0,a.default)().activeElement===k.carouselWrapperRef||k.carouselWrapperRef.contains((0,a.default)().activeElement)):!1}),A(ee(k),"navigateWithKeyboard",function(X){if(k.isFocusWithinTheCarousel()){var ae=k.props.axis,ge=ae==="horizontal",U={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},te=ge?U.ArrowRight:U.ArrowDown,de=ge?U.ArrowLeft:U.ArrowUp;te===X.keyCode?k.increment():de===X.keyCode&&k.decrement()}}),A(ee(k),"updateSizes",function(){if(!(!k.state.initialized||!k.itemsRef||k.itemsRef.length===0)){var X=k.props.axis==="horizontal",ae=k.itemsRef[0];if(ae){var ge=X?ae.clientWidth:ae.clientHeight;k.setState({itemSize:ge}),k.thumbsRef&&k.thumbsRef.updateSizes()}}}),A(ee(k),"setMountState",function(){k.setState({hasMount:!0}),k.updateSizes()}),A(ee(k),"handleClickItem",function(X,ae){if(n.Children.count(k.props.children)!==0){if(k.state.cancelClick){k.setState({cancelClick:!1});return}k.props.onClickItem(X,ae),X!==k.state.selectedItem&&k.setState({selectedItem:X})}}),A(ee(k),"handleOnChange",function(X,ae){n.Children.count(k.props.children)<=1||k.props.onChange(X,ae)}),A(ee(k),"handleClickThumb",function(X,ae){k.props.onClickThumb(X,ae),k.moveTo(X)}),A(ee(k),"onSwipeStart",function(X){k.setState({swiping:!0}),k.props.onSwipeStart(X)}),A(ee(k),"onSwipeEnd",function(X){k.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),k.props.onSwipeEnd(X),k.clearAutoPlay(),k.state.autoPlay&&k.autoPlay()}),A(ee(k),"onSwipeMove",function(X,ae){k.props.onSwipeMove(ae);var ge=k.props.swipeAnimationHandler(X,k.props,k.state,k.setState.bind(ee(k)));return k.setState(O({},ge)),!!Object.keys(ge).length}),A(ee(k),"decrement",function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;k.moveTo(k.state.selectedItem-(typeof X=="number"?X:1))}),A(ee(k),"increment",function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;k.moveTo(k.state.selectedItem+(typeof X=="number"?X:1))}),A(ee(k),"moveTo",function(X){if(typeof X=="number"){var ae=n.Children.count(k.props.children)-1;X<0&&(X=k.props.infiniteLoop?ae:0),X>ae&&(X=k.props.infiniteLoop?0:ae),k.selectItem({selectedItem:X}),k.state.autoPlay&&k.state.isMouseEntered===!1&&k.resetAutoPlay()}}),A(ee(k),"onClickNext",function(){k.increment(1)}),A(ee(k),"onClickPrev",function(){k.decrement(1)}),A(ee(k),"onSwipeForward",function(){k.increment(1),k.props.emulateTouch&&k.setState({cancelClick:!0})}),A(ee(k),"onSwipeBackwards",function(){k.decrement(1),k.props.emulateTouch&&k.setState({cancelClick:!0})}),A(ee(k),"changeItem",function(X){return function(ae){(!(0,c.isKeyboardEvent)(ae)||ae.key==="Enter")&&k.moveTo(X)}}),A(ee(k),"selectItem",function(X){k.setState(O({previousItem:k.state.selectedItem},X),function(){k.setState(k.animationHandler(k.props,k.state))}),k.handleOnChange(X.selectedItem,n.Children.toArray(k.props.children)[X.selectedItem])}),A(ee(k),"getInitialImage",function(){var X=k.props.selectedItem,ae=k.itemsRef&&k.itemsRef[X],ge=ae&&ae.getElementsByTagName("img")||[];return ge[0]}),A(ee(k),"getVariableItemHeight",function(X){var ae=k.itemsRef&&k.itemsRef[X];if(k.state.hasMount&&ae&&ae.children.length){var ge=ae.children[0].getElementsByTagName("img")||[];if(ge.length>0){var U=ge[0];if(!U.complete){var te=function ye(){k.forceUpdate(),U.removeEventListener("load",ye)};U.addEventListener("load",te)}}var de=ge[0]||ae.children[0],he=de.clientHeight;return he>0?he:null}return null});var G={initialized:!1,previousItem:ue.selectedItem,selectedItem:ue.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:ue.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return k.animationHandler=typeof ue.animationHandler=="function"&&ue.animationHandler||ue.animationHandler==="fade"&&d.fadeAnimationHandler||d.slideAnimationHandler,k.state=O(O({},G),k.animationHandler(ue,G)),k}return F(I,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(k,G){!k.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!k.autoFocus&&this.props.autoFocus&&this.forceFocus(),G.swiping&&!this.state.swiping&&this.setState(O({},this.props.stopSwipingHandler(this.props,this.state))),(k.selectedItem!==this.props.selectedItem||k.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),k.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var k=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var G=k.getInitialImage();G&&!G.complete?G.addEventListener("load",k.setMountState):k.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var k=this.carouselWrapperRef;this.props.stopOnHover&&k&&(k.addEventListener("mouseenter",this.stopOnHover),k.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var k=this.carouselWrapperRef;this.props.stopOnHover&&k&&(k.removeEventListener("mouseenter",this.stopOnHover),k.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,a.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var k=this.getInitialImage();k&&k.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,a.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var k;(k=this.carouselWrapperRef)===null||k===void 0||k.focus()}},{key:"renderItems",value:function(k){var G=this;return this.props.children?n.Children.map(this.props.children,function(X,ae){var ge=ae===G.state.selectedItem,U=ae===G.state.previousItem,te=ge&&G.state.selectedStyle||U&&G.state.prevStyle||G.state.slideStyle||{};G.props.centerMode&&G.props.axis==="horizontal"&&(te=O(O({},te),{},{minWidth:G.props.centerSlidePercentage+"%"})),G.state.swiping&&G.state.swipeMovementStarted&&(te=O(O({},te),{},{pointerEvents:"none"}));var de={ref:function(ye){return G.setItemsRef(ye,ae)},key:"itemKey"+ae+(k?"clone":""),className:t.default.ITEM(!0,ae===G.state.selectedItem,ae===G.state.previousItem),onClick:G.handleClickItem.bind(G,ae,X),style:te};return n.default.createElement("li",de,G.props.renderItem(X,{isSelected:ae===G.state.selectedItem,isPrevious:ae===G.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var k=this,G=this.props,X=G.showIndicators,ae=G.labels,ge=G.renderIndicator,U=G.children;return X?n.default.createElement("ul",{className:"control-dots"},n.Children.map(U,function(te,de){return ge&&ge(k.changeItem(de),de===k.state.selectedItem,de,ae.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(i.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var k=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var G=this.props.swipeable&&n.Children.count(this.props.children)>1,X=this.props.axis==="horizontal",ae=this.props.showArrows&&n.Children.count(this.props.children)>1,ge=ae&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,U=ae&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,te=this.renderItems(!0),de=te.shift(),he=te.pop(),ye={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},De={};if(X){if(ye.onSwipeLeft=this.onSwipeForward,ye.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Re=this.getVariableItemHeight(this.state.selectedItem);De.height=Re||"auto"}}else ye.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ye.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ye.style=O(O({},ye.style),{},{height:this.state.itemSize}),De.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,ge,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:De},G?n.default.createElement(e.default,S({tagName:"ul",innerRef:this.setListRef},ye,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&he,this.renderItems(),this.props.infiniteLoop&&de):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(Je){return k.setListRef(Je)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&he,this.renderItems(),this.props.infiniteLoop&&de)),this.props.renderArrowNext(this.onClickNext,U,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),I}(n.default.Component);return ou.default=M,A(M,"displayName","Carousel"),A(M,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:c.noop,onClickThumb:c.noop,onChange:c.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(C,I,ue){return n.default.createElement("button",{type:"button","aria-label":ue,className:t.default.ARROW_PREV(!I),onClick:C})},renderArrowNext:function(C,I,ue){return n.default.createElement("button",{type:"button","aria-label":ue,className:t.default.ARROW_NEXT(!I),onClick:C})},renderIndicator:function(C,I,ue,k){return n.default.createElement("li",{className:t.default.DOT(I),onClick:C,onKeyDown:C,value:ue,key:ue,role:"button",tabIndex:0,"aria-label":"".concat(k," ").concat(ue+1)})},renderItem:function(C){return C},renderThumbs:function(C){var I=n.Children.map(C,function(ue){var k=ue;if(ue.type!=="img"&&(k=n.Children.toArray(ue.props.children).find(function(G){return G.type==="img"})),!!k)return k});return I.filter(function(ue){return ue}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):I},statusFormatter:c.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:d.slideSwipeAnimationHandler,stopSwipingHandler:d.slideStopSwipingHandler}),ou}var oS={},lS;function n3(){return lS||(lS=1),oS}var uS;function r3(){return uS||(uS=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return i.default}});var e=a(t3()),t=n3(),i=a(Hw());function a(l){return l&&l.__esModule?l:{default:l}}}(km)),km}var i3=r3();const s3="/amazon-clone/assets/61lwJy4B8PL-BPr44Ttk.jpg",a3="/amazon-clone/assets/61rA2HUCX6L-C_dsjNeq.jpg",o3="/amazon-clone/assets/71h15GsHkvL--Qo32Hzc.jpg",l3="/amazon-clone/assets/71Ie3JXGfVL-Fp0oaH3y.jpg",u3="/amazon-clone/assets/81hIlE5xocL-DsUq79Yp.jpg",c3="/amazon-clone/assets/81KkrQWEHIL-bl35EseN.jpg",h3="/amazon-clone/assets/619geyiQI5L-ByUVtdl5.jpg",f3=[s3,a3,o3,l3,u3,c3,h3],d3="_carousel_1sz75_1",p3="_container_1sz75_13",cS={carousel:d3,container:p3};function m3(){return w.jsx(w.Fragment,{children:w.jsx("div",{className:cS.container,children:w.jsx(i3.Carousel,{className:`${cS.carousel}`,showArrows:!1,infiniteLoop:!0,showThumbs:!1,showStatus:!1,autoPlay:!0,swipeable:!0,children:f3.map(n=>w.jsx("img",{src:n,alt:""}))})})})}const g3="_category_1xnhu_1",y3="_item_1xnhu_19",v3="_electronics_1xnhu_105",_3="_fashion_1xnhu_111",E3="_clothing_1xnhu_117",T3="_jewlery_1xnhu_123",hi={category:g3,item:y3,electronics:v3,fashion:_3,clothing:E3,jewlery:T3},S3="/amazon-clone/assets/electronics-DvMVnL4M.png",b3="/amazon-clone/assets/clothing-C0yqERBY.png",w3="/amazon-clone/assets/jewlery-sAVc57uZ.png",A3="/amazon-clone/assets/fashion-Bw2pqHWI.png";function R3(){return w.jsxs("div",{className:`${hi.category}`,children:[w.jsx(ot,{to:"/category/electronics",children:w.jsxs("div",{className:`${hi.item} ${hi.electronics}`,children:[w.jsx("span",{children:"Electronics"}),w.jsx("img",{src:S3,alt:"Electronics"}),w.jsx("p",{children:"Shop now!"})]})}),w.jsx(ot,{to:"/category/women's%20clothing",children:w.jsxs("div",{className:`${hi.item} ${hi.fashion}`,children:[w.jsx("span",{children:"Discover Fashion Trends"}),w.jsx("img",{src:b3,alt:"Fashion"}),w.jsx("p",{children:"Shop now!"})]})}),w.jsx(ot,{to:"/category/men's%20clothing",children:w.jsxs("div",{className:`${hi.item} ${hi.clothing}`,children:[w.jsx("span",{children:"Men's Clothing"}),w.jsx("img",{src:A3,alt:"Clothing"}),w.jsx("p",{children:"Shop now!"})]})}),w.jsx(ot,{to:"/category/jewelery",children:w.jsxs("div",{className:`${hi.item} ${hi.jewlery}`,children:[w.jsx("span",{children:"Jewelry"}),w.jsx("img",{src:w3,alt:"Jewelry"}),w.jsx("p",{children:"Shop now!"})]})})]})}const C3="_loader_j46ta_3",I3="_products_j46ta_19",O3="_card_j46ta_37",x3="_rating_j46ta_147",D3="_topic_j46ta_173",N3="_none_j46ta_185",P3="_notextra_j46ta_197",la={loader:C3,products:I3,card:O3,rating:x3,topic:D3,none:N3,notextra:P3};function Df(n,e){return new String(n).length<=e?n:n.slice(0,e)+"..."}function ud(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n)}function ef(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ef=function(e){return typeof e}:ef=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(n)}function Ry(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function M3(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Cy(n,e,t){return e&&M3(n.prototype,e),n}function Tg(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Nf(){return Nf=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Nf.apply(this,arguments)}function tf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.forEach(function(a){Tg(n,a,t[a])})}return n}function Iy(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&Sg(n,e)}function ju(n){return ju=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ju(n)}function Sg(n,e){return Sg=Object.setPrototypeOf||function(i,a){return i.__proto__=a,i},Sg(n,e)}function rr(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Oy(n,e){return e&&(typeof e=="object"||typeof e=="function")?e:rr(n)}var zm={display:"inline-block",borderRadius:"50%",border:"5px double white",width:30,height:30},Bm={empty:tf({},zm,{backgroundColor:"#ccc"}),full:tf({},zm,{backgroundColor:"black"}),placeholder:tf({},zm,{backgroundColor:"red"})},hS=function(e){if(Ie.isValidElement(e))return e;if(ef(e)==="object"&&e!==null)return Ie.createElement("span",{style:e});if(Object.prototype.toString.call(e)==="[object String]")return Ie.createElement("span",{className:e})},k3=function(n){Iy(e,n);function e(){return Ry(this,e),Oy(this,ju(e).apply(this,arguments))}return Cy(e,[{key:"render",value:function(){var i,a=this.props,l=a.index,c=a.inactiveIcon,d=a.activeIcon,m=a.percent,g=a.direction,v=a.readonly,T=a.onClick,S=a.onMouseMove,N=hS(c),O=m<100,z=O?{}:{visibility:"hidden"},P=hS(d),F=(i={display:"inline-block",position:"absolute",overflow:"hidden",top:0},Tg(i,g==="rtl"?"right":"left",0),Tg(i,"width","".concat(m,"%")),i),j={cursor:v?"inherit":"pointer",display:"inline-block",position:"relative"};function H(q){S&&S(l,q)}function ie(q){T&&(q.preventDefault(),T(l,q))}return Ie.createElement("span",{style:j,onClick:ie,onMouseMove:H,onTouchMove:H,onTouchEnd:ie},Ie.createElement("span",{style:z},N),Ie.createElement("span",{style:F},P))}}]),e}(Ie.PureComponent),L3=function(n){Iy(e,n);function e(t){var i;return Ry(this,e),i=Oy(this,ju(e).call(this,t)),i.state={displayValue:i.props.value,interacting:!1},i.onMouseLeave=i.onMouseLeave.bind(rr(rr(i))),i.symbolMouseMove=i.symbolMouseMove.bind(rr(rr(i))),i.symbolClick=i.symbolClick.bind(rr(rr(i))),i}return Cy(e,[{key:"UNSAFE_componentWillReceiveProps",value:function(i){var a=this.props.value!==i.value;this.setState(function(l){return{displayValue:a?i.value:l.displayValue}})}},{key:"componentDidUpdate",value:function(i,a){if(i.value===this.props.value){if(a.interacting&&!this.state.interacting)return this.props.onHover();this.state.interacting&&this.props.onHover(this.state.displayValue)}}},{key:"symbolClick",value:function(i,a){var l=this.calculateDisplayValue(i,a);this.props.onClick(l,a)}},{key:"symbolMouseMove",value:function(i,a){var l=this.calculateDisplayValue(i,a);this.setState({interacting:!this.props.readonly,displayValue:l})}},{key:"onMouseLeave",value:function(){this.setState({displayValue:this.props.value,interacting:!1})}},{key:"calculateDisplayValue",value:function(i,a){var l=this.calculateHoverPercentage(a),c=Math.ceil(l%1*this.props.fractions)/this.props.fractions,d=Math.pow(10,3),m=i+(Math.floor(l)+Math.floor(c*d)/d);return m>0?m>this.props.totalSymbols?this.props.totalSymbols:m:1/this.props.fractions}},{key:"calculateHoverPercentage",value:function(i){var a=i.nativeEvent.type.indexOf("touch")>-1?i.nativeEvent.type.indexOf("touchend")>-1?i.changedTouches[0].clientX:i.touches[0].clientX:i.clientX,l=i.target.getBoundingClientRect(),c=this.props.direction==="rtl"?l.right-a:a-l.left;return c<0?0:c/l.width}},{key:"render",value:function(){var i=this.props,a=i.readonly,l=i.quiet,c=i.totalSymbols,d=i.value,m=i.placeholderValue,g=i.direction,v=i.emptySymbol,T=i.fullSymbol,S=i.placeholderSymbol,N=i.className,O=i.id,z=i.style,P=i.tabIndex,F=this.state,j=F.displayValue,H=F.interacting,ie=[],q=[].concat(v),ee=[].concat(T),L=[].concat(S),b=m!==0&&d===0&&!H,A;b?A=m:A=l?d:j;for(var M=Math.floor(A),D=0;D<c;D++){var C=void 0;D-M<0?C=100:D-M===0?C=(A-D)*100:C=0,ie.push(Ie.createElement(k3,Nf({key:D,index:D,readonly:a,inactiveIcon:q[D%q.length],activeIcon:b?L[D%ee.length]:ee[D%ee.length],percent:C,direction:g},!a&&{onClick:this.symbolClick,onMouseMove:this.symbolMouseMove,onTouchMove:this.symbolMouseMove,onTouchEnd:this.symbolClick})))}return Ie.createElement("span",Nf({id:O,style:tf({},z,{display:"inline-block",direction:g}),className:N,tabIndex:P,"aria-label":this.props["aria-label"]},!a&&{onMouseLeave:this.onMouseLeave}),ie)}}]),e}(Ie.PureComponent);function nf(){}nf._name="react_rating_noop";var xy=function(n){Iy(e,n);function e(t){var i;return Ry(this,e),i=Oy(this,ju(e).call(this,t)),i.state={value:t.initialRating},i.handleClick=i.handleClick.bind(rr(rr(i))),i.handleHover=i.handleHover.bind(rr(rr(i))),i}return Cy(e,[{key:"UNSAFE_componentWillReceiveProps",value:function(i){this.setState({value:i.initialRating})}},{key:"handleClick",value:function(i,a){var l=this,c=this.translateDisplayValueToValue(i);this.props.onClick(c),this.state.value!==c&&this.setState({value:c},function(){return l.props.onChange(l.state.value)})}},{key:"handleHover",value:function(i){var a=i===void 0?i:this.translateDisplayValueToValue(i);this.props.onHover(a)}},{key:"translateDisplayValueToValue",value:function(i){var a=i*this.props.step+this.props.start;return a===this.props.start?a+1/this.props.fractions:a}},{key:"tranlateValueToDisplayValue",value:function(i){return i===void 0?0:(i-this.props.start)/this.props.step}},{key:"render",value:function(){var i=this.props,a=i.step,l=i.emptySymbol,c=i.fullSymbol,d=i.placeholderSymbol,m=i.readonly,g=i.quiet,v=i.fractions,T=i.direction,S=i.start,N=i.stop,O=i.id,z=i.className,P=i.style,F=i.tabIndex;function j(H,ie,q){return Math.floor((ie-H)/q)}return Ie.createElement(L3,{id:O,style:P,className:z,tabIndex:F,"aria-label":this.props["aria-label"],totalSymbols:j(S,N,a),value:this.tranlateValueToDisplayValue(this.state.value),placeholderValue:this.tranlateValueToDisplayValue(this.props.placeholderRating),readonly:m,quiet:g,fractions:v,direction:T,emptySymbol:l,fullSymbol:c,placeholderSymbol:d,onClick:this.handleClick,onHover:this.handleHover})}}]),e}(Ie.PureComponent);xy.defaultProps={start:0,stop:5,step:1,readonly:!1,quiet:!1,fractions:1,direction:"ltr",onHover:nf,onClick:nf,onChange:nf,emptySymbol:Bm.empty,fullSymbol:Bm.full,placeholderSymbol:Bm.placeholder};function cd({id:n,title:e,price:t,description:i,category:a,image:l,rating:c,notextra:d,order:m}){const[{basket:g},v]=J.useContext(Vr),T=g==null?void 0:g.find(O=>O.id===n),S=(T==null?void 0:T.amount)||m;function N(O){O.stopPropagation(),O.preventDefault(),v({type:Qt.ADD_TO_CART,item:{id:n,title:e,price:t,description:i,category:a,image:l,rating:c}})}return w.jsx(ot,{to:`/product/${n}`,children:w.jsxs("div",{className:`${la.card} ${d?la.notextra:""}`,children:[w.jsx("img",{src:l,alt:`${e} Image`}),w.jsx("h1",{children:Df(e,30)}),d?`${S} items`:w.jsxs("div",{className:la.rating,children:[w.jsx(xy,{emptySymbol:w.jsx(hb,{size:13,color:"#ccc"}),fullSymbol:w.jsx(cb,{size:13,color:"#ffd700"}),initialRating:c==null?void 0:c.rate,fractions:2}),w.jsxs("p",{children:[c==null?void 0:c.count," Raters"]})]}),w.jsx("p",{children:ud(t)}),w.jsx("button",{className:`${d?la.none:""}`,onClick:N,children:"Add to cart"})]})})}var V3={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Fw(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var i=(n.match(/[^0-9]*$/)||"").toString();return V3[i]?{value:e,unit:i}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function To(n){var e=Fw(n);return"".concat(e.value).concat(e.unit)}var bg=function(n,e,t){var i="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return i;var a=document.createElement("style");document.head.appendChild(a);var l=a.sheet,c=`
    @keyframes `.concat(i,` {
      `).concat(e,`
    }
  `);return l&&l.insertRule(c,0),i},Pf;(function(n){n.maroon="#800000",n.red="#FF0000",n.orange="#FFA500",n.yellow="#FFFF00",n.olive="#808000",n.green="#008000",n.purple="#800080",n.fuchsia="#FF00FF",n.lime="#00FF00",n.teal="#008080",n.aqua="#00FFFF",n.blue="#0000FF",n.navy="#000080",n.black="#000000",n.gray="#808080",n.silver="#C0C0C0",n.white="#FFFFFF"})(Pf||(Pf={}));var U3=function(n,e){if(n.includes("/"))return n.replace("rgb(","rgba(");var t=n.substring(n.startsWith("rgba(")?5:4,n.length-1).trim(),i=t.split(",");return i.length===4?n.replace("rgb(","rgba("):i.length===3?"rgba(".concat(t,", ").concat(e,")"):"rgba(".concat(t," / ").concat(e,")")},j3=function(n,e){if(n.startsWith("rgb"))return U3(n,e);if(Object.keys(Pf).includes(n)&&(n=Pf[n]),n[0]==="#"&&(n=n.slice(1)),n.length===3){var t="";n.split("").forEach(function(a){t+=a,t+=a}),n=t}var i=(n.match(/.{2}/g)||[]).map(function(a){return parseInt(a,16)}).join(", ");return"rgba(".concat(i,", ").concat(e,")")},Mf=function(){return Mf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},Mf.apply(this,arguments)},z3=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t},B3=bg("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function wg(n){var e=n.loading,t=e===void 0?!0:e,i=n.color,a=i===void 0?"#000000":i,l=n.speedMultiplier,c=l===void 0?1:l,d=n.cssOverride,m=d===void 0?{}:d,g=n.size,v=g===void 0?35:g,T=z3(n,["loading","color","speedMultiplier","cssOverride","size"]),S=Mf({background:"transparent !important",width:To(v),height:To(v),borderRadius:"100%",border:"2px solid",borderTopColor:a,borderBottomColor:"transparent",borderLeftColor:a,borderRightColor:a,display:"inline-block",animation:"".concat(B3," ").concat(.75/c,"s 0s infinite linear"),animationFillMode:"both"},m);return t?J.createElement("span",Mf({style:S},T)):null}var kf=function(){return kf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},kf.apply(this,arguments)},H3=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t};function hd(n){var e=n.loading,t=e===void 0?!0:e,i=n.color,a=i===void 0?"#000000":i,l=n.speedMultiplier,c=l===void 0?1:l,d=n.cssOverride,m=d===void 0?{}:d,g=n.size,v=g===void 0?50:g,T=H3(n,["loading","color","speedMultiplier","cssOverride","size"]),S=Fw(v),N=S.value,O=S.unit,z=kf({display:"inherit",position:"relative",width:To(v),height:To(v),transform:"rotate(165deg)"},m),P=N/5,F=(N-P)/2,j=F-P,H=j3(a,.75),ie=bg("HashLoader","0% {width: ".concat(P,"px; box-shadow: ").concat(F,"px ").concat(-j,"px ").concat(H,", ").concat(-F,"px ").concat(j,"px ").concat(H,`}
    35% {width: `).concat(To(v),"; box-shadow: 0 ").concat(-j,"px ").concat(H,", 0 ").concat(j,"px ").concat(H,`}
    70% {width: `).concat(P,"px; box-shadow: ").concat(-F,"px ").concat(-j,"px ").concat(H,", ").concat(F,"px ").concat(j,"px ").concat(H,`}
    100% {box-shadow: `).concat(F,"px ").concat(-j,"px ").concat(H,", ").concat(-F,"px ").concat(j,"px ").concat(H,"}"),"before"),q=bg("HashLoader","0% {height: ".concat(P,"px; box-shadow: ").concat(j,"px ").concat(F,"px ").concat(a,", ").concat(-j,"px ").concat(-F,"px ").concat(a,`}
    35% {height: `).concat(To(v),"; box-shadow: ").concat(j,"px 0 ").concat(a,", ").concat(-j,"px 0 ").concat(a,`}
    70% {height: `).concat(P,"px; box-shadow: ").concat(j,"px ").concat(-F,"px ").concat(a,", ").concat(-j,"px ").concat(F,"px ").concat(a,`}
    100% {box-shadow: `).concat(j,"px ").concat(F,"px ").concat(a,", ").concat(-j,"px ").concat(-F,"px ").concat(a,"}"),"after"),ee=function(L){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(N/5).concat(O),height:"".concat(N/5).concat(O),borderRadius:"".concat(N/10).concat(O),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(L===1?ie:q," ").concat(2/c,"s infinite")}};return t?J.createElement("span",kf({style:z},T),J.createElement("span",{style:ee(1)}),J.createElement("span",{style:ee(2)})):null}function q3(){const[n,e]=J.useState(null),[t,i]=J.useState(!0);return J.useEffect(()=>{(async()=>{try{const a=await ct.get("https://fakestoreapi.com/products");e(a.data),i(!1)}catch(a){console.log(`Unable to fetch products ${a}`),i(!1)}finally{i(!1)}})()},[]),t?w.jsx(hd,{className:la.loader}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:la.topic,children:"Products"}),w.jsx("div",{className:la.products,children:n==null?void 0:n.map(a=>w.jsx(cd,{...a},a.id))})]})}function F3(){return w.jsxs(w.Fragment,{children:[w.jsx(m3,{}),w.jsx(R3,{}),w.jsx(q3,{})]})}function _s({children:n}){return w.jsxs(w.Fragment,{children:[w.jsx(zk,{}),n,w.jsx(Kk,{})]})}function G3(){return w.jsx(w.Fragment,{children:w.jsx(_s,{children:w.jsx(F3,{})})})}const $3="/amazon-clone/assets/logo-b-D_JgD8eF.png",K3="_auth_19d29_1",Y3="_logo_19d29_17",Q3="_input_container_19d29_23",X3="_form_19d29_67",W3="_term_19d29_183",J3="_dont_have_19d29_197",Z3="_title_19d29_243",e6="_error_19d29_253",Gn={auth:K3,logo:Y3,input_container:Q3,form:X3,term:W3,dont_have:J3,title:Z3,error:e6};function t6(){var ie,q;const[{user:n},e]=J.useContext(Vr),t=jo(),i=Lr(),{state:a}=i,l=((ie=a==null?void 0:a.from)==null?void 0:ie.pathname)||"/",c=((q=i==null?void 0:i.state)==null?void 0:q.info)||null,[d,m]=J.useState(!1),[g,v]=J.useState(""),[T,S]=J.useState(""),[N,O]=J.useState(""),[z,P]=J.useState(),[F,j]=J.useState({signin:!1,signup:!1});function H(ee){ee.preventDefault(),P("");const L=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(d&&g.trim()==="")return P("Name is required.");if(!L.test(T))return P("Invalid email address.");if(N.length<6)return P("Password must be at least 6 characters.");ee.target.name==="signin"?(j(b=>({...b,signin:!0})),WD(xf,T,N).then(b=>{P(""),e({type:Qt.SET_USER,user:b.user}),j(A=>({...A,signin:!1})),t(l,{replace:!0})}).catch(b=>{P(b.message),j(A=>({...A,signin:!1})),console.error(b)})):(j(b=>({...b,signup:!0})),XD(xf,T,N).then(b=>ZD(b.user,{displayName:g}).then(()=>{e({type:Qt.SET_USER,user:b.user}),j(A=>({...A,signup:!1})),v(""),S(""),O(""),P(""),t(l,{replace:!0})})).catch(b=>{j(A=>({...A,signup:!1})),P(b.message),console.error(b)}))}return w.jsxs("div",{className:Gn.auth,children:[w.jsx(ot,{to:"/",children:w.jsx("img",{className:Gn.logo,src:$3,alt:"Amazon logo"})}),w.jsxs("div",{className:Gn.form,children:[w.jsx("h1",{className:Gn.title,children:d?"Create account":"Sign in"}),c&&w.jsx("p",{className:Gn.error,children:c}),d&&w.jsxs("div",{className:Gn.input_container,children:[w.jsx("label",{htmlFor:"name",children:"Name"}),w.jsx("input",{id:"name",onChange:ee=>v(ee.target.value),type:"text",name:"name",required:!0})]}),w.jsxs("div",{className:Gn.input_container,children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{id:"email",value:T,onChange:ee=>S(ee.target.value),type:"email",name:"email"})]}),w.jsxs("div",{className:Gn.input_container,children:[w.jsx("label",{htmlFor:"password",children:"Password"}),w.jsx("input",{id:"password",onChange:ee=>O(ee.target.value),value:N,type:"password",name:"password"})]}),z&&w.jsx("p",{className:Gn.error,children:z}),d&&w.jsx("button",{type:"submit",name:"signup",onClick:H,children:F.signup?w.jsx(wg,{size:20,color:"#000"}):"Create account"}),!d&&w.jsx("button",{type:"submit",name:"signin",onClick:H,children:F.signin?w.jsx(wg,{size:20,color:"#000"}):"Sign in"}),w.jsxs("p",{className:Gn.term,children:["By continuing, you agree to Amazon's"," ",w.jsx("a",{href:"https://www.amazon.com/gp/help/customer/display.html/ref=ap_signin_notification_condition_of_use?ie=UTF8&nodeId=508088",children:"Conditions of Use"})," ","and"," ",w.jsx("a",{href:"https://www.amazon.com/gp/help/customer/display.html/ref=ap_signin_notification_privacy_notice?ie=UTF8&nodeId=468496",children:"Privacy Notice"}),"."]}),d?w.jsxs("p",{className:Gn.dont_have,children:["Already have an account?"," ",w.jsx("span",{onClick:()=>m(!1),children:"Sign in"})]}):w.jsxs("p",{className:Gn.dont_have,children:["Don't have an account?"," ",w.jsx("span",{onClick:()=>m(!0),children:"Create one"})]})]})]})}const n6="_cart_cvs6y_1",r6="_items_cvs6y_15",i6="_checkout_cvs6y_25",s6="_term_cvs6y_47",a6="_go_cvs6y_111",pu={cart:n6,items:r6,checkout:i6,term:s6,go:a6},o6="_single_ve6qf_1",l6="_button_ve6qf_27",u6="_rating_ve6qf_85",c6="_description_ve6qf_103",h6="_amount_ve6qf_111",f6="_none_ve6qf_143",d6="_remove_ve6qf_149",p6="_cartSingle_ve6qf_191",fi={single:o6,button:l6,rating:u6,description:c6,amount:h6,none:f6,remove:d6,cartSingle:p6};function Gw({id:n,title:e,price:t,description:i,category:a,image:l,rating:c,cart:d}){var N;const[m,g]=J.useContext(Vr);function v(O){O.stopPropagation(),O.preventDefault(),g({type:Qt.ADD_TO_CART,item:{id:n,title:e,price:t,description:i,category:a,image:l,rating:c}})}function T(O){O.stopPropagation(),O.preventDefault(),g({type:Qt.REMOVE_FROM_CART,item:{id:n,title:e,price:t,description:i,category:a,image:l,rating:c}})}function S(O){O.stopPropagation(),O.preventDefault()}return w.jsx(ot,{to:`/product/${n}`,children:w.jsxs("div",{className:`${fi.single} ${fi.cartSingle}`,children:[w.jsx("img",{src:l,alt:`${e} Image`}),w.jsx("div",{className:fi.description,children:w.jsx("p",{children:d&&window.innerWidth<=600?Df(i,80):i})}),w.jsxs("div",{className:"info",children:[w.jsx("h1",{children:Df(e,100)}),w.jsxs("div",{className:fi.rating,children:[w.jsx(xy,{emptySymbol:w.jsx(hb,{size:13,color:"#ccc"}),fullSymbol:w.jsx(cb,{size:13,color:"#ffd700"}),initialRating:c==null?void 0:c.rate,fractions:2}),w.jsxs("p",{children:[c==null?void 0:c.count," Raters"]})]}),w.jsx("p",{children:ud(t)}),d&&w.jsx("button",{onClick:T,className:`${fi.button} ${fi.remove}`,children:"Remove from cart"}),w.jsx("button",{onClick:v,className:`${fi.button} ${d==!0?fi.none:""}`,children:"Add to cart"})]}),d&&w.jsxs("div",{className:fi.amount,onClick:S,children:[w.jsx(LI,{onClick:()=>g({type:Qt.INCREMENT_ITEM,item:{id:n}})}),w.jsx("p",{children:((N=m.basket.find(O=>O.id===n))==null?void 0:N.amount)||1}),w.jsx(kI,{onClick:()=>g({type:Qt.DECREMENT_ITEM,item:{id:n}})})]})]})})}function m6(){const[{basket:n},e]=J.useContext(Vr),t=n==null?void 0:n.reduce((a,l)=>a+l.price*l.amount,0),i=n==null?void 0:n.reduce((a,l)=>a+l.amount,0);return w.jsx(_s,{children:w.jsxs("div",{className:pu.cart,children:[w.jsx("div",{className:pu.items,children:(n==null?void 0:n.length)===0?w.jsxs("div",{children:[w.jsx("p",{children:"Opps! You don't have any item in the cart"}),w.jsxs(ot,{to:"/",children:[" ",w.jsx("button",{className:pu.go,children:"Go shop"})," "]})]}):n==null?void 0:n.map(a=>w.jsx(Gw,{...a,cart:!0},a.id))}),(n==null?void 0:n.length)!==0&&w.jsxs("div",{className:pu.checkout,children:[w.jsxs("p",{children:["Subtotals (",i," items)"]}),w.jsxs("p",{children:["Price: ",ud(t)]}),w.jsxs("div",{className:pu.term,children:[w.jsx("input",{type:"checkbox"}),w.jsx("label",{children:"This order contains a gift."})]}),w.jsx(ot,{to:"/payment",children:w.jsx("button",{children:"Procced to checkout"})})]})]})})}const g6="_loader_198o3_1",y6="_order_198o3_17",v6="_title_198o3_23",_6="_single_products_container_198o3_31",E6="_orderList_container_198o3_45",T6="_notextra_198o3_55",S6="_line_198o3_61",b6="_status_198o3_79",w6="_missing_198o3_131",nr={loader:g6,order:y6,title:v6,single_products_container:_6,orderList_container:E6,notextra:T6,line:S6,status:b6,"status-delivered":"_status-delivered_198o3_95","status-shipped":"_status-shipped_198o3_101","status-to-be-shipped":"_status-to-be-shipped_198o3_107","status-untracked":"_status-untracked_198o3_113","status-failed":"_status-failed_198o3_119","status-succeed":"_status-succeed_198o3_125",missing:w6};function A6(){const[{user:n},e]=J.useContext(Vr),[t,i]=J.useState(null),[a,l]=J.useState(!0);J.useEffect(()=>{!n||!n.uid||(async()=>{try{const m=(await Lk(gk(Vw,"users",n.uid,"orders"))).docs.map(g=>({id:g.id,...g.data()}));i(m),l(!1)}catch(d){console.error("Error fetching orders:",d),l(!1)}})()},[n]);const c=["To be shipped","Shipped","Delivered","Untracked","Succeed"];return a?w.jsx(hd,{className:nr.loader}):(t==null?void 0:t.length)==0?w.jsx(_s,{children:w.jsxs("div",{className:nr.order,children:[w.jsx("h1",{children:"Return and Order"}),w.jsxs("p",{className:nr.missing,children:["You have no orders yet. Browse our products and start ",w.jsx(ot,{to:"/",children:"shopping"}),"!"]})]})}):w.jsx(_s,{children:w.jsxs("div",{className:nr.order,children:[w.jsx("h1",{children:"Return and Order"}),w.jsx("br",{}),w.jsx("br",{}),w.jsx("div",{className:nr.orderList_container,children:t==null?void 0:t.map(d=>{const m=c[Math.floor(Math.random()*c.length)];return w.jsxs("div",{className:nr.single_order,children:[w.jsxs("div",{className:nr.title,children:[w.jsxs("div",{children:[w.jsx("strong",{children:"Order ID:"})," ",d==null?void 0:d.id]},d.id),w.jsxs("p",{className:`${nr.status} ${nr["status-"+m.toLowerCase().replaceAll(" ","-")]}`,children:["Status: ",m]})]}),w.jsx("div",{className:nr.single_products_container,children:d==null?void 0:d.basket.map((g,v)=>w.jsx(cd,{order:g==null?void 0:g.amount,notextra:!0,...g},v))}),w.jsx("hr",{className:nr.line})]})})})]})})}const R6="_loader_z4w6t_1",C6="_category_z4w6t_17",I6="_navigation_z4w6t_33",O6="_path_z4w6t_41",kh={loader:R6,category:C6,navigation:I6,path:O6};function Ag(n){return En({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"},child:[]}]})(n)}function $w(n){return En({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM9 9H5V5h4v4zm11-6h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-1 6h-4V5h4v4zm-9 4H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zm-1 6H5v-4h4v4zm8-6c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"},child:[]}]})(n)}function x6(){const{name:n}=IS(),[e,t]=J.useState(null),[i,a]=J.useState(!0);return J.useEffect(()=>{(async()=>{try{const l=await ct.get(`https://fakestoreapi.com/products/category/${n}`);t(l.data),a(!1)}catch(l){console.log(`Unable to fetch products ${l}`),a(!1)}finally{a(!1)}})()},[]),i?w.jsx(hd,{className:kh.loader}):w.jsx(w.Fragment,{children:w.jsxs(_s,{children:[w.jsxs("div",{className:kh.navigation,children:[w.jsxs("div",{className:kh.path,children:[w.jsx(ub,{}),w.jsx("p",{children:w.jsx(ot,{to:"/",children:"Home"})}),w.jsx(Ag,{}),w.jsx($w,{}),w.jsx("p",{children:w.jsx(ot,{to:"#",children:n})})]}),w.jsx("hr",{})]}),w.jsx("div",{className:kh.category,children:e==null?void 0:e.map(l=>w.jsx(cd,{...l},l.id))})]})})}const D6="_loader_1i0vm_3",N6="_detail_1i0vm_17",P6="_navigation_1i0vm_23",M6="_path_1i0vm_31",Lh={loader:D6,detail:N6,navigation:P6,path:M6};function k6(){const{singleID:n}=IS(),[e,t]=J.useState(null),[i,a]=J.useState(!0);return J.useEffect(()=>{(async()=>{try{const l=await ct.get(`https://fakestoreapi.com/products/${n}`);t(l.data),a(!1)}catch(l){console.log(`Unable to fetch products ${l}`),a(!1)}finally{a(!1)}})()},[]),i?w.jsx(hd,{className:Lh.loader}):w.jsx(w.Fragment,{children:w.jsxs(_s,{children:[w.jsxs("div",{className:Lh.navigation,children:[w.jsxs("div",{className:Lh.path,children:[w.jsx(ub,{}),w.jsx("p",{children:w.jsx(ot,{to:"/",children:"Home"})}),w.jsx(Ag,{}),w.jsx($w,{}),w.jsx("p",{children:w.jsx(ot,{to:`/category/${e==null?void 0:e.category}`,children:e==null?void 0:e.category})}),w.jsx(Ag,{}),w.jsx("p",{children:w.jsx(ot,{to:"#",children:Df(e==null?void 0:e.title,30)})})]}),w.jsx("hr",{})]}),w.jsx("div",{className:Lh.detail,children:w.jsx(Gw,{...e})})]})})}const L6="_container_bz1e9_1",V6="_content_bz1e9_21",U6="_title_bz1e9_29",j6="_message_bz1e9_43",z6="_gif_bz1e9_55",B6="_button_bz1e9_71",mo={container:L6,content:V6,title:U6,message:j6,gif:z6,button:B6};function H6(){const n=jo();return w.jsx("div",{className:mo.container,children:w.jsxs("div",{className:mo.content,children:[w.jsx("h1",{className:mo.title,children:"404"}),w.jsx("p",{className:mo.message,children:"Oops! Page not found."}),w.jsx("img",{src:"https://media.giphy.com/media/3o6ZtaO9BZHcOjmErm/giphy.gif",alt:"Lost box",className:mo.gif}),w.jsx("button",{className:mo.button,onClick:()=>n("/"),children:"Go Home"})]})})}var q6=Uw();const ft=ES(q6);function fS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function dS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(t),!0).forEach(function(i){Kw(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function rf(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rf=function(e){return typeof e}:rf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(n)}function Kw(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function F6(n,e){if(n==null)return{};var t={},i=Object.keys(n),a,l;for(l=0;l<i.length;l++)a=i[l],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function G6(n,e){if(n==null)return{};var t=F6(n,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Yw(n,e){return $6(n)||K6(n,e)||Y6(n,e)||Q6()}function $6(n){if(Array.isArray(n))return n}function K6(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var i=[],a=!0,l=!1,c,d;try{for(t=t.call(n);!(a=(c=t.next()).done)&&(i.push(c.value),!(e&&i.length===e));a=!0);}catch(m){l=!0,d=m}finally{try{!a&&t.return!=null&&t.return()}finally{if(l)throw d}}return i}}function Y6(n,e){if(n){if(typeof n=="string")return pS(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pS(n,e)}}function pS(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Q6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Dn=function(e,t,i){var a=!!i,l=Ie.useRef(i);Ie.useEffect(function(){l.current=i},[i]),Ie.useEffect(function(){if(!a||!e)return function(){};var c=function(){l.current&&l.current.apply(l,arguments)};return e.on(t,c),function(){e.off(t,c)}},[a,t,e,l])},Rg=function(e){var t=Ie.useRef(e);return Ie.useEffect(function(){t.current=e},[e]),t.current},ko=function(e){return e!==null&&rf(e)==="object"},X6=function(e){return ko(e)&&typeof e.then=="function"},W6=function(e){return ko(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},mS="[object Object]",J6=function n(e,t){if(!ko(e)||!ko(t))return e===t;var i=Array.isArray(e),a=Array.isArray(t);if(i!==a)return!1;var l=Object.prototype.toString.call(e)===mS,c=Object.prototype.toString.call(t)===mS;if(l!==c)return!1;if(!l&&!i)return e===t;var d=Object.keys(e),m=Object.keys(t);if(d.length!==m.length)return!1;for(var g={},v=0;v<d.length;v+=1)g[d[v]]=!0;for(var T=0;T<m.length;T+=1)g[m[T]]=!0;var S=Object.keys(g);if(S.length!==d.length)return!1;var N=e,O=t,z=function(F){return n(N[F],O[F])};return S.every(z)},Qw=function(e,t,i){return ko(e)?Object.keys(e).reduce(function(a,l){var c=!ko(t)||!J6(e[l],t[l]);return i.includes(l)?(c&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),a):c?dS(dS({},a||{}),{},Kw({},l,e[l])):a},null):null},Xw="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",gS=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xw;if(e===null||W6(e))return e;throw new Error(t)},Z6=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xw;if(X6(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return gS(a,t)})};var i=gS(e,t);return i===null?{tag:"empty"}:{tag:"sync",stripe:i}},eL=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},fd=Ie.createContext(null);fd.displayName="ElementsContext";var Ww=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Jw=function(e){var t=e.stripe,i=e.options,a=e.children,l=Ie.useMemo(function(){return Z6(t)},[t]),c=Ie.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(i):null}}),d=Yw(c,2),m=d[0],g=d[1];Ie.useEffect(function(){var S=!0,N=function(z){g(function(P){return P.stripe?P:{stripe:z,elements:z.elements(i)}})};return l.tag==="async"&&!m.stripe?l.stripePromise.then(function(O){O&&S&&N(O)}):l.tag==="sync"&&!m.stripe&&N(l.stripe),function(){S=!1}},[l,m,i]);var v=Rg(t);Ie.useEffect(function(){v!==null&&v!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[v,t]);var T=Rg(i);return Ie.useEffect(function(){if(m.elements){var S=Qw(i,T,["clientSecret","fonts"]);S&&m.elements.update(S)}},[i,T,m.elements]),Ie.useEffect(function(){eL(m.stripe)},[m.stripe]),Ie.createElement(fd.Provider,{value:m},a)};Jw.propTypes={stripe:ft.any,options:ft.object};var tL=function(e){var t=Ie.useContext(fd);return Ww(t,e)},nL=function(){var e=tL("calls useElements()"),t=e.elements;return t};ft.func.isRequired;var Zw=Ie.createContext(null);Zw.displayName="CheckoutSdkContext";var rL=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},iL=Ie.createContext(null);iL.displayName="CheckoutContext";ft.any,ft.shape({fetchClientSecret:ft.func.isRequired,elementsOptions:ft.object}).isRequired;var Cg=function(e){var t=Ie.useContext(Zw),i=Ie.useContext(fd);if(t&&i)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?rL(t,e):Ww(i,e)},sL=["mode"],aL=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Rt=function(e,t){var i="".concat(aL(e),"Element"),a=function(m){var g=m.id,v=m.className,T=m.options,S=T===void 0?{}:T,N=m.onBlur,O=m.onFocus,z=m.onReady,P=m.onChange,F=m.onEscape,j=m.onClick,H=m.onLoadError,ie=m.onLoaderStart,q=m.onNetworksChange,ee=m.onConfirm,L=m.onCancel,b=m.onShippingAddressChange,A=m.onShippingRateChange,M=Cg("mounts <".concat(i,">")),D="elements"in M?M.elements:null,C="checkoutSdk"in M?M.checkoutSdk:null,I=Ie.useState(null),ue=Yw(I,2),k=ue[0],G=ue[1],X=Ie.useRef(null),ae=Ie.useRef(null);Dn(k,"blur",N),Dn(k,"focus",O),Dn(k,"escape",F),Dn(k,"click",j),Dn(k,"loaderror",H),Dn(k,"loaderstart",ie),Dn(k,"networkschange",q),Dn(k,"confirm",ee),Dn(k,"cancel",L),Dn(k,"shippingaddresschange",b),Dn(k,"shippingratechange",A),Dn(k,"change",P);var ge;z&&(e==="expressCheckout"?ge=z:ge=function(){z(k)}),Dn(k,"ready",ge),Ie.useLayoutEffect(function(){if(X.current===null&&ae.current!==null&&(D||C)){var te=null;if(C)switch(e){case"payment":te=C.createPaymentElement(S);break;case"address":if("mode"in S){var de=S.mode,he=G6(S,sL);if(de==="shipping")te=C.createShippingAddressElement(he);else if(de==="billing")te=C.createBillingAddressElement(he);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":te=C.createExpressCheckoutElement(S);break;case"currencySelector":te=C.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(i,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else D&&(te=D.create(e,S));X.current=te,G(te),te&&te.mount(ae.current)}},[D,C,S]);var U=Rg(S);return Ie.useEffect(function(){if(X.current){var te=Qw(S,U,["paymentRequest"]);te&&"update"in X.current&&X.current.update(te)}},[S,U]),Ie.useLayoutEffect(function(){return function(){if(X.current&&typeof X.current.destroy=="function")try{X.current.destroy(),X.current=null}catch{}}},[]),Ie.createElement("div",{id:g,className:v,ref:ae})},l=function(m){Cg("mounts <".concat(i,">"));var g=m.id,v=m.className;return Ie.createElement("div",{id:g,className:v})},c=t?l:a;return c.propTypes={id:ft.string,className:ft.string,onChange:ft.func,onBlur:ft.func,onFocus:ft.func,onReady:ft.func,onEscape:ft.func,onClick:ft.func,onLoadError:ft.func,onLoaderStart:ft.func,onNetworksChange:ft.func,onConfirm:ft.func,onCancel:ft.func,onShippingAddressChange:ft.func,onShippingRateChange:ft.func,options:ft.object},c.displayName=i,c.__elementType=e,c},Ct=typeof window>"u",oL=Ie.createContext(null);oL.displayName="EmbeddedCheckoutProviderContext";var lL=function(){var e=Cg("calls useStripe()"),t=e.stripe;return t};Rt("auBankAccount",Ct);var yS=Rt("card",Ct);Rt("cardNumber",Ct);Rt("cardExpiry",Ct);Rt("cardCvc",Ct);Rt("fpxBank",Ct);Rt("iban",Ct);Rt("idealBank",Ct);Rt("p24Bank",Ct);Rt("epsBank",Ct);Rt("payment",Ct);Rt("expressCheckout",Ct);Rt("currencySelector",Ct);Rt("paymentRequestButton",Ct);Rt("linkAuthentication",Ct);Rt("address",Ct);Rt("shippingAddress",Ct);Rt("paymentMethodMessaging",Ct);Rt("affirmMessage",Ct);Rt("afterpayClearpayMessage",Ct);var eA="basil",uL=function(e){return e===3?"v3":e},tA="https://js.stripe.com",cL="".concat(tA,"/").concat(eA,"/stripe.js"),hL=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,fL=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var dL=function(e){return hL.test(e)||fL.test(e)},pL=function(){for(var e=document.querySelectorAll('script[src^="'.concat(tA,'"]')),t=0;t<e.length;t++){var i=e[t];if(dL(i.src))return i}return null},vS=function(e){var t="",i=document.createElement("script");i.src="".concat(cL).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(i),i},mL=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.0",startTime:t})},mu=null,Vh=null,Uh=null,gL=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},yL=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},vL=function(e){return mu!==null?mu:(mu=new Promise(function(t,i){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var a=pL();if(!(a&&e)){if(!a)a=vS(e);else if(a&&Uh!==null&&Vh!==null){var l;a.removeEventListener("load",Uh),a.removeEventListener("error",Vh),(l=a.parentNode)===null||l===void 0||l.removeChild(a),a=vS(e)}}Uh=yL(t,i),Vh=gL(i),a.addEventListener("load",Uh),a.addEventListener("error",Vh)}catch(c){i(c);return}}),mu.catch(function(t){return mu=null,Promise.reject(t)}))},_L=function(e,t,i){if(e===null)return null;var a=t[0],l=a.match(/^pk_test/),c=uL(e.version),d=eA;l&&c!==d&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("7.3.0"," expected Stripe.js@").concat(d,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var m=e.apply(void 0,t);return mL(m,i),m},gu,nA=!1,rA=function(){return gu||(gu=vL(null).catch(function(e){return gu=null,Promise.reject(e)}),gu)};Promise.resolve().then(function(){return rA()}).catch(function(n){nA||console.warn(n)});var EL=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];nA=!0;var a=Date.now();return rA().then(function(l){return _L(l,t,a)})};const TL="_payment_vo89h_1",SL="_header_vo89h_15",bL="_address_vo89h_29",wL="_detail_vo89h_37",AL="_list_of_product_vo89h_47",RL="_items_vo89h_57",CL="_submit_vo89h_69",IL="_error_vo89h_87",OL="_visa_vo89h_101",xL="_empty_vo89h_107",DL="_go_vo89h_113",fn={payment:TL,header:SL,address:bL,detail:wL,list_of_product:AL,items:RL,submit:CL,error:IL,visa:OL,empty:xL,go:DL};function NL(){const[{basket:n,user:e},t]=J.useContext(Vr),i=parseInt((n==null?void 0:n.reduce((z,P)=>z+P.price*P.amount,0))*100),a=n==null?void 0:n.reduce((z,P)=>z+P.price*P.amount,0),l=(n==null?void 0:n.reduce((z,P)=>z+P.amount,0))||0,[c,d]=J.useState(),[m,g]=J.useState(!1),v=jo(),T=lL(),S=nL(),N={style:{base:{color:"#f0f0f0",fontFamily:'"Inter", system-ui, sans-serif',fontSize:"15px",fontSmoothing:"antialiased","::placeholder":{color:"#888"},iconColor:"#cbd5e0"},invalid:{color:"#ff6b6b",iconColor:"#ff6b6b"}},hidePostalCode:!0};async function O(z){var P,F;z.preventDefault(),g(!0),(!T||!S)&&d("Stripe is not loaded properly. Please refresh the page.");try{const ie=(await ct.post(`https://amazon-clone-og8b.onrender.com/payment/create?subtotal=${i}`)).data.clientSecret;if(!ie)throw new c("Failed to get payment secret from server.");const q=await T.confirmCardPayment(ie,{payment_method:{card:S.getElement(yS),billing_details:{name:e==null?void 0:e.displayName,email:e==null?void 0:e.email}}});q.error?(console.log(q.error.message),d(q.error.message),g(!1)):q.paymentIntent.status==="succeeded"?(await Vk(yk(Vw,"users",e==null?void 0:e.uid,"orders",q.paymentIntent.id),{basket:n,amount:q.paymentIntent.amount,created:q.paymentIntent.created}),t({type:Qt.EMPTY_BASKET}),console.log(" Payment successful!"),d(""),alert("Payment successful!"),g(!1),v("/order",{state:{message:"You have placed new order!"}})):(d("Unexpected payment status. Please try again."),g(!1))}catch(j){console.error("Payment error:",j);const H=((F=(P=j==null?void 0:j.response)==null?void 0:P.data)==null?void 0:F.error)||j.message||"An unknown error occurred.";d(` ${H}`),g(!1)}}return l<=0?w.jsxs(_s,{children:[w.jsx("h1",{className:fn.header,children:"Your cart is empty"}),w.jsxs("div",{className:fn.empty,children:[w.jsx("p",{children:"Please add items to your cart before proceeding to checkout."}),w.jsxs(ot,{to:"/",children:[" ",w.jsx("button",{className:fn.go,children:"Go shop"})," "]})]})]}):w.jsxs(_s,{children:[w.jsxs("h1",{className:fn.header,children:["Checkout (",l,") items"]}),w.jsxs("div",{className:fn.payment,children:[w.jsxs("div",{className:fn.address,children:[w.jsx("h3",{children:"Shipping addres"}),w.jsxs("div",{className:fn.place,children:[w.jsx("p",{children:"Addis Ababa"}),w.jsx("p",{children:"Ethiopia"}),w.jsx("p",{children:"Bole, Churchul square 02"}),w.jsx("p",{children:`At ${new Date().toLocaleString()}`})]})]}),w.jsxs("div",{className:fn.detail,children:[w.jsx("h3",{children:"Personal detail"}),w.jsxs("div",{className:fn.place,children:[w.jsx("p",{children:e==null?void 0:e.displayName}),w.jsx("p",{children:e==null?void 0:e.email})]})]}),w.jsxs("div",{className:fn.list_of_product,children:[w.jsx("h3",{children:"Review your cart"}),w.jsx("div",{className:fn.items,children:n==null?void 0:n.map(z=>w.jsx(cd,{...z,notextra:!0}))})]}),w.jsxs("form",{onSubmit:O,className:fn.pay,children:[w.jsx(yS,{className:fn.visa,options:N}),c&&w.jsx("small",{className:fn.error,children:c}),w.jsx("button",{disabled:!T||m,className:fn.submit,type:"submit",children:m?w.jsx(wg,{size:23,color:"#000"}):`Pay ${ud(a)}`})]})]})]})}const PL=EL("pk_test_51RTGF0R4tYiPiL5gfKsWKVhRRHZ8m2cALd5NJdwvAijE0zB1qOqXoUPhWhh6vXHUe3ZDgOYfwtVYKKD7GlfEx7Mn00NKCfs0Ge");function ML(){return w.jsx(w.Fragment,{children:w.jsx(Jw,{stripe:PL,children:w.jsx(NL,{})})})}function _S({children:n,message:e}){const[{user:t}]=J.useContext(Vr),i=Lr();return t?n:w.jsx(CC,{to:"/auth",state:{from:i,info:e},replace:!0})}function kL(){return w.jsx(w.Fragment,{children:w.jsxs(OC,{children:[w.jsx(di,{path:"/",element:w.jsx(G3,{})}),w.jsx(di,{path:"/product/:singleID",element:w.jsx(k6,{})}),w.jsx(di,{path:"/auth",element:w.jsx(t6,{})}),w.jsx(di,{path:"/cart",element:w.jsx(m6,{})}),w.jsx(di,{path:"/order",element:w.jsx(_S,{message:"You must log in to your account to access your orders!",children:w.jsx(A6,{})})}),w.jsx(di,{path:"/payment",element:w.jsx(_S,{message:"You must log in to your account to perform a payment!",children:w.jsx(ML,{})})}),w.jsx(di,{path:"/category/:name",element:w.jsx(x6,{})}),w.jsx(di,{path:"*",element:w.jsx(H6,{})})]})})}function LL(){const[{user:n},e]=J.useContext(Vr);return J.useEffect(()=>{xf.onAuthStateChanged(t=>{e(t?{type:Qt.SET_USER,user:t}:{type:Qt.SET_USER,user:null})})},[]),w.jsx(w.Fragment,{children:w.jsx(kL,{})})}const VL={basket:[],user:[]},UL=(n,e)=>{switch(e.type){case Qt.ADD_TO_CART:return n.basket.find(i=>i.id===e.item.id)?{...n,basket:n.basket.map(i=>i.id===e.item.id?{...i,amount:i.amount+1}:i)}:{...n,basket:[...n.basket,{...e.item,amount:1}]};case Qt.REMOVE_FROM_CART:return{...n,basket:n.basket.filter(t=>t.id!==e.item.id)};case Qt.INCREMENT_ITEM:return{...n,basket:n.basket.map(t=>t.id===e.item.id?{...t,amount:t.amount+1}:t)};case Qt.DECREMENT_ITEM:return{...n,basket:n.basket.map(t=>t.id===e.item.id?{...t,amount:t.amount>1?t.amount-1:1}:t)};case Qt.SET_USER:return{...n,user:e.user};case Qt.EMPTY_BASKET:return{...n,basket:[]};default:return n}};VR.createRoot(document.getElementById("root")).render(w.jsx(J.StrictMode,{children:w.jsx(ZC,{basename:"/amazon-clone/",children:w.jsx(dO,{inialState:VL,reducer:UL,children:w.jsx(LL,{})})})}));
